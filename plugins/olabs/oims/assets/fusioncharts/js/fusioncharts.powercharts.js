(function(factory){if(typeof module==="object"&&typeof module.exports!=="undefined"){module.exports=factory}else{factory()}})(function(){if(arguments.length){setTimeout(function(){throw new Error("A deprecated way of resolving FusionCharts as a dependency is detected. Please use FusionCharts.addDep instead. For more information, please visit https://www.fusioncharts.com/dev/getting-started/plain-javascript/install-using-plain-javascript#install-fusioncharts-via-npm-5")},0)}(window["webpackJsonpFusionCharts"]=window["webpackJsonpFusionCharts"]||[]).push([[3],{463:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.DragArea=exports.TreeMap=exports.Radar=exports.HeatMap=exports.BoxAndWhisker2D=exports.CandleStick=exports.DragNode=exports.MSStepLine=exports.MultiAxisLine=exports.MultilevelPie=exports.SelectScatter=exports.WaterFall2D=exports.Kagi=exports.Dragline=exports.Dragcolumn2d=exports.Inversemsline=exports.Inversemscolumn2d=exports.Inversemsarea=exports.Errorscatter=exports.Errorline=exports.Errorbar2d=exports.Mssplinearea=exports.Msspline=exports.MSSplineDy=exports.Splinearea=exports.Logmsline=exports.LogStackedColumn2d=exports.Logmscolumn2d=exports.Spline=undefined;var _spline=__webpack_require__(458);var _spline2=_interopRequireDefault(_spline);var _logmscolumn2d=__webpack_require__(464);var _logmscolumn2d2=_interopRequireDefault(_logmscolumn2d);var _logmsline=__webpack_require__(470);var _logmsline2=_interopRequireDefault(_logmsline);var _logstackedcolumn2d=__webpack_require__(471);var _logstackedcolumn2d2=_interopRequireDefault(_logstackedcolumn2d);var _splinearea=__webpack_require__(459);var _splinearea2=_interopRequireDefault(_splinearea);var _msspline=__webpack_require__(460);var _msspline2=_interopRequireDefault(_msspline);var _mssplinedy=__webpack_require__(461);var _mssplinedy2=_interopRequireDefault(_mssplinedy);var _mssplinearea=__webpack_require__(462);var _mssplinearea2=_interopRequireDefault(_mssplinearea);var _errorbar2d=__webpack_require__(472);var _errorbar2d2=_interopRequireDefault(_errorbar2d);var _errorline=__webpack_require__(475);var _errorline2=_interopRequireDefault(_errorline);var _errorscatter=__webpack_require__(479);var _errorscatter2=_interopRequireDefault(_errorscatter);var _inversemsarea=__webpack_require__(483);var _inversemsarea2=_interopRequireDefault(_inversemsarea);var _inversemscolumn2d=__webpack_require__(484);var _inversemscolumn2d2=_interopRequireDefault(_inversemscolumn2d);var _inversemsline=__webpack_require__(485);var _inversemsline2=_interopRequireDefault(_inversemsline);var _dragcolumn2d=__webpack_require__(486);var _dragcolumn2d2=_interopRequireDefault(_dragcolumn2d);var _dragline=__webpack_require__(495);var _dragline2=_interopRequireDefault(_dragline);var _kagi=__webpack_require__(501);var _kagi2=_interopRequireDefault(_kagi);var _waterfall2d=__webpack_require__(502);var _waterfall2d2=_interopRequireDefault(_waterfall2d);var _selectscatter=__webpack_require__(507);var _selectscatter2=_interopRequireDefault(_selectscatter);var _multilevelpie=__webpack_require__(510);var _multilevelpie2=_interopRequireDefault(_multilevelpie);var _multiaxisline=__webpack_require__(514);var _multiaxisline2=_interopRequireDefault(_multiaxisline);var _msstepline=__webpack_require__(544);var _msstepline2=_interopRequireDefault(_msstepline);var _dragnode=__webpack_require__(547);var _dragnode2=_interopRequireDefault(_dragnode);var _candlestick=__webpack_require__(556);var _candlestick2=_interopRequireDefault(_candlestick);var _boxandwhisker2d=__webpack_require__(567);var _boxandwhisker2d2=_interopRequireDefault(_boxandwhisker2d);var _heatmap=__webpack_require__(575);var _heatmap2=_interopRequireDefault(_heatmap);var _radar=__webpack_require__(587);var _radar2=_interopRequireDefault(_radar);var _treemap=__webpack_require__(599);var _treemap2=_interopRequireDefault(_treemap);var _dragarea=__webpack_require__(500);var _dragarea2=_interopRequireDefault(_dragarea);var _crosslineAdapter=__webpack_require__(248);var _crosslineAdapter2=_interopRequireDefault(_crosslineAdapter);var _multicanvasCrosslineManager=__webpack_require__(252);var _multicanvasCrosslineManager2=_interopRequireDefault(_multicanvasCrosslineManager);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.Spline=_spline2["default"];exports.Logmscolumn2d=_logmscolumn2d2["default"];exports.LogStackedColumn2d=_logstackedcolumn2d2["default"];exports.Logmsline=_logmsline2["default"];exports.Splinearea=_splinearea2["default"];exports.MSSplineDy=_mssplinedy2["default"];exports.Msspline=_msspline2["default"];exports.Mssplinearea=_mssplinearea2["default"];exports.Errorbar2d=_errorbar2d2["default"];exports.Errorline=_errorline2["default"];exports.Errorscatter=_errorscatter2["default"];exports.Inversemsarea=_inversemsarea2["default"];exports.Inversemscolumn2d=_inversemscolumn2d2["default"];exports.Inversemsline=_inversemsline2["default"];exports.Dragcolumn2d=_dragcolumn2d2["default"];exports.Dragline=_dragline2["default"];exports.Kagi=_kagi2["default"];exports.WaterFall2D=_waterfall2d2["default"];exports.SelectScatter=_selectscatter2["default"];exports.MultilevelPie=_multilevelpie2["default"];exports.MultiAxisLine=_multiaxisline2["default"];exports.MSStepLine=_msstepline2["default"];exports.DragNode=_dragnode2["default"];exports.CandleStick=_candlestick2["default"];exports.BoxAndWhisker2D=_boxandwhisker2d2["default"];exports.HeatMap=_heatmap2["default"];exports.Radar=_radar2["default"];exports.TreeMap=_treemap2["default"];exports.DragArea=_dragarea2["default"];exports["default"]={name:"powercharts",type:"package",requiresFusionCharts:true,extension:function extension(FusionCharts){FusionCharts.addDep(_crosslineAdapter2["default"]);FusionCharts.addDep(_multicanvasCrosslineManager2["default"]);FusionCharts.addDep(_spline2["default"]);FusionCharts.addDep(_logmscolumn2d2["default"]);FusionCharts.addDep(_logstackedcolumn2d2["default"]);FusionCharts.addDep(_logmsline2["default"]);FusionCharts.addDep(_splinearea2["default"]);FusionCharts.addDep(_mssplinedy2["default"]);FusionCharts.addDep(_msspline2["default"]);FusionCharts.addDep(_mssplinearea2["default"]);FusionCharts.addDep(_errorbar2d2["default"]);FusionCharts.addDep(_errorline2["default"]);FusionCharts.addDep(_errorscatter2["default"]);FusionCharts.addDep(_inversemsarea2["default"]);FusionCharts.addDep(_inversemscolumn2d2["default"]);FusionCharts.addDep(_inversemsline2["default"]);FusionCharts.addDep(_dragcolumn2d2["default"]);FusionCharts.addDep(_dragline2["default"]);FusionCharts.addDep(_kagi2["default"]);FusionCharts.addDep(_waterfall2d2["default"]);FusionCharts.addDep(_selectscatter2["default"]);FusionCharts.addDep(_multilevelpie2["default"]);FusionCharts.addDep(_multiaxisline2["default"]);FusionCharts.addDep(_msstepline2["default"]);FusionCharts.addDep(_dragnode2["default"]);FusionCharts.addDep(_candlestick2["default"]);FusionCharts.addDep(_boxandwhisker2d2["default"]);FusionCharts.addDep(_heatmap2["default"]);FusionCharts.addDep(_radar2["default"]);FusionCharts.addDep(_treemap2["default"]);FusionCharts.addDep(_dragarea2["default"])}}},464:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _mslog=__webpack_require__(465);var _mslog2=_interopRequireDefault(_mslog);var _column=__webpack_require__(402);var _column2=_interopRequireDefault(_column);var _column3=__webpack_require__(331);var _column4=_interopRequireDefault(_column3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var LogMSColumn2d=function(_MSLog){_inherits(LogMSColumn2d,_MSLog);function LogMSColumn2d(){_classCallCheck(this,LogMSColumn2d);return _possibleConstructorReturn(this,_MSLog.apply(this,arguments))}LogMSColumn2d.getName=function getName(){return"LogMSColumn2d"};LogMSColumn2d.prototype.getName=function getName(){return"LogMSColumn2d"};LogMSColumn2d.prototype.__setDefaultConfig=function __setDefaultConfig(){_MSLog.prototype.__setDefaultConfig.call(this);var config=this.config;config.friendlyName="Multi-series Log Column Chart";config.defaultDatasetType="column";config.enablemousetracking=true};LogMSColumn2d.prototype.getDSGroupdef=function getDSGroupdef(){return _column2["default"]};LogMSColumn2d.prototype.getDSdef=function getDSdef(){return _column4["default"]};return LogMSColumn2d}(_mslog2["default"]);exports["default"]=LogMSColumn2d},465:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _mscartesian=__webpack_require__(354);var _mscartesian2=_interopRequireDefault(_mscartesian);var _logAxis=__webpack_require__(466);var _logAxis2=_interopRequireDefault(_logAxis);var _lib=__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var MsLog=function(_MSCartesian){_inherits(MsLog,_MSCartesian);function MsLog(){_classCallCheck(this,MsLog);var _this=_possibleConstructorReturn(this,_MSCartesian.call(this));_this.registerFactory("axis",_logAxis2["default"],["canvas"]);return _this}MsLog.getName=function getName(){return"MsLog"};MsLog.prototype._feedAxesRawData=function _feedAxesRawData(){var iapi=this,dataObj=iapi.getFromEnv("dataSource"),chartAttrs=iapi.getFromEnv("chart-attrib"),xAxisConf,yAxisConf;xAxisConf=iapi.getSpecificxAxisConf();yAxisConf=iapi.getSpecificyAxisConf();if(yAxisConf.base==="1"){yAxisConf.base=10;yAxisConf.logBase=10}yAxisConf.minorDivlinecolor=(0,_lib.pluck)(chartAttrs.minordivlinecolor,yAxisConf.divLineColor);yAxisConf.minorDivLineThickness=(0,_lib.pluck)(chartAttrs.minordivlinethickness,1);yAxisConf.minorDivLineAlpha=(0,_lib.pluck)(chartAttrs.minordivlinealpha,yAxisConf.divLineAlpha/2);xAxisConf.vtrendlines=dataObj.vtrendlines;yAxisConf.trendlines=dataObj.trendlines;return{yAxisConf:[yAxisConf],xAxisConf:[xAxisConf]}};MsLog.prototype.getSpecificxAxisConf=function getSpecificxAxisConf(){var iapi=this,chartAttrs=iapi.getFromEnv("chart-attrib"),xAxisConf=iapi.getBasexAxisConf();xAxisConf.showZeroPlane=chartAttrs.showvzeroplane;xAxisConf.zeroPlaneThickness=chartAttrs.vzeroplanethickness;xAxisConf.zeroPlaneAlpha=chartAttrs.vzeroplanealpha;xAxisConf.showAxisLine=(0,_lib.pluckNumber)(chartAttrs.showxaxisline,chartAttrs.showaxislines,chartAttrs.drawAxisLines,0);xAxisConf.axisLineColor=(0,_lib.pluck)(chartAttrs.xaxislinecolor,chartAttrs.axislinecolor,"#000000");xAxisConf.isReverse=false;xAxisConf.showAlternateGridColor=(0,_lib.pluckNumber)(chartAttrs.showalternatevgridcolor,0);xAxisConf.numDivLines=chartAttrs.numvdivlines;xAxisConf.maxLabelHeight=chartAttrs.maxlabelheight;xAxisConf.axisName=chartAttrs.xaxisname;xAxisConf.setAdaptiveMin=chartAttrs.setadaptivexmin;xAxisConf.showLimits=chartAttrs.showvlimits;xAxisConf.showDivLineValues=(0,_lib.pluckNumber)(chartAttrs.showvdivlinevalues,chartAttrs.showvdivlinevalues);return xAxisConf};MsLog.prototype.getSpecificyAxisConf=function getSpecificyAxisConf(){var iapi=this,chartAttrs=iapi.getFromEnv("chart-attrib"),is3D=iapi.config.is3D,palleteString=is3D?_lib.chartPaletteStr.chart3D:_lib.chartPaletteStr.chart2D,invertYAxis=!!(0,_lib.pluckNumber)(chartAttrs.invertyaxis,0),colorM=iapi.getFromEnv("color-manager");return{isVertical:true,isReverse:!invertYAxis,isOpposit:false,outCanfontFamily:(0,_lib.pluck)(chartAttrs.outcnvbasefont,chartAttrs.basefont,"Verdana,sans"),outCanfontSize:(0,_lib.pluckFontSize)(chartAttrs.outcnvbasefontsize,chartAttrs.basefontsize,10),outCancolor:(0,_lib.pluck)(chartAttrs.outcnvbasefontcolor,chartAttrs.basefontcolor,colorM.getColor(palleteString.baseFontColor)).replace(/^#? ([a-f0-9]+)/gi,"#$1"),axisNamePadding:chartAttrs.yaxisnamepadding,axisValuePadding:chartAttrs.yaxisvaluespadding,axisNameFont:chartAttrs.yaxisnamefont,axisNameFontSize:chartAttrs.yaxisnamefontsize,axisNameFontColor:chartAttrs.yaxisnamefontcolor,axisNameFontBold:chartAttrs.yaxisnamefontbold,axisNameFontItalic:chartAttrs.yaxisnamefontitalic,axisNameBgColor:chartAttrs.yaxisnamebgcolor,axisNameBorderColor:chartAttrs.yaxisnamebordercolor,axisNameAlpha:chartAttrs.yaxisnamealpha,axisNameFontAlpha:chartAttrs.yaxisnamefontalpha,axisNameBgAlpha:chartAttrs.yaxisnamebgalpha,axisNameBorderAlpha:chartAttrs.yaxisnameborderalpha,axisNameBorderPadding:chartAttrs.yaxisnameborderpadding,axisNameBorderRadius:chartAttrs.yaxisnameborderradius,axisNameBorderThickness:chartAttrs.yaxisnameborderthickness,axisNameBorderDashed:chartAttrs.yaxisnameborderdashed,axisNameBorderDashLen:chartAttrs.yaxisnameborderdashlen,axisNameBorderDashGap:chartAttrs.yaxisnameborderdashgap,axisNameWidth:chartAttrs.yaxisnamewidth,useEllipsesWhenOverflow:chartAttrs.useellipseswhenoverflow,rotateAxisName:(0,_lib.pluckNumber)(chartAttrs.rotateyaxisname,1),axisName:chartAttrs.yaxisname,divLineColor:(0,_lib.pluck)(chartAttrs.divlinecolor,colorM.getColor(palleteString.divLineColor)),divLineAlpha:(0,_lib.pluck)(chartAttrs.divlinealpha,colorM.getColor("divLineAlpha")),divLineThickness:(0,_lib.pluckNumber)(chartAttrs.divlinethickness,2),divLineIsDashed:Boolean((0,_lib.pluckNumber)(chartAttrs.divlinedashed,chartAttrs.divlineisdashed,0)),divLineDashLen:(0,_lib.pluckNumber)(chartAttrs.divlinedashlen,4),divLineDashGap:(0,_lib.pluckNumber)(chartAttrs.divlinedashgap,2),showAlternateGridColor:(0,_lib.pluckNumber)(chartAttrs.showalternatehgridcolor,1),alternateGridColor:(0,_lib.pluck)(chartAttrs.alternatehgridcolor,colorM.getColor("altHGridColor")),alternateGridAlpha:(0,_lib.pluck)(chartAttrs.alternatehgridalpha,colorM.getColor("altHGridAlpha")),numDivLines:chartAttrs.numdivlines,axisMinValue:chartAttrs.yaxisminvalue,axisMaxValue:chartAttrs.yaxismaxvalue,setAdaptiveMin:chartAttrs.setadaptiveymin,adjustDiv:chartAttrs.adjustdiv,labelStep:chartAttrs.yaxisvaluesstep,showAxisValues:(0,_lib.pluckNumber)(chartAttrs.showyaxisvalues,chartAttrs.showyaxisvalue),showLimits:(0,_lib.pluckNumber)(chartAttrs.showyaxislimits,chartAttrs.showlimits,iapi.showLimits),showDivLineValues:(0,_lib.pluckNumber)(chartAttrs.showdivlinevalues,chartAttrs.showdivlinevalue),showZeroPlane:chartAttrs.showzeroplane,zeroPlaneColor:chartAttrs.zeroplanecolor,zeroPlaneThickness:chartAttrs.zeroplanethickness,zeroPlaneAlpha:chartAttrs.zeroplanealpha,showZeroPlaneValue:chartAttrs.showzeroplanevalue,trendlineColor:chartAttrs.trendlinecolor,trendlineToolText:chartAttrs.trendlinetooltext,trendlineThickness:chartAttrs.trendlinethickness,trendlineAlpha:chartAttrs.trendlinealpha,showTrendlinesOnTop:chartAttrs.showtrendlinesontop,showAxisLine:(0,_lib.pluckNumber)(chartAttrs.showyaxisline,chartAttrs.showaxislines,chartAttrs.drawAxisLines,0),axisLineThickness:(0,_lib.pluckNumber)(chartAttrs.yaxislinethickness,chartAttrs.axislinethickness,1),axisLineAlpha:(0,_lib.pluckNumber)(chartAttrs.yaxislinealpha,chartAttrs.axislinealpha,100),base:chartAttrs.base,logBase:chartAttrs.logbase,axisLineColor:(0,_lib.pluck)(chartAttrs.yaxislinecolor,chartAttrs.axislinecolor,"#000000"),showMinorDivLineValues:(0,_lib.pluckNumber)(chartAttrs.showminordivlinevalues,0),numMinorDivLines:chartAttrs.numminordivlines}};return MsLog}(_mscartesian2["default"]);exports["default"]=MsLog},466:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=function(chart){var canvas=chart.getChildren("canvas")[0],axisRefVisualCartesian=canvas.getChildren("axisRefVisualCartesian")[0],zoomObj={zoomable:true,pannable:true},config=chart._feedAxesRawData(),yAxis=void 0,xAxis=void 0,redraw=function redraw(){return axisRefVisualCartesian.asyncDraw()};(0,_lib.componentFactory)(chart,_log2["default"],"yAxis",1,config.yAxisConf);(0,_lib.componentFactory)(chart,_category2["default"],"xAxis",1,config.xAxisConf);yAxis=chart.getChildren("yAxis")[0];xAxis=chart.getChildren("xAxis")[0];yAxis.setLinkedItem("canvas",canvas);xAxis.setLinkedItem("canvas",canvas);axisRefVisualCartesian.setLinkedItem(yAxis.getId(),yAxis);axisRefVisualCartesian.setLinkedItem(xAxis.getId(),xAxis);axisRefVisualCartesian.addExtEventListener("visiblerangeset",redraw,xAxis);axisRefVisualCartesian.addExtEventListener("visiblerangeset",redraw,yAxis);canvas.attachAxis(xAxis,false,chart.zoomX?zoomObj:{});canvas.attachAxis(yAxis,true,chart.zoomY?zoomObj:{});chart._setCategories()};var _lib=__webpack_require__(118);var _log=__webpack_require__(467);var _log2=_interopRequireDefault(_log);var _category=__webpack_require__(321);var _category2=_interopRequireDefault(_category);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}},467:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _cartesian=__webpack_require__(294);var _cartesian2=_interopRequireDefault(_cartesian);var _log=__webpack_require__(468);var _log2=_interopRequireDefault(_log);var _diff=__webpack_require__(298);var _diff2=_interopRequireDefault(_diff);var _pair=__webpack_require__(469);var _pair2=_interopRequireDefault(_pair);var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _commonApi=__webpack_require__(301);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var validate=function validate(param){if(param===null||param===_lib.UNDEF||param===""||isNaN(param)){return false}else{return true}},queryOptions={wrtVisible:true},POSITION_START=_lib.preDefStr.POSITION_START,POSITION_TOP=_lib.preDefStr.POSITION_TOP,POSITION_BOTTOM=_lib.preDefStr.POSITION_BOTTOM,POSITION_END=_lib.preDefStr.POSITION_END,LABEL_ID="_label",logTicksMerge=function logTicksMerge(){var majorTickArr=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var minorTickArr=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];if(majorTickArr.length===0)return[];var majorArrlen=majorTickArr.length,minorArrLen=minorTickArr.length,k=majorArrlen-1,l=minorArrLen-1,mergedArr=[majorTickArr[k]];k--;while(k>=0){if(minorTickArr[l]>majorTickArr[k]){mergedArr.push(minorTickArr[l]);l--}else{mergedArr.push(majorTickArr[k]);k--}}return mergedArr};var LogAxis=function(_CartesianAxis){_inherits(LogAxis,_CartesianAxis);function LogAxis(){_classCallCheck(this,LogAxis);var _this=_possibleConstructorReturn(this,_CartesianAxis.call(this));_this.config.scale=new _log2["default"];_this.config.labelMap=[];return _this}LogAxis.prototype.__setDefaultConfig=function __setDefaultConfig(){_CartesianAxis.prototype.__setDefaultConfig.call(this);var config=this.config;config.base=10;config.showMinorDivLineValues=1;config.numMinorDivLines=_lib.UNDEF};LogAxis.prototype.getName=function getName(){return"log"};LogAxis.prototype.configureAttributes=function configureAttributes(rawAttr){var axis=this,axisConfig=axis.config,numberFormatter=axis.getFromEnv("number-formatter"),colorM=axis.getFromEnv("color-manager"),axisAttr;_CartesianAxis.prototype.configureAttributes.call(this,rawAttr);axisAttr=axisConfig.rawAttr;axisConfig.minorDivlinecolor=(0,_libGraphics.convertColor)((0,_lib.pluck)(axisAttr.minorDivlinecolor,colorM.getColor("divLineColor")),(0,_lib.pluckNumber)(axisAttr.minorDivLineAlpha,colorM.getColor("divLineAlpha")/2));axisConfig.axisMinValue=numberFormatter.getCleanValue(axisAttr.axisMinValue);axisConfig.axisMaxValue=numberFormatter.getCleanValue(axisAttr.axisMaxValue);axisConfig.minorTicks=[];if(axisConfig.axisMinValue<=0){axisConfig.axisMinValue=_lib.UNDEF}if(axisConfig.axisMaxValue<=0){axisConfig.axisMaxValue=_lib.UNDEF}axis.getScale().setBase(axisConfig.base);axisConfig.minorDivLineThickness=(0,_lib.pluckNumber)(axisAttr.minorDivLineThickness,1);axisConfig.band.isDraw=0};LogAxis.prototype.generateTicks=function generateTicks(){var ticks=this.getScale().ticks();this.config._allTicks=ticks.slice();return ticks};LogAxis.prototype.generateMinorTicks=function generateMinorTicks(){var axis=this,axisConfig=axis.config,base=axisConfig.base,tickPairs=(0,_pair2["default"])(axisConfig.ticks),i=void 0,minorTicks=[],baseWithRespectTo10=Math.log(base)/Math.log(10),numMinorDivLines=Number(axisConfig.numMinorDivLines)||baseWithRespectTo10%1?4:8,d=base>1?-1:1,maxLogY=void 0,subInterval=void 0,slabInterval=void 0,divLineValue=void 0;tickPairs.forEach(function(_ref){var min=_ref[0],max=_ref[1];if(base>1){maxLogY=Math.ceil(Math.log(max)/Math.log(base))}else if(base>0&&base<1){maxLogY=Math.floor(Math.log(max)/Math.log(base))}slabInterval=Math.pow(base,maxLogY)-Math.pow(base,maxLogY+d);subInterval=slabInterval/(numMinorDivLines+1);for(i=1;i<=numMinorDivLines;++i){divLineValue=Math.pow(base,maxLogY+d)+subInterval*i;if(min<=divLineValue&&max>=divLineValue){minorTicks.push(divLineValue)}}});return minorTicks};LogAxis.prototype._setAxisRange=function _setAxisRange(_ref2){var _ref2$min=_ref2.min,min=_ref2$min===undefined?.1:_ref2$min,_ref2$max=_ref2.max,max=_ref2$max===undefined?1:_ref2$max;var scale=this.getScale().setDomain([min,max]).nice(),axisConfig=this.config,axisRange=axisConfig.axisRange;axisConfig.ticks=this.generateTicks();axisConfig.minorTicks=this.generateMinorTicks();var _scale$getDomain=scale.getDomain();min=_scale$getDomain[0];max=_scale$getDomain[1];axisRange.max=max;axisRange.min=min;this.setVisibleConfig(min,max)};LogAxis.prototype.setDataLimit=function setDataLimit(max,min){var axis=this,axisConfig=axis.config,AxisMaxValue=axisConfig.axisMaxValue,AxisMinValue=axisConfig.axisMinValue,trendMin,trendMax;if(validate(AxisMinValue)&&Number(AxisMinValue)<=min){min=AxisMinValue}if(validate(AxisMaxValue)&&Number(AxisMaxValue)>=max){max=AxisMaxValue}if(min===0){min=1}if(max===0){max=axisConfig.base}var _axis$getTrendLineLim=axis.getTrendLineLimits();trendMin=_axis$getTrendLineLim[0];trendMax=_axis$getTrendLineLim[1];var _extent=(0,_lib.extent)([trendMin,trendMax,min,max],function(a){return Number(a)});min=_extent[0];max=_extent[1];this._setAxisRange({min:min,max:max})};LogAxis.prototype._parseLabel=function _parseLabel(){var axis=this,axisConfig=axis.config,chart=axis.getFromEnv("chart"),chartConfig=chart.config,axisRange=axisConfig.axisRange,isOpposit=axisConfig.isOpposit,increment,labels=axisConfig.labels,style=labels.style,i,isVertical=axisConfig.isVertical,max=axisRange.max,min=axisRange.min,canvasBottom=chartConfig.canvasBottom,canvasLeft=chartConfig.canvasLeft,canvasRight=chartConfig.canvasRight,canvasTop=chartConfig.canvasTop,axisPadding=axisConfig.labelPadding,numberFormatter=axis.getFromEnv("number-formatter"),axisValueMaxH=axisConfig.labelMaxH,axisValueMaxW=axisConfig.labelMaxW,axisStartPosition=axisConfig.axisStartPosition,text,getLimit,labelRotation,labelLineHeight,numberFormatterFn,addCategoryPadding,axisAttrObj,allTicks,ticksLen,tickVal,tickInPx,prevPos,labelMaxProp,labelArr,axisComp=axis.components,minorTicks=axisConfig.minorTicks,checkForLimit;if(style.lineHeight){labelLineHeight=style.lineHeight;if(labelLineHeight.indexOf("px")!==-1){labelLineHeight=labelLineHeight.replace("px","");labelLineHeight=parseFloat(labelLineHeight)}}if(axisConfig.labels.isDraw){checkForLimit=axis.getZoom()!==1;labelArr=axisComp.labels;axisConfig.labels.step?increment=axisRange.tickInterval*axisConfig.labels.step:increment=axisRange.tickInterval;labelRotation=axisConfig.labels.rotation;getLimit=this.getVisibleConfig();axisComp.labelIndexArr=[];axisConfig.allTicks=allTicks=logTicksMerge(axisConfig.ticks,axisConfig.minorTicks);labelMaxProp=isVertical?axisValueMaxH:axisValueMaxW;ticksLen=allTicks.length;for(i=0;i<ticksLen;i++){tickVal=allTicks[i];tickInPx=axis.getPixel(tickVal,queryOptions);if(minorTicks.indexOf(tickVal)>=0&&!axisConfig.showMinorDivLineValues){continue}if(prevPos){if(tickInPx>prevPos-labelMaxProp&&tickInPx<prevPos+labelMaxProp){continue}}if(checkForLimit&&(tickVal<getLimit.minValue||tickVal>getLimit.maxValue)){continue}if(!axisConfig.labels.drawNormalVal&&!(axisConfig.labels.drawLimitVal&&(tickVal===min||tickVal===max))){continue}if(!axisConfig.labels.drawNormalVal&&!(tickVal===min||tickVal===max)){continue}if(!axisConfig.labels.drawLimitVal&&(tickVal===min||tickVal===max)){continue}if(axisConfig.showZeroPlaneValue===0&&axisConfig.showZeroPlane===0&&tickVal===0){continue}if(axisConfig.showZeroPlane===1&&axisConfig.showZeroPlaneValue===1&&(tickVal<0&&tickVal+increment>0||tickVal>0&&tickVal-increment<0)){if(isVertical){if(tickInPx+axisValueMaxH>=axis.getPixel(0,queryOptions)&&axis.getPixel(0,queryOptions)>=tickInPx-axisValueMaxH){continue}}else{if(tickInPx+axisValueMaxW>=axis.getPixel(0,queryOptions)&&axis.getPixel(0,queryOptions)>=tickInPx-axisValueMaxW){continue}}}axisAttrObj={fill:style.color,"font-size":style.fontSize};if(isVertical){if(axisConfig.numberFormatterFn){numberFormatterFn=numberFormatter[axisConfig.numberFormatterFn]}else if(axisConfig.isPercent){numberFormatterFn=numberFormatter.percentValue}else{numberFormatterFn=numberFormatter.yAxis}text=""+numberFormatterFn.call(numberFormatter,tickVal);addCategoryPadding=axisConfig.hasCategory?axisConfig.categories.category[i].labelPadding||0:0;axisAttrObj["text-anchor"]=isOpposit?POSITION_START:POSITION_END;axisAttrObj.text=text;axisAttrObj.x=isOpposit?(axisStartPosition||canvasRight)+axisPadding:(axisStartPosition||canvasLeft)-axisPadding;axisAttrObj.y=addCategoryPadding?tickInPx+addCategoryPadding:tickInPx;prevPos=axisAttrObj.y}else{if(axisConfig.numberFormatterFn){numberFormatterFn=numberFormatter[axisConfig.numberFormatterFn]}else if(axisConfig.isPercent){numberFormatterFn=numberFormatter.percentValue}else{numberFormatterFn=numberFormatter.xAxis}text=""+numberFormatterFn.call(numberFormatter,tickVal);addCategoryPadding=axisConfig.hasCategory?Number(axisConfig.categories.category[i].labelPadding)||0:0;axisAttrObj.text=text;axisAttrObj.x=tickInPx;axisAttrObj.y=isOpposit?(axisStartPosition||canvasTop)-axisPadding:(axisStartPosition||canvasBottom)+axisPadding;if(addCategoryPadding){axisAttrObj.y+=addCategoryPadding}if(labelRotation){axisAttrObj["text-anchor"]=isOpposit?POSITION_START:POSITION_END;axisAttrObj["vertical-align"]="middle"}else{axisAttrObj["vertical-align"]=isOpposit?POSITION_BOTTOM:POSITION_TOP}prevPos=axisAttrObj.x}if(labels.shiftX){axisAttrObj.x+=labels.shiftX}if(labels.shiftY){axisAttrObj.y+=labels.shiftY}axisAttrObj.transform=(0,_lib.getSuggestiveRotation)(labelRotation,axisAttrObj.x,axisAttrObj.y);axisComp.labelIndexArr.push(i);labelArr[i]=labelArr[i]||{config:{props:{label:{}}}};labelArr[i].config.props.label.attr=axisAttrObj;labelArr[i].config.props.label.css=text.css;labelArr[i].config.value=tickVal}}};LogAxis.prototype._drawLabel=function _drawLabel(){var axis=this,axisConfig=axis.config,animationManager=axis.getFromEnv("animationManager"),labels=axisConfig.labels,style=labels.style,i,j,axisContainer=axisConfig.axisContainer,id,mapArr=[],removeElementsArr,removeElem,textElement,axisComp=axis.components,labelIndexArr=axisComp.labelIndexArr,css={fontFamily:style.fontFamily,fontSize:style.fontSize,fontWeight:style.fontWeight,fontStyle:style.fontStyle,lineHeight:style.lineHeight},labelArrLen,ticksVal,labelArr,removeElements=function removeElements(arrOfId){for(i=0;i<arrOfId.length;++i){removeElem=axis.getGraphicalElement(arrOfId[i]);removeElem&&axis.removeGraphicalElement(removeElem)}};if(axisConfig.labels.isDraw){labelArr=axisComp.labels;axisContainer.css(css);labelArrLen=labelIndexArr.length;for(j=0;j<labelArrLen;j++){i=labelIndexArr[j];ticksVal=labelArr[i].config.value;id=ticksVal+LABEL_ID;textElement=axis.getGraphicalElement(id);mapArr.push(id);textElement=this.addGraphicalElement(id,animationManager.setAnimation({container:axisContainer,el:textElement||"text",attr:labelArr[i].config.props.label.attr,data:{value:ticksVal},component:this,label:"text",css:labelArr[i].config.props.label.css}))}removeElementsArr=(0,_diff2["default"])(axisConfig.labelMap,mapArr)}else{removeElementsArr=axisConfig.labelMap}axisConfig.labelMap=mapArr;removeElements(removeElementsArr)};LogAxis.prototype._getVMaxLabelDimention=function _getVMaxLabelDimention(){var axis=this,axisConfig=axis.config,chart=axis.getFromEnv("chart"),smartLabel=axis.getFromEnv("smartLabel"),numberFormatter=axis.getFromEnv("number-formatter"),labelStyle=axisConfig.labels.style,maxTextSize=0,divArr,divArrLen,maxTextDim,i,text,dimention,numberFormatterFn,curDiv;smartLabel.useEllipsesOnOverflow(chart.config.useEllipsesWhenOverflow);smartLabel.setStyle({fontSize:labelStyle.fontSize,fontFamily:labelStyle.fontFamily,lineHeight:labelStyle.lineHeight,fontWeight:labelStyle.fontWeight});if(axisConfig.isPercent){numberFormatterFn=numberFormatter.percentValue}else{numberFormatterFn=numberFormatter.xAxis}axisConfig.allTicks=divArr=logTicksMerge(axisConfig.ticks,axisConfig.minorTicks);divArrLen=divArr.length;for(i=0;i<divArrLen;i++){curDiv=divArr[i];text=""+numberFormatterFn.call(numberFormatter,curDiv);dimention=smartLabel.getOriSize(text);axis.components.labels[i]={config:{width:dimention.width,height:dimention.height,props:{label:{}}}};if(text.length>maxTextSize){maxTextDim=dimention;maxTextSize=text.length}}return maxTextDim};LogAxis.prototype._getHMaxLabelDimention=function _getHMaxLabelDimention(){return this._getVMaxLabelDimention()};LogAxis.prototype.getCleanValue=function getCleanValue(num){var axis=this,value=null;num=Math.abs(num);if(num>0){value=axis.getFromEnv("number-formatter").getCleanValue(num)}return value};return LogAxis}(_cartesian2["default"]);LogAxis.prototype.getTrendLineLimits=_commonApi.getTrendLineLimits;exports["default"]=LogAxis},468:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _constant=__webpack_require__(317);var _constant2=_interopRequireDefault(_constant);var _continuous=__webpack_require__(315);var _continuous2=_interopRequireDefault(_continuous);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var deinterpolate=function deinterpolate(min,max){return(max=Math.log(max/min))?function(ratio){return Math.log(ratio/min)/max}:(0,_constant2["default"])(max)},reinterpolate=function reinterpolate(min,max){return min<0?function(ratio){return-Math.pow(-max,ratio)*Math.pow(-min,1-ratio)}:function(ratio){return Math.pow(max,ratio)*Math.pow(min,1-ratio)}},pow10=function pow10(x){if(isFinite(x)){return+("1e"+x)}else if(x<0){return 0}else{return x}},powp=function powp(base){if(base===10){return pow10}else if(base===Math.E){return Math.exp}else{return function(x){return Math.pow(base,x)}}},logp=function logp(base){if(base===Math.E){return Math.log}else if(base===10){return Math.log10}else if(base===2){return Math.log2}else{return function(x){return Math.log(x)/Math.log(base)}}},reflect=function reflect(f){return function(x){return-f(-x)}};var ScaleLog=function(_ScaleContinuous){_inherits(ScaleLog,_ScaleContinuous);function ScaleLog(){var _this;_classCallCheck(this,ScaleLog);(_this=_possibleConstructorReturn(this,_ScaleContinuous.call(this,deinterpolate,reinterpolate)),_this).setDomain([1,10]);_this.base=10;_this.logs=logp(_this.base);_this.pows=powp(_this.base);return _this}ScaleLog.prototype._rescaleLog=function _rescaleLog(){this.logs=logp(this.base);this.pows=powp(this.base);if(this.getDomain()[0]<0){this.logs=reflect(this.logs);this.pows=reflect(this.pows)}return this};ScaleLog.prototype.setBase=function setBase(){var base=arguments.length>0&&arguments[0]!==undefined?arguments[0]:10;this.base=Number(base);return this._rescaleLog()};ScaleLog.prototype.getBase=function getBase(){return this.base};ScaleLog.prototype.setDomain=function setDomain(){var domain=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[1,10];_ScaleContinuous.prototype.setDomain.call(this,domain);return this._rescaleLog()};ScaleLog.prototype.nice=function nice(){var _getDomain=this.getDomain(),val1=_getDomain[0],val2=_getDomain[1],base=this.base,minLog,maxLog;if(val1===val2){val1-=val1/100}minLog=Math.log(val1)/Math.log(base);maxLog=Math.log(val2)/Math.log(base);if(minLog%1||maxLog%1){if(val1<=val2){val1=this.pows(Math.floor(minLog));val2=this.pows(Math.ceil(maxLog))}else{val1=this.pows(Math.ceil(minLog));val2=this.pows(Math.floor(maxLog))}this.setDomain([val1,val2])}return this};ScaleLog.prototype.ticks=function ticks(){var _getDomain2=this.getDomain(),min=_getDomain2[0],max=_getDomain2[1],maxLogY,isReverse=1,minLogY,iniValue,checkValue,counter=0,divLines=[],divLineValue,r,i,base=this.base;if(min<=0||max<=0){return divLines}if(min>max){var _getDomain3=this.getDomain();max=_getDomain3[0];min=_getDomain3[1];isReverse=0}if(base>1){maxLogY=Math.ceil(Math.log(max)/Math.log(base));minLogY=Math.floor(Math.log(min)/Math.log(base));iniValue=maxLogY;checkValue=minLogY}else if(base>0&&base<1){maxLogY=Math.floor(Math.log(max)/Math.log(base));minLogY=Math.ceil(Math.log(min)/Math.log(base));iniValue=minLogY;checkValue=maxLogY}r=maxLogY;for(i=iniValue;i>=checkValue;--i){divLineValue=this.pows(r);if(min<=divLineValue&&max>=divLineValue){divLines[counter++]=divLineValue}if(base>1){r--}else{r++}}return isReverse?divLines.reverse():divLines};ScaleLog.prototype.copy=function copy(){return(0,_continuous.copyScale)(this,(new ScaleLog).setBase(this.base))};return ScaleLog}(_continuous2["default"]);exports["default"]=ScaleLog},469:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;function pair(a,b){return[a,b]}function toPairs(arr,reducer){if(reducer===null||typeof reducer==="undefined")reducer=pair;var i=0,n=arr.length-1,p=arr[0],pairs=new Array(n<0?0:n);while(i<n){pairs[i]=reducer(p,p=arr[++i])}return pairs}exports["default"]=toPairs},470:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _mslog=__webpack_require__(465);var _mslog2=_interopRequireDefault(_mslog);var _line=__webpack_require__(346);var _line2=_interopRequireDefault(_line);var _areabase=__webpack_require__(431);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var LINE="line";var LogMSLine=function(_MSLog){_inherits(LogMSLine,_MSLog);LogMSLine.getName=function getName(){return"LogMSLine"};function LogMSLine(){_classCallCheck(this,LogMSLine);var _this=_possibleConstructorReturn(this,_MSLog.call(this));_this.defaultPlotShadow=1;return _this}LogMSLine.prototype.getName=function getName(){return"LogMSLine"};LogMSLine.prototype.__setDefaultConfig=function __setDefaultConfig(){_MSLog.prototype.__setDefaultConfig.call(this);var config=this.config;config.friendlyName="Multi-series Line Chart";config.defaultDatasetType=LINE;config.zeroplanethickness=1;config.enablemousetracking=true;config.zeroplanealpha=40;config.showzeroplaneontop=0;config.enablemousetracking=true;config.defaultcrosslinethickness=1;_areabase._setDefaultConfig.call(this)};LogMSLine.prototype.getDSGroupdef=function getDSGroupdef(){};LogMSLine.prototype.getDSdef=function getDSdef(){return _line2["default"]};return LogMSLine}(_mslog2["default"]);exports["default"]=LogMSLine},471:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _logmscolumn2d=__webpack_require__(464);var _logmscolumn2d2=_interopRequireDefault(_logmscolumn2d);var _cartesian=__webpack_require__(409);var _cartesian2=_interopRequireDefault(_cartesian);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var LogStackedColumn2d=function(_LogMSColumn2d){_inherits(LogStackedColumn2d,_LogMSColumn2d);function LogStackedColumn2d(){_classCallCheck(this,LogStackedColumn2d);return _possibleConstructorReturn(this,_LogMSColumn2d.apply(this,arguments))}LogStackedColumn2d.getName=function getName(){return"LogStackedColumn2d"};LogStackedColumn2d.prototype.getName=function getName(){return"LogStackedColumn2d"};LogStackedColumn2d.prototype.__setDefaultConfig=function __setDefaultConfig(){_LogMSColumn2d.prototype.__setDefaultConfig.call(this);var config=this.config;config.friendlyName="Stacked Log Column Chart";config.isstacked=true};LogStackedColumn2d.prototype.getDSGroupdef=function getDSGroupdef(){return _cartesian2["default"]};return LogStackedColumn2d}(_logmscolumn2d2["default"]);exports["default"]=LogStackedColumn2d},472:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _mscartesian=__webpack_require__(354);var _mscartesian2=_interopRequireDefault(_mscartesian);var _column=__webpack_require__(402);var _column2=_interopRequireDefault(_column);var _errorbar2d=__webpack_require__(473);var _errorbar2d2=_interopRequireDefault(_errorbar2d);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var ErrorBar2D=function(_MSCartesian){_inherits(ErrorBar2D,_MSCartesian);ErrorBar2D.getName=function getName(){return"ErrorBar2D"};function ErrorBar2D(){_classCallCheck(this,ErrorBar2D);var _this=_possibleConstructorReturn(this,_MSCartesian.call(this));_this.showValues=0;_this.isErrorChart=true;_this.eiMethods={};return _this}ErrorBar2D.prototype.getName=function getName(){return"ErrorBar2D"};ErrorBar2D.prototype.__setDefaultConfig=function __setDefaultConfig(){_MSCartesian.prototype.__setDefaultConfig.call(this);var config=this.config;config.friendlyName="Error Bar Chart";config.hasLegend=true;config.defaultDatasetType="errorbar2d";config.enablemousetracking=true};ErrorBar2D.prototype.getDSGroupdef=function getDSGroupdef(){return _column2["default"]};ErrorBar2D.prototype.getDSdef=function getDSdef(){return _errorbar2d2["default"]};return ErrorBar2D}(_mscartesian2["default"]);exports["default"]=ErrorBar2D},473:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports._checkPointerOverPlot=exports._checkPointerOverErrorBar=exports._firePlotEvent=exports._rolloutResponseSetter=exports._rolloverResponseSetter=exports.removePlots=exports._getHoveredPlot=undefined;var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _column=__webpack_require__(331);var _column2=_interopRequireDefault(_column);var _dependencyManager=__webpack_require__(125);var _errorBar2DAnimation=__webpack_require__(474);var _errorBar2DAnimation2=_interopRequireDefault(_errorBar2DAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var colorStrings=_lib.preDefStr.colors,COLOR_AAAAAA=colorStrings.AAAAAA,ROUND=_lib.preDefStr.ROUND,MOUSEOVER="mouseOver",MOUSEOUT="mouseOut",PERCENTAGESTRING=_lib.preDefStr.PERCENTAGESTRING,pStr=_lib.preDefStr.pStr,sStr=_lib.preDefStr.sStr,BLANKSTRING="",UNDEF=void 0,removePlots=void 0,ROLLOVER="DataPlotRollOver",ROLLOUT="DataPlotRollOut",COMMASPACE=", ",DEFAULT_CURSOR="default",POINTER="pointer",EVENTARGS="eventArgs",GROUPID="groupId",M="M",H="H",V="V",_getHoveredPlot=void 0,_firePlotEvent=void 0,_checkPointerOverPlot=void 0,_checkPointerOverErrorBar=void 0,_rolloverResponseSetter=function _rolloverResponseSetter(chart,data,event,dataset){var dataGraphics=data.graphics,errorBarHovered=data.errorBarHovered,elem=dataGraphics&&dataGraphics.element,animationManager=chart.getFromEnv("animationManager"),elData=elem&&elem.getData();if(!errorBarHovered&&elem&&elData.showHoverEffect!==0){animationManager.setAnimationState(MOUSEOVER);animationManager.setAnimation({el:elem,label:"rect",component:dataset,attr:elem.getData().setRolloverAttr,doNotRemove:true})}elem&&chart.plotEventHandler(elem,event,ROLLOVER)},_rolloutResponseSetter=function _rolloutResponseSetter(chart,data,event,dataset){var dataGraphics=data.graphics,errorBarHovered=data.errorBarHovered,elem=dataGraphics&&dataGraphics.element,animationManager=chart.getFromEnv("animationManager"),elData=elem&&elem.getData();if(!errorBarHovered&&elem&&elData.showHoverEffect!==0){animationManager.setAnimationState(MOUSEOUT);animationManager.setAnimation({el:elem,label:"rect",component:dataset,attr:elem.getData().setRolloutAttr,doNotRemove:true})}elem&&chart.plotEventHandler(elem,event,ROLLOUT)};(0,_dependencyManager.addDep)({name:"errorbar2DColumnAnimation",type:"animationRule",extension:_errorBar2DAnimation2["default"].column});(0,_dependencyManager.addDep)({name:"errorbar2DErrorAnimation",type:"animationRule",extension:_errorBar2DAnimation2["default"].error});var ErrorBar2DDataset=function(_ColumnDataset){_inherits(ErrorBar2DDataset,_ColumnDataset);function ErrorBar2DDataset(){_classCallCheck(this,ErrorBar2DDataset);return _possibleConstructorReturn(this,_ColumnDataset.apply(this,arguments))}ErrorBar2DDataset.prototype.getType=function getType(){return"dataset"};ErrorBar2DDataset.prototype.getName=function getName(){return"errorBar2D"};ErrorBar2DDataset.prototype.ErrorValueConfigure=function ErrorValueConfigure(){var dataSet=this,conf=dataSet.config,JSONData=conf.JSONData,setDataArr=JSONData.data,setDataLen=setDataArr&&setDataArr.length,chartAttr=dataSet.getFromEnv("chart-attrib"),setData,dataObj,config,dataStore=dataSet.components.data,yAxisName=(0,_lib.parseUnsafeString)(chartAttr.yaxisname),xAxisName=(0,_lib.parseUnsafeString)(chartAttr.xaxisname),toolText,seriesNameInTooltip=(0,_lib.pluckNumber)(chartAttr.seriesnameintooltip,1),seriesname,tooltipSepChar=(0,_lib.parseUnsafeString)((0,_lib.pluck)(chartAttr.tooltipsepchar,COMMASPACE)),numberFormatter=dataSet.getFromEnv("number-formatter"),errorInPercent,macroIndices,parserConfig,toolTipValue,errorBarAlpha,setErrorValue,formatedVal,setTooltext,errorBarShadow,maxValue=-Infinity,minValue=Infinity,parentYAxis,setValue,errorValue,maxErrorValue,xAxis=dataSet.getFromEnv("xAxis"),catLen=xAxis.getTicksLen(),len=Math.min(catLen,setDataLen),minErrorValue,halfErrorBar,positiveErrorValue,negativeErrorValue,cumulativeValueOnErrorBar,positiveCumulativeErrorTooltext,negativeCumulativeErrorTooltext,getTooltext=function getTooltext(setTooltext){var toolText;if(!conf.showTooltip){toolText=false}else{if(formatedVal===null){toolText=false}else if(setTooltext!==UNDEF){macroIndices=[1,2,3,4,5,6,7,99,100,101,102,120,121];parserConfig={yaxisName:yAxisName,xaxisName:xAxisName,formattedValue:config.toolTipValue,errorValue:setErrorValue,errorDataValue:config.errorToolTipValue,errorPercentValue:config.errorPercentValue,errorPercentDataValue:config.errorPercentValue,positiveErrorValue:config.positiveErrorToolTipValue,negativeErrorValue:config.negativeErrorToolTipValue,label:config.label};toolText=(0,_lib.parseTooltext)(setTooltext,macroIndices,parserConfig,setData,chartAttr,JSONData)}else{if(seriesNameInTooltip){seriesname=(0,_lib.getFirstValue)(JSONData&&JSONData.seriesname)}toolText=seriesname?seriesname+tooltipSepChar:BLANKSTRING;toolText+=config.label?config.label+tooltipSepChar:BLANKSTRING}}return toolText},positiveErrorToolText,negativeErrorToolText,i;conf.showTooltip=(0,_lib.pluckNumber)(chartAttr.showtooltip,1);conf.errorInPercent=errorInPercent=(0,_lib.pluckNumber)(JSONData.errorinpercent,chartAttr.errorinpercent);conf.showValues=(0,_lib.pluckNumber)(JSONData.showvalues,chartAttr.showvalues,0);conf.errorBarShadow=errorBarShadow=(0,_lib.pluckNumber)(chartAttr.errorbarshadow,chartAttr.showshadow,1);conf.ignoreEmptyDatasets=(0,_lib.pluckNumber)(JSONData.ignoreemptydatasets,0);halfErrorBar=(0,_lib.pluckNumber)(chartAttr.halferrorbar,1);conf.notHalfErrorBar=!(0,_lib.pluckNumber)(chartAttr.halferrorbar,1);errorBarAlpha=(0,_libGraphics.getFirstAlpha)((0,_lib.pluck)(JSONData.errorbaralpha,chartAttr.errorbaralpha,conf.plotfillalpha));conf.errorBarWidthPercent=(0,_lib.pluckNumber)(JSONData.errorbarwidthpercent,chartAttr.errorbarwidthpercent,70);conf.errorBarColor=(0,_libGraphics.convertColor)((0,_libGraphics.getFirstColor)((0,_lib.pluck)(JSONData.errorbarcolor,chartAttr.errorbarcolor,COLOR_AAAAAA)),errorBarAlpha);conf.errorBarThickness=(0,_lib.pluckNumber)(JSONData.errorbarthickness,chartAttr.errorbarthickness,1);conf.shadowOpacity=errorBarShadow?errorBarAlpha/250:0;conf.parentYAxis=parentYAxis=(0,_lib.pluck)(JSONData.parentyaxis&&JSONData.parentyaxis.toLowerCase(),pStr)===sStr?1:0;conf.cumulativeValueOnErrorBar=(0,_lib.pluckNumber)(JSONData.cumulativevalueonerrorbar,chartAttr.cumulativevalueonerrorbar,1);for(i=0;i<len;i++){dataObj=dataStore[i];if(!dataObj){continue}setData=setDataArr&&setDataArr[i];config=dataObj&&dataObj.config;positiveErrorToolText=UNDEF;negativeErrorToolText=UNDEF;if((0,_lib.pluckNumber)(setData.value)===UNDEF){continue}if(!dataObj){dataObj=dataStore[i]={graphics:{}}}if(!dataObj.config){config=dataStore[i].config={}}setValue=config.setValue;config.setErrorValue=setErrorValue=numberFormatter.getCleanValue(setData.errorvalue);config.errorInPercent=(0,_lib.pluckNumber)(setData.errorinpercent,errorInPercent,0);config.errorInPercent&&(config.setErrorValue=setErrorValue=(0,_lib.pluckNumber)((setErrorValue/100*setValue).toFixed(2)));config.cumulativeValueOnErrorBar=(0,_lib.pluckNumber)(setData.cumulativevalueonerrorbar,conf.cumulativeValueOnErrorBar,1);config.positiveErrorValue=numberFormatter.getCleanValue((0,_lib.pluckNumber)(setData.positiveerrorvalue,setData.errorvalue));config.errorInPercent&&config.positiveErrorValue&&(config.positiveErrorValue=(0,_lib.pluckNumber)((config.positiveErrorValue/100*setValue).toFixed(2)));config.positiveCumulativeErrorValue=setValue+(0,_lib.pluckNumber)(config.positiveErrorValue,config.setErrorValue);config.negativeErrorValue=numberFormatter.getCleanValue((0,_lib.pluckNumber)(setData.negativeerrorvalue,setData.errorvalue));config.errorInPercent&&config.negativeErrorValue&&(config.negativeErrorValue=(0,_lib.pluckNumber)((config.negativeErrorValue/100*setValue).toFixed(2)));config.negativeCumulativeErrorValue=setValue-(0,_lib.pluckNumber)(config.negativeErrorValue,config.setErrorValue);config.errorToolTipValue=numberFormatter.dataLabels(setErrorValue,parentYAxis);config.negativeErrorToolTipValue=numberFormatter.dataLabels(config.negativeErrorValue,parentYAxis);config.negativeCumulativeErrorTooltipValue=numberFormatter.dataLabels(config.negativeCumulativeErrorValue,parentYAxis);config.positiveErrorToolTipValue=numberFormatter.dataLabels(config.positiveErrorValue,parentYAxis);config.positiveCumulativeErrorTooltipValue=numberFormatter.dataLabels(config.positiveCumulativeErrorValue,parentYAxis);config.errorPercentValue=Math.round(setErrorValue/setValue*_lib.HUNDREDSTRING*_lib.HUNDREDSTRING)/_lib.HUNDREDSTRING+PERCENTAGESTRING;cumulativeValueOnErrorBar=config.cumulativeValueOnErrorBar;config.notHalfErrorBar=conf.notHalfErrorBar;config.halfErrorBar=halfErrorBar;config.showValue=(0,_lib.pluckNumber)(setData.showvalue,conf.showValues);config.hasErrorValue=(0,_lib.pluckNumber)(setData.errorvalue)!==UNDEF?1:0;errorValue=config.errorValue=setErrorValue;toolTipValue=config.errorToolTipValue;formatedVal=toolTipValue;setTooltext=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(setData.errorplottooltext,JSONData.errorplottooltext,chartAttr.errorplottooltext,formatedVal)));toolText=getTooltext(setTooltext);positiveErrorToolText=negativeErrorToolText=UNDEF;setTooltext=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(setData.errorplottooltext,JSONData.errorplottooltext,chartAttr.errorplottooltext,config.positiveErrorToolTipValue)));setTooltext&&config.positiveErrorToolTipValue&&(positiveErrorToolText=getTooltext(setTooltext));setTooltext=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(setData.errorplottooltext,JSONData.errorplottooltext,chartAttr.errorplottooltext,config.negativeErrorToolTipValue)));setTooltext&&config.negativeErrorToolTipValue&&(negativeErrorToolText=getTooltext(setTooltext));if(cumulativeValueOnErrorBar){setTooltext=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(setData.errorplottooltext,JSONData.errorplottooltext,chartAttr.errorplottooltext,config.positiveCumulativeErrorTooltipValue)));setTooltext&&config.positiveCumulativeErrorTooltipValue&&(positiveCumulativeErrorTooltext=getTooltext(setTooltext));setTooltext=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(setData.errorplottooltext,JSONData.errorplottooltext,chartAttr.errorplottooltext,config.negativeCumulativeErrorTooltipValue)));setTooltext&&config.negativeCumulativeErrorTooltipValue&&(negativeCumulativeErrorTooltext=getTooltext(setTooltext))}positiveErrorValue=config.positiveErrorValue;negativeErrorValue=config.negativeErrorValue;if(setData.positiveerrorvalue||setData.negativeerrorvalue){config.halfErrorBar=0;config.notHalfErrorBar=true}maxErrorValue=setValue+(positiveErrorValue!==null?positiveErrorValue:setErrorValue);minErrorValue=setValue-(config.halfErrorBar?0:negativeErrorValue<0&&setValue<0?0:negativeErrorValue!==null?negativeErrorValue:setErrorValue);maxValue=Math.max(maxValue,maxErrorValue,minErrorValue);minValue=Math.min(minValue,maxErrorValue,minErrorValue);config.errorValueArr=[];config.positiveErrorValue===null&&(config.positiveErrorValue=UNDEF);errorValue=-config.positiveErrorValue;config.errorValueArr.push({errorValue:errorValue,tooltext:cumulativeValueOnErrorBar?positiveCumulativeErrorTooltext:positiveErrorToolText||toolText,errorEdgeBar:true});config.errorValueArr.push({errorValue:errorValue,tooltext:positiveErrorToolText||toolText});if(config.notHalfErrorBar){errorValue=config.negativeErrorValue;config.errorValueArr.push({errorValue:errorValue,tooltext:cumulativeValueOnErrorBar?negativeCumulativeErrorTooltext:negativeErrorToolText||toolText,errorEdgeBar:true});config.errorValueArr.push({errorValue:errorValue,tooltext:negativeErrorToolText||toolText})}}conf.maxValue=maxValue;conf.minValue=minValue};ErrorBar2DDataset.prototype.drawErrorValue=function drawErrorValue(){var dataSet=this,datasetIndex=dataSet.getJSONIndex(),conf=dataSet.config,attr,i,k,visible=dataSet.getState("visible"),chart=dataSet.getFromEnv("chart"),yAxis=dataSet.getFromEnv("yAxis"),dataStore=dataSet.components.data,errorBarThickness=conf.errorBarThickness,errorBarWidthPercent=conf.errorBarWidthPercent,errorBarColor=conf.errorBarColor,shadowOpacity=conf.shadowOpacity,errorGroupContainer=dataSet.getContainer("errorPlotGroup"),errorShadowContainer=dataSet.getContainer("errorShadowGroup"),setLink,xPos,yPos,useCrispErrorPath=1,dataObj,setValue,config,animState,scrollMinVal=conf.scrollMinVal,scrollMaxVal=conf.scrollMaxVal,crispY,crispX,errorPath,errorValPos,errorValuePosFactor,errorValueArr,errorValueObj,errorValue,errorStartPos,errorLen,errorBarWidth,halfErrorBarW,groupId,errorLineElem,isNegative,barXpos,barYpos,barWidth,barHeight,errorStartValue,trackerConfig,trackerTolerance,errorTrackerConfig,callbackFn=function callbackFn(state){return function(){if(state==="disappearing"){this.hide()}else{this.show()}}},animationManager=dataSet.getFromEnv("animationManager");for(i=scrollMinVal;i<scrollMaxVal;i++){dataObj=dataStore[i];if(!dataObj){continue}trackerConfig=dataObj.trackerConfig;errorTrackerConfig=dataObj.errorTrackerConfig={};errorTrackerConfig.errorTrackerArr=[];config=dataObj&&dataObj.config;setValue=config&&config.setValue;if(dataObj===UNDEF){continue}else if(dataObj&&(setValue===UNDEF||setValue===null||config.errorValue===BLANKSTRING||config.errorValue===UNDEF||config.errorValue===null&&config.positiveErrorValue===null&&config.negativeErrorValue===null)){errorLen=dataObj.graphics.error&&dataObj.graphics.error.length;for(k=0;k<errorLen;k++){if(dataObj.graphics.error&&dataObj.graphics.error[k]){animationManager.setAnimation({el:dataObj.graphics.error[k],label:"path",callback:callbackFn("disappearing")});dataObj.graphics.error[k].shadow({opacity:0})}}continue}dataObj.errorBar&&delete dataObj.errorBar;errorValueArr=config.errorValueArr;errorTrackerConfig.errorLen=errorLen=errorValueArr.length;!dataObj.graphics.error&&(dataObj.graphics.error=[]);groupId=datasetIndex+"_"+i;setLink=config.setLink;isNegative=setValue<0;barXpos=dataObj._xPos;barYpos=dataObj._yPos;barWidth=dataObj._width;barHeight=dataObj._height;yPos=isNegative?barYpos+barHeight:barYpos;xPos=barXpos+barWidth/2;dataObj.errorBar||(dataObj.errorBar=[]);while(errorLen--){errorLineElem=null;errorTrackerConfig.errorTrackerArr[errorLen]={};errorValueObj=errorValueArr[errorLen];errorTrackerConfig.errorTrackerArr[errorLen].tooltext=errorValueObj.tooltext;errorStartValue=errorValueObj.errorStartValue;errorStartPos=!isNaN(errorStartValue)?yAxis.getPixel(errorStartValue):yPos;errorValue=errorValueObj.errorValue;if(errorValue===null||isNaN(errorValue)){if(dataObj.graphics.error&&dataObj.graphics.error[errorLen]){animationManager.setAnimation({el:dataObj.graphics.error[errorLen],label:"path",callback:callbackFn("disappearing")}).shadow({opacity:0})}continue}errorBarWidth=barWidth*(errorBarWidthPercent/100);halfErrorBarW=errorBarWidth/2;errorValuePosFactor=visible?-1:0;errorValPos=yAxis.getPixel(yAxis.getValue(!isNaN(errorStartValue)?errorStartPos:barYpos)+errorValue*errorValuePosFactor,{wrtVisible:true});isNegative&&(errorValPos=errorValPos+barHeight);crispY=errorValPos;crispX=xPos;errorBarThickness=(0,_lib.pluckNumber)(errorValueObj.errorBarThickness,errorBarThickness);trackerTolerance=errorBarThickness>5?errorBarThickness/2:2.5;if(useCrispErrorPath){crispY=Math.round(errorValPos)+errorBarThickness%2/2;crispX=Math.round(xPos)+errorBarThickness%2/2}dataObj.errorBar[errorLen]||(dataObj.errorBar[errorLen]=[]);if(errorValueObj.errorEdgeBar){errorPath=[M,crispX-halfErrorBarW,crispY,H,crispX+halfErrorBarW];dataObj.errorBar[errorLen][1]={_xPos:crispX-halfErrorBarW-trackerTolerance,_yPos:crispY-trackerTolerance,_height:2*trackerTolerance,_width:2*(halfErrorBarW+trackerTolerance),_toolText:errorValueObj.tooltext}}else{errorPath=[M,crispX,errorStartPos,V,crispY];dataObj.errorBar[errorLen][0]={_xPos:crispX-trackerTolerance,_yPos:crispY<errorStartPos?crispY:errorStartPos,_height:Math.abs(errorStartPos-crispY),_width:2*trackerTolerance,_toolText:errorValueObj.tooltext}}errorBarColor=(0,_lib.pluck)(errorValueObj.errorBarColor,errorBarColor);attr={path:errorPath,stroke:errorBarColor,"stroke-width":errorBarThickness,cursor:setLink?POINTER:BLANKSTRING,"stroke-linecap":ROUND};animState=!dataObj.graphics.error[errorLen]&&visible?"appearing":visible?"updating":"disappearing";errorLineElem=dataObj.graphics.error[errorLen]=animationManager.setAnimation({el:dataObj.graphics.error[errorLen]||"path",container:errorGroupContainer,component:dataSet,attr:attr,label:"path",state:animState,callback:callbackFn(animState)}).shadow({opacity:shadowOpacity},errorShadowContainer);chart.config.enablemousetracking&&errorLineElem.data(GROUPID,groupId).data(EVENTARGS,trackerConfig.eventArgs)}if(!config.notHalfErrorBar){for(k=2;k<4;k++){dataObj.graphics.error&&dataObj.graphics.error[k]&&animationManager.setAnimation({el:dataObj.graphics.error[k],label:"path",callback:callbackFn("disappearing")}).shadow({opacity:0})}}}};ErrorBar2DDataset.prototype._firePlotEvent=function _firePlotEvent(eventType,plotIndex,e){var dataset=this,chart=dataset.getFromEnv("chart"),data=dataset.components.data[plotIndex],toolTipController=dataset.getFromEnv("toolTipController"),setElement=data.graphics.element,errorBarHovered=data.errorBarHovered,config=data.config,setLink=config.setLink;if(setElement){switch(eventType){case"mouseover":dataset._decideTooltipType(plotIndex,e);_rolloverResponseSetter(chart,data,e,this);setLink&&(setElement.node.style.cursor=POINTER);break;case"mouseout":toolTipController.hide(dataset.config.currentToolTip);_rolloutResponseSetter(chart,data,e,this);setLink&&(setElement.node.style.cursor=DEFAULT_CURSOR);break;case"click":chart.plotEventHandler(setElement,e);break;case"mousemove":dataset._decideTooltipType(plotIndex,e);if(errorBarHovered&&!data._isRollover){setElement.showHoverEffect!==0&&setElement.attr(setElement.getData().setRolloutAttr);data._isRollover=true;data._isRollout=false}else if(!errorBarHovered&&!data._isRollout){setElement.showHoverEffect!==0&&setElement.attr(setElement.getData().setRolloverAttr);data._isRollover=false;data._isRollout=true}}}};ErrorBar2DDataset.prototype._checkPointerOverErrorBar=function _checkPointerOverErrorBar(pX,chartX,chartY){var dataset=this,dataStore=dataset.components.data,pointObj=dataStore[pX],hovered,errorBarArr,errorBarCompArr,len,errorBarCompLen,toolText,xPos,yPos,height,width;if(!pointObj){return}errorBarArr=pointObj.errorBar;if(!errorBarArr){return}len=errorBarArr&&errorBarArr.length;while(len--){errorBarCompArr=errorBarArr[len];errorBarCompLen=errorBarCompArr&&errorBarCompArr.length;while(errorBarCompLen--){if(!(errorBarCompArr[errorBarCompLen]&&errorBarCompArr[errorBarCompLen]._xPos)){continue}xPos=errorBarCompArr[errorBarCompLen]._xPos;yPos=errorBarCompArr[errorBarCompLen]._yPos;height=errorBarCompArr[errorBarCompLen]._height;width=errorBarCompArr[errorBarCompLen]._width;toolText=errorBarCompArr[errorBarCompLen]._toolText;hovered=chartX>=xPos&&chartX<=xPos+width&&chartY>=yPos&&chartY<=yPos+height;if(hovered){return{pointIndex:pX,hovered:hovered,pointObj:dataStore[pX],toolText:toolText}}}}};ErrorBar2DDataset.prototype._checkPointerOverPlot=function _checkPointerOverPlot(pX,chartX,chartY){var dataSet=this,dataStore=dataSet.components.data,chartAttr=dataSet.getFromEnv("chart-attrib"),JSONData=dataSet.config.JSONData,data=dataStore[pX],config=data&&data.config,tooltipValueAtEnd,hoverInfo;if(!data){return}tooltipValueAtEnd=!JSONData.plottooltext&&!chartAttr.plottooltext?config.toolTipValue:BLANKSTRING;hoverInfo=dataSet._checkPointerOverErrorBar(pX,chartX,chartY);if(hoverInfo){data.errorBarHovered=true;config.finalTooltext=hoverInfo.toolText}else{hoverInfo=dataSet._checkPointerOverColumn(pX,chartX,chartY);data.errorBarHovered=false;hoverInfo&&(config.finalTooltext=config.toolText!==false&&config.toolText+tooltipValueAtEnd)}return hoverInfo};ErrorBar2DDataset.prototype._getHoveredPlot=function _getHoveredPlot(chartX,chartY){var dataset=this,xAxis=dataset.getFromEnv("xAxis"),x,pX;x=xAxis.getValue(chartX);pX=Math.round(x);return pX-x>0?dataset._checkPointerOverPlot(pX,chartX,chartY)||dataset._checkPointerOverPlot(pX-1,chartX,chartY):dataset._checkPointerOverPlot(pX+1,chartX,chartY)||dataset._checkPointerOverPlot(pX,chartX,chartY)};ErrorBar2DDataset.prototype.removePlots=function removePlots(){var dataSet=this,components=dataSet.components,removeDataArr=components.removeDataArr,pool=components.pool||(components.pool={element:[],hotElement:[],label:[]}),len=removeDataArr.length,removeData,graphics,animationManager=dataSet.getFromEnv("animationManager"),i,k;for(i=0;i<len;i++){removeData=removeDataArr[0];removeDataArr.splice(0,1);if(!removeData||!removeData.graphics){continue}graphics=removeData.graphics;graphics.element&&graphics.element.hide()&&graphics.element.shadow({opacity:0});for(k=0;k<4;k++){if(graphics.error&&graphics.error[k]){animationManager.setAnimation({el:graphics.error[k],label:"path"})}}removeData.graphics.element&&(pool.element=pool.element.concat(removeData.graphics.element));removeData.graphics.hotElement&&(pool.hotElement=pool.hotElement.concat(removeData.graphics.hotElement));removeData.graphics.label&&(pool.label=pool.label.concat(removeData.graphics.label))}components.pool=pool};return ErrorBar2DDataset}(_column2["default"]);exports.removePlots=removePlots=ErrorBar2DDataset.prototype.removePlots;exports._getHoveredPlot=_getHoveredPlot=ErrorBar2DDataset.prototype._getHoveredPlot;exports._firePlotEvent=_firePlotEvent=ErrorBar2DDataset.prototype._firePlotEvent;exports._checkPointerOverPlot=_checkPointerOverPlot=ErrorBar2DDataset.prototype._checkPointerOverPlot;exports._checkPointerOverErrorBar=_checkPointerOverErrorBar=ErrorBar2DDataset.prototype._checkPointerOverErrorBar;exports._getHoveredPlot=_getHoveredPlot;exports.removePlots=removePlots;exports._rolloverResponseSetter=_rolloverResponseSetter;exports._rolloutResponseSetter=_rolloutResponseSetter;exports._firePlotEvent=_firePlotEvent;exports._checkPointerOverErrorBar=_checkPointerOverErrorBar;exports._checkPointerOverPlot=_checkPointerOverPlot;exports["default"]=ErrorBar2DDataset},474:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _columnAnimation=__webpack_require__(332);var _columnAnimation2=_interopRequireDefault(_columnAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports["default"]={column:{"initial.dataset.errorBar2D":_columnAnimation2["default"]["initial.dataset.column"]},error:{"initial.dataset.errorBar2D":function initialDatasetErrorBar2D(){return{"path.appearing":[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}]}}}}},475:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _mscartesian=__webpack_require__(354);var _mscartesian2=_interopRequireDefault(_mscartesian);var _areabase=__webpack_require__(431);var _errorline=__webpack_require__(476);var _errorline2=_interopRequireDefault(_errorline);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var ErrorLine=function(_MSCartesian){_inherits(ErrorLine,_MSCartesian);ErrorLine.getName=function getName(){return"ErrorLine"};function ErrorLine(){_classCallCheck(this,ErrorLine);var _this=_possibleConstructorReturn(this,_MSCartesian.call(this));_this.useErrorGroup=true;_this.isErrorChart=true;_this.hasAnchor=true;_this.defaultPlotShadow=1;_this.axisPaddingLeft=0;_this.axisPaddingRight=0;_this.canvasPaddingModifiers=["anchor","errorbar"];return _this}ErrorLine.prototype.getName=function getName(){return"ErrorLine"};ErrorLine.prototype.__setDefaultConfig=function __setDefaultConfig(){_MSCartesian.prototype.__setDefaultConfig.call(this);var config=this.config;config.friendlyName="Error Line Chart";config.defaultDatasetType="errorline";_areabase._setDefaultConfig.call(this);this.zeroplanethickness=1;this.zeroplanealpha=40;config.showzeroplaneontop=0;config.defaultcrosslinethickness=1;config.enablemousetracking=true};ErrorLine.prototype.getDSGroupdef=function getDSGroupdef(){};ErrorLine.prototype.getDSdef=function getDSdef(){return _errorline2["default"]};return ErrorLine}(_mscartesian2["default"]);exports["default"]=ErrorLine},476:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _errorbar2d=__webpack_require__(473);var _line=__webpack_require__(346);var _line2=_interopRequireDefault(_line);var _dependencyManager=__webpack_require__(125);var _errorlineErrorAnimation=__webpack_require__(477);var _errorlineErrorAnimation2=_interopRequireDefault(_errorlineErrorAnimation);var _errorlineLineAnimation=__webpack_require__(478);var _errorlineLineAnimation2=_interopRequireDefault(_errorlineLineAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var colorStrings=_lib.preDefStr.colors,COLOR_AAAAAA=colorStrings.AAAAAA,ROUND=_lib.preDefStr.ROUND,PERCENTAGESTRING=_lib.preDefStr.PERCENTAGESTRING,BLANKSTRING="",UNDEF=void 0,COMMASPACE=", ",POINTER="pointer",TRACKER_FILL="rgba(192,192,192,"+(_lib.isIE?.002:1e-6)+")",M="M",H="H",V="V",math=Math,mathRound=math.round,mathMin=math.min,mathMax=math.max,mathAbs=math.abs,HTP=_lib.hasTouch?_lib.TOUCH_THRESHOLD_PIXELS:_lib.CLICK_THRESHOLD_PIXELS;(0,_dependencyManager.addDep)({name:"errorlineErrorAnimation",type:"animationRule",extension:_errorlineErrorAnimation2["default"]});(0,_dependencyManager.addDep)({name:"errorlineLineAnimation",type:"animationRule",extension:_errorlineLineAnimation2["default"]});var ErrorLineDataset=function(_LINEDataset){_inherits(ErrorLineDataset,_LINEDataset);function ErrorLineDataset(){_classCallCheck(this,ErrorLineDataset);return _possibleConstructorReturn(this,_LINEDataset.apply(this,arguments))}ErrorLineDataset.prototype.getType=function getType(){return"dataset"};ErrorLineDataset.prototype.getName=function getName(){return"errorLine"};ErrorLineDataset.prototype.ErrorValueConfigure=function ErrorValueConfigure(){var dataSet=this,chart=dataSet.getFromEnv("chart"),conf=dataSet.config,chartConfig=chart.config,parentYAxis=conf.parentYAxis,JSONData=conf.JSONData,setDataArr=JSONData.data,chartAttr=chart.getFromEnv("dataSource").chart,xAxis=dataSet.getFromEnv("xAxis"),len=xAxis.getTicksLen(),setData,dataObj,config,dataStore=dataSet.components.data,numberFormatter=dataSet.getFromEnv("number-formatter"),toolTipValue,errorBarAlpha,errorBarThickness,setErrorValue,formatedVal,setTooltext,positiveCumulativeErrorTooltext,negativeCumulativeErrorTooltext,positiveErrorToolText,negativeErrorToolText,errorBarShadow,lineThickness=conf.linethickness,maxValue=-Infinity,minValue=Infinity,maxErrorValue,minErrorValue,setValue,errorValue,yAxisName=(0,_lib.parseUnsafeString)(chartAttr.yaxisname),xAxisName=(0,_lib.parseUnsafeString)(chartAttr.xaxisname),cumulativeValueOnErrorBar,tooltipSepChar=(0,_lib.pluck)(chartAttr.tooltipsepchar,COMMASPACE),macroIndices,parserConfig,seriesname,errorInPercent,errorToolText,seriesNameInTooltip=(0,_lib.pluckNumber)(chartAttr.seriesnameintooltip,1),getTooltext=function getTooltext(setTooltext){var toolText;if(!chartConfig.showtooltip){toolText=false}else{if(formatedVal===null){toolText=false}else if(setTooltext!==UNDEF){macroIndices=[1,2,3,4,5,6,7,99,100,101,102];parserConfig={yaxisName:yAxisName,xaxisName:xAxisName,formattedValue:config.toolTipValue,errorValue:setErrorValue,errorDataValue:config.errorToolTipValue,errorPercentValue:config.errorPercentValue,errorPercentDataValue:config.errorPercentValue,label:config.label};toolText=(0,_lib.parseTooltext)(setTooltext,macroIndices,parserConfig,setData,chartAttr,JSONData)}else{if(seriesNameInTooltip){seriesname=(0,_lib.getFirstValue)(JSONData&&JSONData.seriesname)}toolText=seriesname?seriesname+tooltipSepChar:BLANKSTRING;toolText+=config.label?config.label+tooltipSepChar:BLANKSTRING}}return toolText},i;conf.errorBarShadow=errorBarShadow=(0,_lib.pluckNumber)(chartAttr.errorbarshadow,chartAttr.showshadow,1);conf.ignoreEmptyDatasets=(0,_lib.pluckNumber)(JSONData.ignoreemptydatasets,0);conf.notHalfErrorBar=!(0,_lib.pluckNumber)(chartAttr.halferrorbar,1);errorBarAlpha=(0,_libGraphics.getFirstAlpha)((0,_lib.pluck)(JSONData.errorbaralpha,chartAttr.errorbaralpha,conf.alpha));conf.errorBarWidth=(0,_lib.pluckNumber)(JSONData.errorbarwidth,chartAttr.errorbarwidth,5);conf.errorBarColor=(0,_libGraphics.convertColor)((0,_libGraphics.getFirstColor)((0,_lib.pluck)(JSONData.errorbarcolor,chartAttr.errorbarcolor,COLOR_AAAAAA)),errorBarAlpha);errorBarThickness=(0,_lib.pluckNumber)(JSONData.errorbarthickness,chartAttr.errorbarthickness,1);conf.errorBarThickness=errorBarThickness>lineThickness?lineThickness:errorBarThickness;conf.shadowOpacity=errorBarShadow?errorBarAlpha/250:0;conf.errorInPercent=errorInPercent=(0,_lib.pluckNumber)(JSONData.errorinpercent,chartAttr.errorinpercent);conf.cumulativeValueOnErrorBar=(0,_lib.pluckNumber)(JSONData.cumulativevalueonerrorbar,chartAttr.cumulativevalueonerrorbar,1);for(i=0;i<len;i++){setData=setDataArr&&setDataArr[i];if(!setDataArr||!setData){continue}dataObj=dataStore[i];config=dataObj&&dataObj.config;if(!dataObj){dataObj=dataStore[i]={graphics:{}}}if(!dataObj.config){config=dataStore[i].config={}}setValue=config.setValue;config.notHalfErrorBar=conf.notHalfErrorBar;setErrorValue=numberFormatter.getCleanValue(setData.errorvalue);config.errorToolTipValue=numberFormatter.dataLabels(setErrorValue,parentYAxis);config.setErrorValue=config.errorValue=errorValue=setErrorValue;config.hasErrorValue=(0,_lib.pluckNumber)(setData.errorvalue)!==UNDEF?1:0;toolTipValue=config.errorToolTipValue;formatedVal=toolTipValue;setTooltext=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(setData.errorplottooltext,JSONData.errorplottooltext,chartAttr.errorplottooltext,formatedVal)));errorToolText=getTooltext(setTooltext);config.errorInPercent=(0,_lib.pluckNumber)(setData.errorinpercent,errorInPercent,0);config.errorInPercent&&(config.setErrorValue=setErrorValue=(0,_lib.pluckNumber)((setErrorValue/100*setValue).toFixed(2)));config.cumulativeValueOnErrorBar=cumulativeValueOnErrorBar=(0,_lib.pluckNumber)(setData.cumulativevalueonerrorbar,conf.cumulativeValueOnErrorBar,1);config.positiveErrorValue=numberFormatter.getCleanValue((0,_lib.pluckNumber)(setData.positiveerrorvalue,setData.errorvalue));config.errorInPercent&&config.positiveErrorValue&&(config.positiveErrorValue=(0,_lib.pluckNumber)((config.positiveErrorValue/100*setValue).toFixed(2)));config.positiveCumulativeErrorValue=setValue+(0,_lib.pluckNumber)(config.positiveErrorValue,config.setErrorValue);config.negativeErrorValue=numberFormatter.getCleanValue((0,_lib.pluckNumber)(setData.negativeerrorvalue,setData.errorvalue));config.errorInPercent&&config.negativeErrorValue&&(config.negativeErrorValue=(0,_lib.pluckNumber)((config.negativeErrorValue/100*setValue).toFixed(2)));config.negativeCumulativeErrorValue=setValue-(0,_lib.pluckNumber)(config.negativeErrorValue,config.setErrorValue);config.errorToolTipValue=numberFormatter.dataLabels(setErrorValue,parentYAxis);config.negativeErrorToolTipValue=numberFormatter.dataLabels(config.negativeErrorValue,parentYAxis);config.negativeCumulativeErrorTooltipValue=numberFormatter.dataLabels(config.negativeCumulativeErrorValue,parentYAxis);config.positiveErrorToolTipValue=numberFormatter.dataLabels(config.positiveErrorValue,parentYAxis);config.positiveCumulativeErrorTooltipValue=numberFormatter.dataLabels(config.positiveCumulativeErrorValue,parentYAxis);config.errorPercentValue=mathRound(setErrorValue/setValue*_lib.HUNDREDSTRING*_lib.HUNDREDSTRING)/_lib.HUNDREDSTRING+PERCENTAGESTRING;positiveErrorToolText=negativeErrorToolText=UNDEF;setTooltext=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(setData.errorplottooltext,JSONData.errorplottooltext,chartAttr.errorplottooltext,config.positiveErrorToolTipValue)));setTooltext&&config.positiveErrorToolTipValue&&(positiveErrorToolText=getTooltext(setTooltext));setTooltext=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(setData.errorplottooltext,JSONData.errorplottooltext,chartAttr.errorplottooltext,config.negativeErrorToolTipValue)));setTooltext&&config.negativeErrorToolTipValue&&(negativeErrorToolText=getTooltext(setTooltext));if(setData.positiveerrorvalue||setData.negativeerrorvalue){config.halfErrorBar=0;config.notHalfErrorBar=true}if(cumulativeValueOnErrorBar){setTooltext=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(setData.errorplottooltext,JSONData.errorplottooltext,chartAttr.errorplottooltext,config.positiveCumulativeErrorTooltipValue)));setTooltext&&config.positiveCumulativeErrorTooltipValue&&(positiveCumulativeErrorTooltext=getTooltext(setTooltext));setTooltext=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(setData.errorplottooltext,JSONData.errorplottooltext,chartAttr.errorplottooltext,config.negativeCumulativeErrorTooltipValue)));setTooltext&&config.negativeCumulativeErrorTooltipValue&&(negativeCumulativeErrorTooltext=getTooltext(setTooltext))}maxErrorValue=setValue+(config.positiveErrorValue!==null?config.positiveErrorValue:setErrorValue);minErrorValue=setValue-(config.halfErrorBar?0:config.negativeErrorValue<0&&setValue<0?0:config.negativeErrorValue!==null?config.negativeErrorValue:setErrorValue);maxValue=mathMax(maxValue,maxErrorValue,minErrorValue);minValue=mathMin(minValue,maxErrorValue,minErrorValue);if(setErrorValue===null){setErrorValue=UNDEF}config.errorValueArr=[];config.positiveErrorValue===null&&(config.positiveErrorValue=UNDEF);errorValue=-config.positiveErrorValue;config.errorValueArr.push({errorValue:errorValue,tooltext:cumulativeValueOnErrorBar?positiveCumulativeErrorTooltext:positiveErrorToolText||errorToolText,errorEdgeBar:true});config.errorValueArr.push({errorValue:errorValue,tooltext:positiveErrorToolText||errorToolText});if(config.notHalfErrorBar){errorValue=config.negativeErrorValue;config.errorValueArr.push({errorValue:errorValue,tooltext:cumulativeValueOnErrorBar?negativeCumulativeErrorTooltext:negativeErrorToolText||errorToolText,errorEdgeBar:true});config.errorValueArr.push({errorValue:errorValue,tooltext:negativeErrorToolText||errorToolText})}config.toolText=getTooltext(config.setTooltext)}conf.maxValue=maxValue;conf.minValue=minValue};ErrorLineDataset.prototype._show=function _show(){var dataSet=this,chart=dataSet.chart,yAxis=dataSet.yAxis,container=dataSet.graphics&&dataSet.graphics.container,dataLabelContainer=dataSet.graphics&&dataSet.graphics.dataLabelContainer,errorGroupContainer=dataSet.graphics&&dataSet.graphics.errorGroupContainer,errorShadowContainer=dataSet.graphics&&dataSet.graphics.errorShadowContainer;chart._chartAnimation();container.lineGroup.show();container.anchorGroup.show();container.anchorShadowGroup.show();container.lineShadowGroup.show();dataLabelContainer.show();dataSet.setState("visible",true);errorGroupContainer&&errorGroupContainer.show();errorShadowContainer&&errorShadowContainer.show();dataSet._conatinerHidden=false;chart._setAxisLimits();yAxis.draw();chart._drawDataset()};ErrorLineDataset.prototype._hide=function _hide(){var dataSet=this,chart=dataSet.chart,yAxis=dataSet.yAxis;chart._chartAnimation();dataSet.setState("visible",false);chart._setAxisLimits();yAxis.draw();chart._drawDataset()};ErrorLineDataset.prototype.draw=function draw(){_LINEDataset.prototype.draw.call(this);this.drawErrorValue()};ErrorLineDataset.prototype.drawErrorValue=function drawErrorValue(){var dataSet=this,conf=dataSet.config,xAxis=dataSet.getFromEnv("xAxis"),len=xAxis.getTicksLen(),attr,i,j,k,state,visible=dataSet.getState("visible"),yAxis=dataSet.getFromEnv("yAxis"),dataStore=dataSet.components.data,errorBarThickness=conf.errorBarThickness,errorBarWidth=conf.errorBarWidth,errorBarColor=conf.errorBarColor,shadowOpacity=conf.shadowOpacity,errorGroupContainer=dataSet.getContainer("errorPlotGroup"),errorShadowContainer=dataSet.getContainer("errorShadowGroup"),setLink,xPos,yPos,useCrispErrorPath=1,dataObj,setValue,config,crispY,crispX,errorPath,errorValPos,errorValuePosFactor,errorValueArr,errorValueObj,errorValue,errorStartPos,errorLen,halfErrorBarW,errorLineElem,plotXpos,trackerTolerance=errorBarThickness>5?errorBarThickness/2:2.5,plotYpos,animationManager=dataSet.getFromEnv("animationManager"),errorTrackerConfig,callbackFn=function callbackFn(state){return function(){if(state==="disappearing"){this.hide()}}};for(i=0;i<len;i++){dataObj=dataStore[i];config=dataObj&&dataObj.config;setValue=config&&config.setValue;if(dataObj===UNDEF||setValue===UNDEF||setValue===null){if(dataObj&&dataObj.graphics.error){for(j=0;j<dataObj.graphics.error.length;j++){dataObj.graphics.error&&dataObj.graphics.error[j]&&animationManager.setAnimation({el:dataObj.graphics.error[j]||"path",label:"path",component:dataSet,callback:callbackFn("disappearing")}).shadow({opacity:0})}}continue}errorTrackerConfig=dataObj.errorTrackerConfig={};errorTrackerConfig.errorTrackerArr=[];errorValueArr=config.errorValueArr;errorTrackerConfig.errorLen=errorLen=errorValueArr.length;!dataObj.graphics.error&&(dataObj.graphics.error=[]);!dataObj.graphics.errorTracker&&(dataObj.graphics.errorTracker=[]);if(config.errorValue===BLANKSTRING||config.errorValue===UNDEF||config.errorValue===null&&config.positiveErrorValue===null&&config.negativeErrorValue===null){for(k=0;k<errorLen;k++){dataObj.graphics.error&&dataObj.graphics.error[k]&&animationManager.setAnimation({el:dataObj.graphics.error[k]||"path",label:"path",component:dataSet,callback:callbackFn("disappearing")}).shadow({opacity:0})}continue}setLink=config.setLink;plotXpos=dataObj._xPos;plotYpos=dataObj._yPos;yPos=plotYpos;xPos=plotXpos;dataObj.errorBar&&delete dataObj.errorBar;dataObj.errorBar=[];while(errorLen--){errorLineElem=null;errorTrackerConfig.errorTrackerArr[errorLen]={};errorValueObj=errorValueArr[errorLen];errorTrackerConfig.errorTrackerArr[errorLen].tooltext=errorValueObj.tooltext;errorStartPos=yPos;errorValue=errorValueObj.errorValue;if(errorValue===null||isNaN(errorValue)){if(dataObj.graphics.error&&dataObj.graphics.error[errorLen]){dataObj.graphics.error[errorLen].hide();dataObj.graphics.error[errorLen].shadow({opacity:0})}continue}halfErrorBarW=errorBarWidth/2;errorValuePosFactor=!visible?0:1;errorValPos=plotYpos+(yAxis.getPixel(0)-yAxis.getPixel(1))*errorValue*errorValuePosFactor;crispY=errorValPos;crispX=xPos;if(useCrispErrorPath){crispY=mathRound(errorValPos)+errorBarThickness%2/2;crispX=mathRound(xPos)+errorBarThickness%2/2}dataObj.errorBar[errorLen]||(dataObj.errorBar[errorLen]=[]);if(!errorValueObj.errorEdgeBar){errorPath=[M,crispX,errorStartPos,V,crispY];dataObj.errorBar[errorLen][0]={_xPos:crispX-trackerTolerance,_yPos:crispY<errorStartPos?crispY:errorStartPos,_height:mathAbs(errorStartPos-crispY),_width:2*trackerTolerance,_toolText:errorValueObj.tooltext}}else{errorPath=[M,crispX-halfErrorBarW,crispY,H,crispX+halfErrorBarW];dataObj.errorBar[errorLen][1]={_xPos:crispX-halfErrorBarW-trackerTolerance,_yPos:crispY-trackerTolerance,_height:2*trackerTolerance,_width:2*(halfErrorBarW+trackerTolerance),_toolText:errorValueObj.tooltext}}attr={path:errorPath,stroke:errorBarColor,"stroke-width":errorBarThickness,cursor:setLink?POINTER:BLANKSTRING,"stroke-linecap":ROUND};state=!dataObj.graphics.error[errorLen]&&visible?"appearing":visible?"updating":"disappearing";errorLineElem=dataObj.graphics.error[errorLen]=animationManager.setAnimation({el:dataObj.graphics.error[errorLen]||"path",state:state,attr:attr,label:"path",component:dataSet,container:errorGroupContainer,callback:callbackFn(state)});state!=="disappearing"&&errorLineElem.show();errorLineElem&&errorLineElem.shadow({opacity:shadowOpacity},errorShadowContainer);errorTrackerConfig.errorTrackerArr[errorLen].attr={path:errorPath,stroke:TRACKER_FILL,"stroke-width":errorBarThickness<HTP?HTP:errorBarThickness,cursor:setLink?POINTER:BLANKSTRING}}if(!config.notHalfErrorBar){for(k=2;k<4;k++){dataObj.graphics.error&&dataObj.graphics.error[k]&&animationManager.setAnimation({el:dataObj.graphics.error[k]||"path",label:"path",component:dataSet,callback:callbackFn("disappearing")}).shadow({opacity:0})}}}};ErrorLineDataset.prototype._firePlotEvent=function _firePlotEvent(eventType,plotIndex,e){_errorbar2d._firePlotEvent.call(this,eventType,plotIndex,e)};ErrorLineDataset.prototype._checkPointerOverErrorBar=function _checkPointerOverErrorBar(pX,chartX,chartY){return _errorbar2d._checkPointerOverErrorBar.call(this,pX,chartX,chartY)};ErrorLineDataset.prototype._checkPointerOverPlot=function _checkPointerOverPlot(pX,chartX,chartY){var dataSet=this,dataStore=dataSet.components.data,data=dataStore[pX],config=data&&data.config,hoverInfo;if(!data){return}hoverInfo=dataSet.isWithinShape(data,pX,chartX,chartY);if(hoverInfo){data.errorBarHovered=false;config.finalTooltext=config.toolText!==false&&config.toolText}else{hoverInfo=dataSet._checkPointerOverErrorBar(pX,chartX,chartY);if(hoverInfo){data.errorBarHovered=true;config.finalTooltext=hoverInfo.toolText}}return hoverInfo};ErrorLineDataset.prototype._getHoveredPlot=function _getHoveredPlot(chartX,chartY){return _errorbar2d._getHoveredPlot.call(this,chartX,chartY)};ErrorLineDataset.prototype.getCanvasPadding=function getCanvasPadding(){var dataset=this,conf=dataset.config,halfErrorBarW=conf.errorBarWidth*.5,components=dataset.components||{},chart=dataset.getFromEnv("chart"),dataLabelStyle=chart.config.dataLabelStyle,data=components.data||[],firstData=data[0],lastData=data[data.length-1],dataConf,label,dataAnchorConf,labelDim={},padding,labelSpace,showValue,SmartLabel=chart.getFromEnv("smartLabel"),retrunDimension={paddingLeft:0,paddingRight:0};if(firstData){dataConf=firstData.config;showValue=dataConf.showValue;dataAnchorConf=dataConf&&dataConf.anchorProps||{};if(showValue){label=dataConf.displayValue;SmartLabel.useEllipsesOnOverflow(chart.config.useEllipsesWhenOverflow);SmartLabel.setStyle(dataLabelStyle);labelDim=SmartLabel.getOriSize(label)}if(dataConf.setValue){padding=mathMax((0,_lib.pluckNumber)(dataAnchorConf.radius,0),halfErrorBarW)+(0,_lib.pluckNumber)(dataAnchorConf.borderThickness,0);labelSpace=(labelDim.width||0)/2}retrunDimension.paddingLeft=mathMax(padding,labelSpace)}if(lastData){dataConf=lastData.config;showValue=dataConf.showValue;dataAnchorConf=dataConf&&dataConf.anchorProps||{};if(showValue){label=dataConf.displayValue;SmartLabel.setStyle(dataLabelStyle);labelDim=SmartLabel.getOriSize(label)}if(dataConf.setValue){padding=mathMax((0,_lib.pluckNumber)(dataAnchorConf.radius,0),halfErrorBarW)+(0,_lib.pluckNumber)(dataAnchorConf.borderThickness,0);labelSpace=(labelDim.width||0)/2}retrunDimension.paddingRight=mathMax(padding,labelSpace)}return retrunDimension};ErrorLineDataset.prototype.removePlots=function removePlots(){_errorbar2d.removePlots.call(this)};return ErrorLineDataset}(_line2["default"]);exports["default"]=ErrorLineDataset},477:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]={"initial.dataset.errorLine":function initialDatasetErrorLine(){return{"path.appearing":function pathAppearing(){return[{initialAttr:{opacity:0},finalAttr:{opacity:1},startEnd:{start:.5,end:1},slot:"plot"}]},"*":null}}}},478:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _lineAnimation=__webpack_require__(349);var _lineAnimation2=_interopRequireDefault(_lineAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports["default"]={"*.dataset.errorLine":_lineAnimation2["default"]["*.dataset.line"]}},479:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _scatterbase=__webpack_require__(414);var _scatterbase2=_interopRequireDefault(_scatterbase);var _errorscatter=__webpack_require__(480);var _errorscatter2=_interopRequireDefault(_errorscatter);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var ErrorScatter=function(_ScatterBase){_inherits(ErrorScatter,_ScatterBase);ErrorScatter.getName=function getName(){return"ErrorScatter"};function ErrorScatter(){_classCallCheck(this,ErrorScatter);var _this=_possibleConstructorReturn(this,_ScatterBase.call(this));_this.isXY=true;_this.defaultZeroPlaneHighlighted=false;_this.useErrorGroup=true;_this.isErrorChart=true;_this.hasAnchor=true;_this.initAnimation=true;return _this}ErrorScatter.prototype.getName=function getName(){return"ErrorScatter"};ErrorScatter.prototype.__setDefaultConfig=function __setDefaultConfig(){_ScatterBase.prototype.__setDefaultConfig.call(this);var config=this.config;config.friendlyName="Error Scatter Chart";config.defaultDatasetType="errorscatter";config.enablemousetracking=true};ErrorScatter.prototype.getDSGroupdef=function getDSGroupdef(){};ErrorScatter.prototype.getDSdef=function getDSdef(){return _errorscatter2["default"]};return ErrorScatter}(_scatterbase2["default"]);exports["default"]=ErrorScatter},480:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _scatter=__webpack_require__(418);var _scatter2=_interopRequireDefault(_scatter);var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _kdtree=__webpack_require__(419);var _kdtree2=_interopRequireDefault(_kdtree);var _dependencyManager=__webpack_require__(125);var _errorscatterAnimation=__webpack_require__(481);var _errorscatterAnimation2=_interopRequireDefault(_errorscatterAnimation);var _errorscatterErrorAnimation=__webpack_require__(482);var _errorscatterErrorAnimation2=_interopRequireDefault(_errorscatterErrorAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var colorStrings=_lib.preDefStr.colors,COLOR_AAAAAA=colorStrings.AAAAAA,ROUND=_lib.preDefStr.ROUND,PERCENTAGESTRING=_lib.preDefStr.PERCENTAGESTRING,BLANK="",UNDEF,COMMASPACE=", ",POINTER="pointer",HORIZONTAL="horizontal",VERTICAL="vertical",OPTIONAL="optional",M="M",H="H",V="V";(0,_dependencyManager.addDep)({name:"errorscatterAnimation",type:"animationRule",extension:_errorscatterAnimation2["default"]});(0,_dependencyManager.addDep)({name:"errorscatterErrorAnimation",type:"animationRule",extension:_errorscatterErrorAnimation2["default"]});var ErrorScatter=function(_ScatterDataset){_inherits(ErrorScatter,_ScatterDataset);function ErrorScatter(){_classCallCheck(this,ErrorScatter);return _possibleConstructorReturn(this,_ScatterDataset.apply(this,arguments))}ErrorScatter.prototype.getType=function getType(){return"dataset"};ErrorScatter.prototype.getName=function getName(){return"errorScatter"};ErrorScatter.prototype.ErrorValueConfigure=function ErrorValueConfigure(){var dataSet=this,chart=dataSet.getFromEnv("chart"),conf=dataSet.config,JSONData=conf.JSONData,categories=dataSet.getFromEnv("dataSource").categories&&dataSet.getFromEnv("dataSource").categories[0].category,chartAttr=dataSet.getFromEnv("chart-attrib"),setDataArr=JSONData.data,setDataLen=setDataArr&&setDataArr.length||0,setData,dataObj,config,dataStore=dataSet.components.data,numberFormatter=dataSet.getFromEnv("number-formatter"),errorBarAlpha,errorBarThickness,errorBarShadow,errorBarWidth,errorBarColor,halfHorizontalErrorBar,halfVerticalErrorBar,horizontalErrorBarAlpha,verticalErrorBarAlpha,horizontalErrorBarColor,verticalErrorBarColor,horizontalErrorBarThickness,verticalErrorBarThickness,hErrorValue,vErrorValue,hErrorToolTipValue,vErrorToolTipValue,tooltipSepChar=(0,_lib.pluck)(chartAttr.tooltipsepchar,COMMASPACE),yAxisName=(0,_lib.parseUnsafeString)(chartAttr.yaxisname),xAxisName=(0,_lib.parseUnsafeString)(chartAttr.xaxisname),parentYAxis=conf.parentYAxis,setValue,formatedVal,toolText,horizontalErrorPercent,verticalErrorPercent,macroIndices,parserConfig,seriesname,infMin=-Infinity,infMax=+Infinity,maxErrorValue,minErrorValue,horizontal,vertical,vPositiveErrorValue,hNegativeErrorValue,hPositiveErrorValue,hPositiveSetTooltext,hPositiveErrorToolTipValue,hCPErrorToolText,hCPErrorToolTipValue,hNegativeErrorToolTipValue,hCNErrorToolTipValue,vPositiveErrorToolTipValue,hNegativeSetTooltext,vCPErrorToolTipValue,vNegativeErrorValue,vCNErrorToolText,vCNErrorToolTipValue,vPositiveSetTooltext,hCNErrorToolText,vCPErrorToolText,cumulativeValueOnErrorBar,vNegativeSetTooltext,vNegativeErrorToolTipValue,yMax=infMin,yMin=infMax,xMin=infMax,xMax=infMin,getTooltext=function getTooltext(setTooltext,errorValue){var toolText;if(!conf.showTooltip){toolText=false}else{if(formatedVal===null){toolText=false}else if(setTooltext!==UNDEF){macroIndices=[1,2,3,4,5,6,7,8,9,10,11,99,100,101,102,103,104,105,106,107,109];parserConfig={yaxisName:yAxisName,xaxisName:xAxisName,yDataValue:formatedVal,xDataValue:config.label,formattedValue:config.toolTipValue,horizontalErrorValue:hErrorValue,horizontalErrorDataValue:hErrorToolTipValue,verticalErrorValue:vErrorValue,verticalErrorDataValue:vErrorToolTipValue,horizontalErrorPercentValue:horizontalErrorPercent,verticalErrorPercentValue:verticalErrorPercent,label:config.label,errorValue:errorValue,errorDataValue:errorValue,errorPercentValue:config.errorPercentValue,errorPercentDataValue:config.errorPercentValue};toolText=(0,_lib.parseTooltext)(setTooltext,macroIndices,parserConfig,setData,chartAttr,JSONData)}else{if(formatedVal===null){toolText=false}else{if(conf.seriesNameInTooltip){seriesname=(0,_lib.getFirstValue)(JSONData&&JSONData.seriesname)}toolText=seriesname?seriesname+tooltipSepChar:BLANK;toolText+=setValue.x?numberFormatter.xAxis(setValue.x)+tooltipSepChar:BLANK;toolText+=config.toolTipValue}}}return toolText},i;conf.errorBarShadow=errorBarShadow=(0,_lib.pluckNumber)(chartAttr.errorbarshadow,chartAttr.showshadow,0);conf.ignoreEmptyDatasets=(0,_lib.pluckNumber)(JSONData.ignoreemptydatasets,0);conf.notHalfErrorBar=!(0,_lib.pluckNumber)(chartAttr.halferrorbar,1);conf.errorBarAlpha=(0,_libGraphics.getFirstAlpha)((0,_lib.pluck)(JSONData.errorbaralpha,chartAttr.errorbaralpha));conf.errorBarWidth=errorBarWidth=(0,_lib.pluckNumber)(JSONData.errorbarwidth,chartAttr.errorbarwidth,5);conf.errorBarColor=errorBarColor=(0,_libGraphics.convertColor)((0,_libGraphics.getFirstColor)((0,_lib.pluck)(JSONData.errorbarcolor,chartAttr.errorbarcolor,COLOR_AAAAAA)),errorBarAlpha);conf.errorBarThickness=errorBarThickness=(0,_lib.pluckNumber)(JSONData.errorbarthickness,chartAttr.errorbarthickness,1);conf.shadowOpacity=errorBarShadow?errorBarAlpha/250:0;conf.halfHorizontalErrorBar=halfHorizontalErrorBar=(0,_lib.pluckNumber)(chartAttr.halfhorizontalerrorbar,1);conf.halfVerticalErrorBar=halfVerticalErrorBar=(0,_lib.pluckNumber)(chartAttr.halfverticalerrorbar,1);conf.initAnimation===UNDEF&&(conf.initAnimation=chart.initAnimation);horizontalErrorBarAlpha=(0,_lib.pluck)(JSONData.horizontalerrorbaralpha,JSONData.errorbaralpha,chartAttr.horizontalerrorbaralpha,errorBarAlpha);verticalErrorBarAlpha=(0,_lib.pluckNumber)(JSONData.verticalerrorbaralpha,JSONData.errorbaralpha,chartAttr.verticalerrorbaralpha,errorBarAlpha);horizontalErrorBarColor=(0,_libGraphics.convertColor)((0,_lib.pluck)(JSONData.horizontalerrorbarcolor,JSONData.errorbarcolor,chartAttr.horizontalerrorbarcolor,errorBarColor),horizontalErrorBarAlpha);verticalErrorBarColor=(0,_libGraphics.convertColor)((0,_lib.pluck)(JSONData.verticalerrorbarcolor,JSONData.errorbarcolor,chartAttr.verticalerrorbarcolor,errorBarColor),verticalErrorBarAlpha);horizontalErrorBarThickness=(0,_lib.pluckNumber)(JSONData.horizontalerrorbarthickness,JSONData.errorbarthickness,chartAttr.horizontalerrorbarthickness,errorBarThickness);verticalErrorBarThickness=(0,_lib.pluckNumber)(JSONData.verticalerrorbarthickness,JSONData.errorbarthickness,chartAttr.verticalerrorbarthickness,errorBarThickness);conf.horizontalErrorBarWidth=(0,_lib.pluckNumber)(JSONData.horizontalerrorbarwidth,chartAttr.horizontalerrorbarwidth,errorBarWidth);conf.verticalErrorBarWidth=(0,_lib.pluckNumber)(JSONData.verticalerrorbarwidth,chartAttr.verticalerrorbarwidth,errorBarWidth);conf.cumulativeValueOnErrorBar=(0,_lib.pluckNumber)(JSONData.cumulativevalueonerrorbar,chartAttr.cumulativevalueonerrorbar,1);for(i=0;i<setDataLen;i++){if(!setDataArr){continue}setData=setDataArr&&setDataArr[i];dataObj=dataStore[i];config=dataObj&&dataObj.config;if(!dataObj){dataObj=dataStore[i]={graphics:{}}}if(!dataObj.config){config=dataStore[i].config={}}setValue=config.setValue;config.errorValue=setData.errorvalue;config.cumulativeValueOnErrorBar=cumulativeValueOnErrorBar=(0,_lib.pluckNumber)(setData.cumulativevalueonerrorbar,conf.cumulativeValueOnErrorBar,1);config.hErrorValue=hErrorValue=numberFormatter.getCleanValue((0,_lib.pluck)(setData.horizontalerrorvalue,setData.errorvalue));hErrorToolTipValue=numberFormatter.xAxis(hErrorValue);config.vErrorValue=vErrorValue=numberFormatter.getCleanValue((0,_lib.pluck)(setData.verticalerrorvalue,setData.errorvalue));vErrorToolTipValue=numberFormatter.dataLabels(vErrorValue);config.hPositiveErrorValue=hPositiveErrorValue=numberFormatter.getCleanValue((0,_lib.pluck)(setData.horizontalpositiveerrorvalue,setData.positiveerrorvalue,hErrorValue));config.hNegativeErrorValue=hNegativeErrorValue=numberFormatter.getCleanValue((0,_lib.pluck)(setData.horizontalnegativeerrorvalue,setData.negativeerrorvalue,hErrorValue));config.vPositiveErrorValue=vPositiveErrorValue=numberFormatter.getCleanValue((0,_lib.pluck)(setData.verticalpositiveerrorvalue,setData.positiveerrorvalue,vErrorValue));config.vNegativeErrorValue=vNegativeErrorValue=numberFormatter.getCleanValue((0,_lib.pluck)(setData.verticalnegativeerrorvalue,setData.negativeerrorvalue,vErrorValue));horizontalErrorPercent=Math.round(hErrorValue/setValue.x*_lib.HUNDREDSTRING*_lib.HUNDREDSTRING)/_lib.HUNDREDSTRING+PERCENTAGESTRING;verticalErrorPercent=Math.round(vErrorValue/setValue.y*_lib.HUNDREDSTRING*_lib.HUNDREDSTRING)/_lib.HUNDREDSTRING+PERCENTAGESTRING;hPositiveErrorToolTipValue=numberFormatter.dataLabels(hPositiveErrorValue,parentYAxis);hPositiveSetTooltext=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(setData.errorplottooltext,JSONData.errorplottooltext,chartAttr.errorplottooltext,hPositiveErrorToolTipValue)));hNegativeErrorToolTipValue=numberFormatter.dataLabels(hNegativeErrorValue,parentYAxis);hNegativeSetTooltext=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(setData.errorplottooltext,JSONData.errorplottooltext,chartAttr.errorplottooltext,hNegativeErrorToolTipValue)));vPositiveErrorToolTipValue=numberFormatter.dataLabels(vPositiveErrorValue,parentYAxis);vPositiveSetTooltext=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(setData.errorplottooltext,JSONData.errorplottooltext,chartAttr.errorplottooltext,vPositiveErrorToolTipValue)));vNegativeErrorToolTipValue=numberFormatter.dataLabels(vNegativeErrorValue,parentYAxis);vNegativeSetTooltext=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(setData.errorplottooltext,JSONData.errorplottooltext,chartAttr.errorplottooltext,vNegativeErrorToolTipValue)));hCPErrorToolText=hCNErrorToolText=vCPErrorToolText=vCNErrorToolText=UNDEF;if(cumulativeValueOnErrorBar){hCPErrorToolTipValue=numberFormatter.dataLabels(setValue.x+hPositiveErrorValue,parentYAxis);hCPErrorToolText=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(setData.errorplottooltext,JSONData.errorplottooltext,chartAttr.errorplottooltext,hCPErrorToolTipValue)));hCNErrorToolTipValue=numberFormatter.dataLabels(setValue.x-hNegativeErrorValue,parentYAxis);hCNErrorToolText=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(setData.errorplottooltext,JSONData.errorplottooltext,chartAttr.errorplottooltext,hCNErrorToolTipValue)));vCPErrorToolTipValue=numberFormatter.dataLabels(setValue.y+vPositiveErrorValue,parentYAxis);vCPErrorToolText=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(setData.errorplottooltext,JSONData.errorplottooltext,chartAttr.errorplottooltext,vCPErrorToolTipValue)));vCNErrorToolTipValue=numberFormatter.dataLabels(setValue.y-vNegativeErrorValue,parentYAxis);vCNErrorToolText=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(setData.errorplottooltext,JSONData.errorplottooltext,chartAttr.errorplottooltext,vCNErrorToolTipValue)))}categories&&categories[i]&&(config.label=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(categories[i].tooltext,categories[i].label))));if(setData.horizontalpositiveerrorvalue||setData.positiveerrorvalue||setData.horizontalnegativeerrorvalue||setData.negativeerrorvalue){config.halfHorizontalErrorBar=halfHorizontalErrorBar=0}else{config.halfHorizontalErrorBar=halfHorizontalErrorBar=conf.halfHorizontalErrorBar}if(setData.verticalpositiveerrorvalue||setData.positiveerrorvalue||setData.verticalnegativeerrorvalue||setData.negativeerrorvalue){config.halfVerticalErrorBar=halfVerticalErrorBar=0}else{config.halfVerticalErrorBar=halfVerticalErrorBar=conf.halfVerticalErrorBar}if(setValue.x!==null){maxErrorValue=setValue.x+Number(hPositiveErrorValue);minErrorValue=setValue.x-(halfHorizontalErrorBar?0:Number(hNegativeErrorValue));xMax=Math.max(xMax,maxErrorValue,minErrorValue);xMin=Math.min(xMin,maxErrorValue,minErrorValue)}if(setValue.y!==null){maxErrorValue=setValue.y+Number(vPositiveErrorValue);minErrorValue=setValue.y-(halfVerticalErrorBar?0:Number(vNegativeErrorValue));yMax=Math.max(yMax,maxErrorValue,minErrorValue);yMin=Math.min(yMin,maxErrorValue,minErrorValue)}config.useHorizontalErrorBar=(0,_lib.pluckNumber)(setData.usehorizontalerrorbar,JSONData.usehorizontalerrorbar,chartAttr.usehorizontalerrorbar,0);config.useVerticalErrorBar=(0,_lib.pluckNumber)(setData.useverticalerrorbar,JSONData.useverticalerrorbar,chartAttr.useverticalerrorbar,1);config.errorValueConf={};horizontal=config.errorValueConf.horizontal={};horizontal.mandatory={};horizontal.mandatory.marker={errorValue:-(hPositiveErrorValue===null?UNDEF:hPositiveErrorValue),tooltext:getTooltext(hPositiveSetTooltext,hPositiveErrorToolTipValue),errorBarColor:horizontalErrorBarColor,isHorizontal:true,errorBarThickness:horizontalErrorBarThickness,shadowOpacity:errorBarShadow?horizontalErrorBarAlpha/250:0};horizontal.mandatory.limit={errorValue:-(hPositiveErrorValue===null?UNDEF:hPositiveErrorValue),tooltext:cumulativeValueOnErrorBar?getTooltext(hCPErrorToolText,hCPErrorToolTipValue):getTooltext(hPositiveSetTooltext,hPositiveErrorToolTipValue),errorBarColor:horizontalErrorBarColor,isHorizontal:true,errorBarThickness:horizontalErrorBarThickness,shadowOpacity:errorBarShadow?horizontalErrorBarAlpha/250:0,errorEdgeBar:true};horizontal.optional={};horizontal.optional.marker={errorValue:hNegativeErrorValue,tooltext:getTooltext(hNegativeSetTooltext,hNegativeErrorToolTipValue),errorBarColor:horizontalErrorBarColor,isHorizontal:true,errorBarThickness:horizontalErrorBarThickness,shadowOpacity:errorBarShadow?horizontalErrorBarAlpha/250:0};horizontal.optional.limit={errorValue:hNegativeErrorValue,tooltext:cumulativeValueOnErrorBar?getTooltext(hCNErrorToolText,hCNErrorToolTipValue):getTooltext(hNegativeSetTooltext,hNegativeErrorToolTipValue),errorBarColor:horizontalErrorBarColor,isHorizontal:true,errorBarThickness:horizontalErrorBarThickness,shadowOpacity:errorBarShadow?horizontalErrorBarAlpha/250:0,errorEdgeBar:true};vertical=config.errorValueConf.vertical={};vertical.mandatory={};vertical.mandatory.marker={errorValue:-(vPositiveErrorValue===null?UNDEF:vPositiveErrorValue),tooltext:getTooltext(vPositiveSetTooltext,vPositiveErrorToolTipValue),errorBarColor:verticalErrorBarColor,errorBarThickness:verticalErrorBarThickness,shadowOpacity:errorBarShadow?verticalErrorBarAlpha/250:0};vertical.mandatory.limit={errorValue:-(vPositiveErrorValue===null?UNDEF:vPositiveErrorValue),tooltext:cumulativeValueOnErrorBar?getTooltext(vCPErrorToolText,vCPErrorToolTipValue):getTooltext(vPositiveSetTooltext,vPositiveErrorToolTipValue),errorBarColor:verticalErrorBarColor,errorBarThickness:verticalErrorBarThickness,shadowOpacity:errorBarShadow?verticalErrorBarAlpha/250:0,errorEdgeBar:true};vertical.optional={};vertical.optional.marker={errorValue:vNegativeErrorValue,tooltext:getTooltext(vNegativeSetTooltext,vNegativeErrorToolTipValue),errorBarColor:verticalErrorBarColor,errorBarThickness:verticalErrorBarThickness,shadowOpacity:errorBarShadow?verticalErrorBarAlpha/250:0};vertical.optional.limit={errorValue:vNegativeErrorValue,tooltext:cumulativeValueOnErrorBar?getTooltext(vCNErrorToolText,vCNErrorToolTipValue):getTooltext(vNegativeSetTooltext,vNegativeErrorToolTipValue),errorBarColor:verticalErrorBarColor,errorBarThickness:verticalErrorBarThickness,shadowOpacity:errorBarShadow?verticalErrorBarAlpha/250:0,errorEdgeBar:true};setValue=config.setValue;formatedVal=config.formatedVal;if(!conf.showTooltip){toolText=false}else if(config.setTooltext!==UNDEF){macroIndices=[1,2,3,4,5,6,7,8,9,10,11,99,100,101,102,103,104,105,106,107,109];parserConfig={yaxisName:yAxisName,xaxisName:xAxisName,yDataValue:formatedVal,xDataValue:config.label,formattedValue:config.toolTipValue,horizontalErrorValue:hErrorValue,horizontalErrorDataValue:hErrorToolTipValue,verticalErrorValue:vErrorValue,verticalErrorDataValue:vErrorToolTipValue,horizontalErrorPercentValue:horizontalErrorPercent,verticalErrorPercentValue:verticalErrorPercent,label:config.label};toolText=(0,_lib.parseTooltext)(config.setTooltext,macroIndices,parserConfig,setData,chartAttr,JSONData)}else{if(formatedVal===null){toolText=false}else{if(conf.seriesNameInTooltip){seriesname=(0,_lib.getFirstValue)(JSONData&&JSONData.seriesname)}toolText=seriesname?seriesname+tooltipSepChar:BLANK;toolText+=setValue.x?numberFormatter.xAxis(setValue.x)+tooltipSepChar:BLANK;toolText+=config.toolTipValue}}config.toolText=toolText}conf.xMax=xMax;conf.xMin=xMin;conf.yMin=yMin;conf.yMax=yMax};ErrorScatter.prototype.drawErrorValue=function drawErrorValue(){var dataSet=this,JSONData=dataSet.config.JSONData,conf=dataSet.config,setDataArr=JSONData.data,dataSetLen=setDataArr&&setDataArr.length,attr,i,errorGraphicsString,visible=dataSet.getState("visible"),xAxis=dataSet.getFromEnv("xAxis"),yAxis=dataSet.getFromEnv("yAxis"),dataStore=dataSet.components.data,graphics,isHorizontal,errorBarThickness,errorBarWidth,errorBarColor,shadowOpacity=conf.shadowOpacity,errorGroupContainer=dataSet.getContainer("errorPlotGroup"),errorShadowContainer=dataSet.getContainer("errorShadowGroup"),setLink,xPos,yPos,useCrispErrorPath=1,dataObj,setValue,animState,config,notRequiredHEB,notRequiredVEB,isHalfHorizontalErrorBar,isHalfVertictalErrorBar,crispY,crispX,errorPath,errorValPos,errorValuePosFactor,subType,errorBar,subErrorBar,segment,segmentType,currErrorTracker,errorValue,errorStartPos,halfErrorBarW,errorLineElem,plotXpos,plotYpos,errorBarSegmentLen,errorBarSegmentStartPos,l,j=0,k,errorValueConf,errorBarType,trackerTolerance,keys,animationManager=dataSet.getFromEnv("animationManager"),searchDataArr=[],errorTrackerConfig,callbackFn=function callbackFn(state){return function(){if(state==="disappearing"){this.hide()}}};for(i=0;i<dataSetLen;i++){dataObj=dataStore[i];errorTrackerConfig=dataObj.errorTrackerConfig={};errorTrackerConfig.errorTrackerArr=[];config=dataObj&&dataObj.config;setValue=config&&config.setValue;errorValueConf=config.errorValueConf;if(dataObj===UNDEF||setValue===UNDEF||setValue===null||!errorValueConf){continue}keys=Object.keys(graphics=dataObj.graphics);if(config.vErrorValue===null&&config.vPositiveErrorValue===null&&config.vNegativeErrorValue===null){for(k=0;k<keys.length;k++){if(keys[k].match(/error-horizontal-/)){animationManager.setAnimation({el:graphics[keys[k]],state:"disappearing",callback:callbackFn("disappearing")});graphics[keys[k]].shadow({opacity:0})}}}if(config.hErrorValue===null&&config.hPositiveErrorValue===null&&config.vPositiveErrorValue===null){for(k=0;k<keys.length;k++){if(keys[k].match(/error-vertical-/)){animationManager.setAnimation({el:graphics[keys[k]],state:"disappearing",callback:callbackFn("disappearing")});graphics[keys[k]].shadow({opacity:0})}}}if(config.hErrorValue===null&&config.vErrorValue===null&&config.hPositiveErrorValue&&config.hNegativeErrorValue&&config.vPositiveErrorValue&&config.vNegativeErrorValue){continue}setLink=config.setLink;plotXpos=dataObj._xPos;plotYpos=dataObj._yPos;yPos=plotYpos;xPos=plotXpos;for(errorBarType in errorValueConf){if(!errorValueConf.hasOwnProperty(errorBarType)){continue}errorBar=errorValueConf[errorBarType];for(subType in errorBar){if(!errorBar.hasOwnProperty(subType)){continue}subErrorBar=errorBar[subType];for(segmentType in subErrorBar){if(!subErrorBar.hasOwnProperty(segmentType)){continue}animState=UNDEF;segment=subErrorBar[segmentType];attr={};currErrorTracker=errorTrackerConfig.errorTrackerArr[j]={};errorLineElem=null;currErrorTracker.tooltext=segment.tooltext;errorStartPos=yPos;errorValue=segment.errorValue;notRequiredHEB=!config.useHorizontalErrorBar&&errorBarType===HORIZONTAL;notRequiredVEB=!config.useVerticalErrorBar&&errorBarType===VERTICAL;isHalfHorizontalErrorBar=config.halfHorizontalErrorBar&&errorBarType===HORIZONTAL&&subType===OPTIONAL;isHalfVertictalErrorBar=config.halfVerticalErrorBar&&errorBarType===VERTICAL&&subType===OPTIONAL;if(notRequiredHEB||notRequiredVEB||isHalfHorizontalErrorBar||isHalfVertictalErrorBar){animState="disappearing"}else if(errorValue===null||errorValue===UNDEF||isNaN(errorValue)){animState="disappearing"}else{errorBarColor=segment.errorBarColor;isHorizontal=segment.isHorizontal;errorBarThickness=segment.errorBarThickness;errorBarWidth=isHorizontal?conf.horizontalErrorBarWidth:conf.verticalErrorBarWidth;halfErrorBarW=!visible?0:errorBarWidth/2;errorValuePosFactor=!visible?0:-1;trackerTolerance=errorBarThickness>5?errorBarThickness/2+.5:5.5/2;if(isHorizontal){errorValPos=xAxis.getPixel(dataObj.config._x+errorValue*errorValuePosFactor);crispY=errorValPos;crispX=xPos;if(useCrispErrorPath){crispY=Math.round(errorStartPos)+errorBarThickness%2/2;crispX=Math.round(errorValPos)+errorBarThickness%2/2}if(segment.errorEdgeBar){errorPath=[M,crispX,crispY-halfErrorBarW,V,crispY+halfErrorBarW];errorBarSegmentLen=2*halfErrorBarW;errorBarSegmentStartPos=crispY-halfErrorBarW;for(l=trackerTolerance;l<errorBarSegmentLen;l+=2*trackerTolerance){searchDataArr.push({x:crispX,y:errorBarSegmentStartPos+l,r:trackerTolerance,index:i,data:dataObj,toolText:segment.tooltext,barType:"h"})}}else{errorPath=[M,xPos,crispY,H,crispX];errorBarSegmentLen=Math.abs(xPos-crispX);errorBarSegmentStartPos=xPos>crispX?crispX:xPos;for(l=trackerTolerance;l<errorBarSegmentLen;l+=2*trackerTolerance){searchDataArr.push({x:errorBarSegmentStartPos+l,y:crispY,r:trackerTolerance,index:i,data:dataObj,toolText:segment.tooltext,barType:"h"})}}}else{errorValPos=yAxis.getPixel(dataObj.config._y+errorValue*errorValuePosFactor);crispY=errorValPos;crispX=xPos;if(useCrispErrorPath){crispY=Math.round(errorValPos)+errorBarThickness%2/2;crispX=Math.round(xPos)+errorBarThickness%2/2}if(segment.errorEdgeBar){errorPath=[M,crispX-halfErrorBarW,crispY,H,crispX+halfErrorBarW];errorBarSegmentLen=2*halfErrorBarW;errorBarSegmentStartPos=crispX-halfErrorBarW;for(l=trackerTolerance;l<=errorBarSegmentLen;l+=2*trackerTolerance){searchDataArr.push({x:errorBarSegmentStartPos+l,y:crispY,r:trackerTolerance,index:i,data:dataObj,toolText:segment.tooltext,barType:"v"})}}else{errorPath=[M,crispX,errorStartPos,V,crispY];errorBarSegmentLen=Math.abs(errorStartPos-crispY);errorBarSegmentStartPos=errorStartPos>crispY?crispY:errorStartPos;for(l=trackerTolerance;l<=errorBarSegmentLen;l+=2*trackerTolerance){searchDataArr.push({x:crispX,y:errorBarSegmentStartPos+l,r:trackerTolerance,index:i,data:dataObj,toolText:segment.tooltext,barType:"v"})}}}attr={path:errorPath,"stroke-width":visible?errorBarThickness:0,stroke:errorBarColor,cursor:setLink?POINTER:BLANK,"stroke-linecap":ROUND}}errorGraphicsString=["error",errorBarType,subType,segmentType].join("-");if(!animState){if(graphics[errorGraphicsString]){animState="updating"}else{animState="appearing"}}if(!graphics[errorGraphicsString]&&animState==="disappearing"){continue}errorLineElem=graphics[errorGraphicsString]=animationManager.setAnimation({el:graphics[errorGraphicsString]||"path",container:errorGroupContainer,component:dataSet,attr:attr,state:animState,label:"path",callback:callbackFn(animState)});animState!=="disappearing"&&errorLineElem.show();errorLineElem.shadow({opacity:animState==="disappearing"?0:shadowOpacity},errorShadowContainer)}}}}searchDataArr.length&&(this.config.dataTreeB=(new _kdtree2["default"]).buildKdTree(searchDataArr));conf.initAnimation=false};ErrorScatter.prototype._getHoveredPlot=function _getHoveredPlot(x,y){var res,res1,tooltext,errorBarToolText,hoverEffects,element;res=this.config.dataTree.getNeighbour({x:x,y:y},true);if(res){tooltext=res.data.config.toolText;res.data.config.finalTooltext=tooltext;hoverEffects=res.data.config.hoverEffects;element=res.data.graphics.element;element.data("hoverEnabled",hoverEffects.enabled);hoverEffects.enabled&&element.attr(element.getData().setRolloverAttr);return{pointIndex:res.index,hovered:true,pointObj:res.data}}else{res1=this.config.dataTreeB&&this.config.dataTreeB.getNeighbour({x:x,y:y},true);if(res1){if(res1.barType==="h"){errorBarToolText=res1.toolText}else if(res1.barType==="v"){errorBarToolText=res1.toolText}res1.data.config.finalTooltext=errorBarToolText;element=res1.data.graphics.element;element.data("hoverEnabled",false);element.attr(element.getData().setRolloutAttr);return{pointIndex:res1.index,hovered:true,pointObj:res1.data}}}};ErrorScatter.prototype.removePlots=function removePlots(){var dataSet=this,components=dataSet.components,removeDataArr=components.removeDataArr,pool=components.pool||(components.pool={element:[],hotElement:[],label:[]}),animationManager=dataSet.getFromEnv("animationManager"),len=removeDataArr.length,removeData,graphics,i,key,callback=function callback(){this.hide();this.shadow({opacity:0})};for(i=0;i<len;i++){removeData=removeDataArr[0];removeDataArr.splice(0,1);if(!removeData||!removeData.graphics){continue}graphics=removeData.graphics;for(key in graphics){if(graphics.hasOwnProperty(key)){animationManager.setAnimation({el:graphics[key],component:dataSet,attr:{},state:"disappering",callback:callback})}}removeData.graphics.element&&(pool.element=pool.element.concat(removeData.graphics.element));removeData.graphics.label&&(pool.label=pool.label.concat(removeData.graphics.label))}components.pool=pool};return ErrorScatter}(_scatter2["default"]);exports["default"]=ErrorScatter},481:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _lineAnimation=__webpack_require__(349);var _lineAnimation2=_interopRequireDefault(_lineAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports["default"]={"initial.dataset.errorScatter":_lineAnimation2["default"]["initial.dataset.line"]}},482:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _errorlineErrorAnimation=__webpack_require__(477);var _errorlineErrorAnimation2=_interopRequireDefault(_errorlineErrorAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports["default"]={"initial.dataset.errorScatter":_errorlineErrorAnimation2["default"]["initial.dataset.errorLine"]}},483:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _mscartesian=__webpack_require__(354);var _mscartesian2=_interopRequireDefault(_mscartesian);var _area=__webpack_require__(347);var _area2=_interopRequireDefault(_area);var _areabase=__webpack_require__(431);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var InverseMSArea=function(_MSCartesian){_inherits(InverseMSArea,_MSCartesian);function InverseMSArea(){_classCallCheck(this,InverseMSArea);return _possibleConstructorReturn(this,_MSCartesian.apply(this,arguments))}InverseMSArea.getName=function getName(){return"InverseMSArea"};InverseMSArea.prototype.getName=function getName(){return"InverseMSArea"};InverseMSArea.prototype.__setDefaultConfig=function __setDefaultConfig(){_MSCartesian.prototype.__setDefaultConfig.call(this);var config=this.config;config.friendlyName="Inverted Y-Axis Multi-series Area Chart";config.defaultDatasetType="area";config.isInverse=true;config.zeroplanethickness=2;config.zeroplanealpha=80;config.showzeroplaneontop=1;config.enablemousetracking=true;config.defaultcrosslinethickness=1;_areabase._setDefaultConfig.call(this)};InverseMSArea.prototype.getDSdef=function getDSdef(){return _area2["default"]};InverseMSArea.prototype.getDSGroupdef=function getDSGroupdef(){};return InverseMSArea}(_mscartesian2["default"]);exports["default"]=InverseMSArea},484:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _mscartesian=__webpack_require__(354);var _mscartesian2=_interopRequireDefault(_mscartesian);var _column=__webpack_require__(331);var _column2=_interopRequireDefault(_column);var _column3=__webpack_require__(402);var _column4=_interopRequireDefault(_column3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var COLUMN="column";var InverseMSColumn2d=function(_MSCartesian){_inherits(InverseMSColumn2d,_MSCartesian);function InverseMSColumn2d(){_classCallCheck(this,InverseMSColumn2d);return _possibleConstructorReturn(this,_MSCartesian.apply(this,arguments))}InverseMSColumn2d.getName=function getName(){return"InverseMSColumn2d"};InverseMSColumn2d.prototype.getName=function getName(){return"InverseMSColumn2d"};InverseMSColumn2d.prototype.__setDefaultConfig=function __setDefaultConfig(){_MSCartesian.prototype.__setDefaultConfig.call(this);var config=this.config;config.friendlyName="Inverted Y-Axis Multi-series Column Chart";config.defaultDatasetType=COLUMN;config.isInverse=true;config.enablemousetracking=true};InverseMSColumn2d.prototype.getDSdef=function getDSdef(){return _column2["default"]};InverseMSColumn2d.prototype.getDSGroupdef=function getDSGroupdef(){return _column4["default"]};return InverseMSColumn2d}(_mscartesian2["default"]);exports["default"]=InverseMSColumn2d},485:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _mscartesian=__webpack_require__(354);var _mscartesian2=_interopRequireDefault(_mscartesian);var _line=__webpack_require__(346);var _line2=_interopRequireDefault(_line);var _areabase=__webpack_require__(431);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var LINE="line";var InverseMSLine=function(_MSCartesian){_inherits(InverseMSLine,_MSCartesian);InverseMSLine.getName=function getName(){return"InverseMSLine"};function InverseMSLine(){_classCallCheck(this,InverseMSLine);var _this=_possibleConstructorReturn(this,_MSCartesian.call(this));_this.defaultPlotShadow=1;return _this}InverseMSLine.prototype.getName=function getName(){return"InverseMSLine"};InverseMSLine.prototype.__setDefaultConfig=function __setDefaultConfig(){_MSCartesian.prototype.__setDefaultConfig.call(this);var config=this.config;config.friendlyName="Inverted Y-Axis Multi-series Line Chart";config.defaultDatasetType=LINE;config.isInverse=true;config.zeroplanethickness=1;config.zeroplanealpha=4;config.showzeroplaneontop=0;config.enablemousetracking=true;config.defaultcrosslinethickness=1;_areabase._setDefaultConfig.call(this)};InverseMSLine.prototype.getDSdef=function getDSdef(){return _line2["default"]};InverseMSLine.prototype.getDSGroupdef=function getDSGroupdef(){};return InverseMSLine}(_mscartesian2["default"]);exports["default"]=InverseMSLine},486:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _dragbase=__webpack_require__(487);var _dragbase2=_interopRequireDefault(_dragbase);var _dragcolumn=__webpack_require__(490);var _dragcolumn2=_interopRequireDefault(_dragcolumn);var _dragcolumn3=__webpack_require__(492);var _dragcolumn4=_interopRequireDefault(_dragcolumn3);var _limitUpdater=__webpack_require__(493);var _limitUpdater2=_interopRequireDefault(_limitUpdater);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var DragColumn=function(_DragBase){_inherits(DragColumn,_DragBase);function DragColumn(){_classCallCheck(this,DragColumn);var _this=_possibleConstructorReturn(this,_DragBase.call(this));_this.registerFactory("limitUpdater",_limitUpdater2["default"],["axis"]);return _this}DragColumn.prototype.getName=function getName(){return"DragColumn2D"};DragColumn.getName=function getName(){return"DragColumn2D"};DragColumn.prototype.getDSGroupdef=function getDSGroupdef(){return _dragcolumn4["default"]};DragColumn.prototype.__setDefaultConfig=function __setDefaultConfig(){_DragBase.prototype.__setDefaultConfig.call(this);this.config.isDrag=true};DragColumn.prototype.getDSdef=function getDSdef(){return _dragcolumn2["default"]};return DragColumn}(_dragbase2["default"]);exports["default"]=DragColumn},487:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _mscolumn2d=__webpack_require__(404);var _mscolumn2d2=_interopRequireDefault(_mscolumn2d);var _lib=__webpack_require__(118);var _dependencyManager=__webpack_require__(125);var _realtime=__webpack_require__(488);var _schedular=__webpack_require__(129);var _editableCharts=__webpack_require__(489);var _zoomscatter=__webpack_require__(424);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var UNDEF=void 0,transcoders=(0,_dependencyManager.getDepsByType)("transcoder"),UNDERSCORE=_lib.preDefStr.UNDERSCORE,BLANK=_lib.BLANKSTRING,count=0,updateDataLimit=function updateDataLimit(e){var iapi=e.sender.apiInstance,canvas=iapi.getChildren("canvas")[0],vCanvas=canvas.getChildren("vCanvas")[0],iapiConf=iapi.config,dataLimit=void 0,data=e.data,endValue=data&&data.endValue,startValue=data&&data.startValue;if(endValue>iapiConf.yMax||endValue<iapiConf.yMin||startValue===iapiConf.yMin||startValue===iapiConf.yMax){dataLimit=vCanvas.getDataLimits();iapiConf.yMax=dataLimit.max;iapiConf.yMin=dataLimit.min}},sanitiseFormatStr=function sanitiseFormatStr(str){return str.toString().toLowerCase()};var DragBase=function(_MSColumn2D){_inherits(DragBase,_MSColumn2D);function DragBase(){_classCallCheck(this,DragBase);var _this=_possibleConstructorReturn(this,_MSColumn2D.call(this));_this.eiMethods.getDataWithId=function(){var chartInstance=this,dataObj=chartInstance.apiInstance&&chartInstance.apiInstance.getJSONData(),returnObj=[[BLANK]],datasets=dataObj.dataset,catArr=dataObj.categories&&dataObj.categories[0]&&dataObj.categories[0].category,i=datasets&&datasets.length||0,vLinePassed=0,setArr,catName,catObj,set,DS,item,dsID,id,j,ln;while(i--){DS=datasets[i];if(DS){returnObj[0][i+1]=DS.id||DS.seriesname;dsID=DS.id||i+1;set=DS.data;ln=set&&set.length||0;for(j=0;j<ln;j+=1){item=j+1;if(!returnObj[item]){catObj=catArr&&catArr[j+vLinePassed]||{};while(catObj.vline){vLinePassed+=1;catObj=catArr[j+vLinePassed]||{}}catName=catObj.label||catObj.name||BLANK;returnObj[item]=[catName]}setArr=returnObj[item];id=set[j].id||item+UNDERSCORE+dsID;setArr[i+1]=[id,Number(set[j].value)]}}}return returnObj};_this.eiMethods.getData=function(format){var chartInstance=this,jsonData=chartInstance.apiInstance&&chartInstance.apiInstance.getJSONData(),returnData,datasets=jsonData.dataset,len=datasets&&datasets.length||0,i=0,transcoderObjSource,sanitisedFormat;if(format){sanitisedFormat=sanitiseFormatStr(format);if(/^json$/gi.test(sanitisedFormat)){returnData=jsonData}else{transcoderObjSource=transcoders[sanitisedFormat]();returnData=transcoderObjSource.fromJSON(jsonData,chartInstance).data}}else{returnData=_realtime._getData.call(chartInstance.apiInstance);returnData.unshift([BLANK]);while(i<len){returnData[0][i+1]=datasets[i++].seriesname}}return returnData};_this.eiMethods.setUpperLimit=function(limit,callback){var chartInstance=this,iapi=chartInstance.apiInstance,output;if(callback){iapi.addJob("setUpperLimitId"+count++,function(){output=iapi.changeUpperLimits(limit);if(typeof callback==="function"){callback(output)}},_schedular.priorityList.postRender)}else{return iapi.changeUpperLimits(limit)}};_this.eiMethods.setLowerLimit=function(limit,callback){var chartInstance=this,iapi=chartInstance.apiInstance,output;if(callback){iapi.addJob("setLowerLimitId"+count++,function(){output=iapi.changeLowerLimits(limit);if(typeof callback==="function"){callback(output)}},_schedular.priorityList.postRender)}else{return iapi.changeLowerLimits(limit)}};_this.eiMethods.getLowerLimit=function(callback){var chartInstance=this,iapi=chartInstance.apiInstance,yAxis=iapi.getChildren("yAxis")[0];if(yAxis){if(callback){iapi.addJob("getLowerLimitId"+count++,function(){if(typeof callback==="function"){callback(yAxis.config.axisRange.min)}},_schedular.priorityList.postRender)}else{return yAxis.config.axisRange.min}}};_this.eiMethods.getUpperLimit=function(callback){var chartInstance=this,iapi=chartInstance.apiInstance,yAxis=iapi.getChildren("yAxis")[0];if(yAxis){if(callback){iapi.addJob("getUpperLimitId"+count++,function(){if(typeof callback==="function"){callback(yAxis.config.axisRange.max)}},_schedular.priorityList.postRender)}else{return yAxis.config.axisRange.max}}};return _this}DragBase.prototype.getName=function getName(){return"DragBase"};DragBase.prototype.configureAttributes=function configureAttributes(dataObj){_MSColumn2D.prototype.configureAttributes.call(this,dataObj);this.getName()!=="DragNode"&&this.getFromEnv("chartInstance").addEventListener("dataplotdragend",updateDataLimit)};DragBase.prototype.mouseoutHandler=function mouseoutHandler(e,_lastDatasetIndex,_lastPointIndex){var chart=this,datasets=chart.config.datasetOrder||chart.getDatasets(),mouseTracker=chart.getChildren("mouseTracker")[0];datasets[_lastDatasetIndex]._firePlotEvent(_lib.MOUSEOUT,_lastPointIndex,e);delete mouseTracker._lastDatasetIndex;delete mouseTracker._lastPointIndex};DragBase.getName=function getName(){return"DragBase"};DragBase.prototype._mouseEvtHandler=function _mouseEvtHandler(e,data){var chart=this,mouseTracker=data.mouseTracker,oriEvent=e.originalEvent,chartConfig=chart.config,datasets=chartConfig.datasetOrder||chart.getDatasets(),coordinate=(0,_lib.getMouseCoordinate)(chart.getFromEnv("chart-container"),oriEvent,chart),chartX=coordinate.chartX,chartY=coordinate.chartY,dataset,hoveredInfo,pointFound=false,i=datasets.length,j,l,derivedEvensInfo,_lastDatasetIndex=mouseTracker._lastDatasetIndex,_lastPointIndex=mouseTracker._lastPointIndex,dragStart,eventType;_lastPointIndex!==UNDEF&&(dragStart=datasets[_lastDatasetIndex].components.data[_lastPointIndex].config.dragStart);if(!dragStart){while(i--&&!pointFound){dataset=datasets[i];if(dataset&&dataset.getState("visible")){hoveredInfo=dataset._getHoveredPlot&&dataset._getHoveredPlot(chartX,chartY);if(hoveredInfo&&hoveredInfo.hovered){pointFound=true;hoveredInfo.datasetIndex=i;derivedEvensInfo=mouseTracker.getMouseEvents(e,hoveredInfo.datasetIndex,hoveredInfo.pointIndex)}}}}if(dragStart&&_lastDatasetIndex!==UNDEF){eventType=e.type===_lib.MOUSEOUT?_lib.MOUSEMOVE:e.type;datasets[_lastDatasetIndex]&&datasets[_lastDatasetIndex]._firePlotEvent&&datasets[_lastDatasetIndex]._firePlotEvent(eventType,_lastPointIndex,e)}if(!dragStart&&(!pointFound||derivedEvensInfo&&derivedEvensInfo.fireOut)&&_lastDatasetIndex!==UNDEF){if(datasets[_lastDatasetIndex]&&datasets[_lastDatasetIndex]._firePlotEvent){if(derivedEvensInfo&&!derivedEvensInfo.events.length){mouseTracker.mouseoutTimer=setTimeout(function(){chart.mouseoutHandler(e,_lastDatasetIndex,_lastPointIndex)},20)}else{chart.mouseoutHandler(e,_lastDatasetIndex,_lastPointIndex)}}}if(pointFound){l=derivedEvensInfo.events&&derivedEvensInfo.events.length;if(l){mouseTracker._lastDatasetIndex=hoveredInfo.datasetIndex;_lastPointIndex=mouseTracker._lastPointIndex=hoveredInfo.pointIndex}for(j=0;j<l;j+=1){dataset&&dataset._firePlotEvent&&dataset._firePlotEvent(derivedEvensInfo.events[j],_lastPointIndex,e)}}};DragBase.prototype.parseChartAttr=function parseChartAttr(dataObj){_MSColumn2D.prototype.parseChartAttr.call(this,dataObj);var chart=this,jsonData=chart.getFromEnv("dataSource"),chartAttr=jsonData.chart,chartConfig;chartConfig=chart.config;chartConfig.formAction=(0,_lib.getValidValue)(chartAttr.formaction);if(chartAttr.submitdataasxml===_lib.ZEROSTRING&&!chartAttr.formdataformat){chartAttr.formdataformat=transcoders.csv().format}chartConfig.formDataFormat=(0,_lib.pluck)(chartAttr.formdataformat,transcoders.xml().format);chartConfig.formTarget=(0,_lib.pluck)(chartAttr.formtarget,"_self");chartConfig.formMethod=(0,_lib.pluck)(chartAttr.formmethod,"POST");chartConfig.submitFormAsAjax=(0,_lib.pluckNumber)(chartAttr.submitformusingajax,1);chartConfig.restoreBtnTitle=(0,_lib.pluck)(chartAttr.restoretext,chartAttr.restorebtntitle,"Restore");chartConfig.submitBtnTitle=(0,_lib.pluck)(chartAttr.submittext,chartAttr.formbtntitle,"Submit");chartConfig.showFormBtn=(0,_lib.pluckNumber)(chartAttr.enablesubmit,chartAttr.showformbtn,1)&&chartConfig.formAction;chartConfig.showRestoreBtn=(0,_lib.pluckNumber)(chartAttr.enablerestore,chartAttr.showrestorebtn,1);chartConfig.formBtnTitle=(0,_lib.pluck)(chartAttr.formbtntitle,"Submit");chartConfig.formBtnStyle={fontSize:chartConfig.style.outCanfontSize,fontFamily:chartConfig.style.outCanfontFamily,fontWeight:"bold"};chartConfig.restoreBtnWidth=(0,_lib.pluckNumber)(chartAttr.restorebtnwidth,0);chartConfig.allowAxisChange=(0,_lib.pluckNumber)(chartAttr.allowaxischange,1);if(chartAttr.toolbary||chartAttr.toolbarx){chartConfig.spaceHardCoded=true}else{delete chartConfig.spaceHardCoded}chartConfig.drawTrendRegion=(0,_lib.pluckNumber)(chartAttr.drawcrossline,0)};DragBase.prototype._storeIntialLimit=function _storeIntialLimit(min,max){this.config.axisInitialLimit={min:min,max:max}};DragBase.prototype._createToolBox=function _createToolBox(){_MSColumn2D.prototype._createToolBox.call(this);this.addConfigureOptions()};DragBase.prototype.addConfigureOptions=function addConfigureOptions(){var chart=this,sListRef=chart.getFromEnv("chartMenuList"),chartConf=chart.config,allowAxisChange=chartConf.allowAxisChange,restore,submit,submitBtnTitle=chartConf.submitBtnTitle,restoreBtnTitle=chartConf.restoreBtnTitle,configureTools=[{"Increase Upper Limit":{handler:function handler(){var yAxis=chart.getChildren("yAxis")[0],axisRange=yAxis.getLimit(),max=axisRange.max,tickInterval=axisRange.tickInterval;chart.changeUpperLimits(max+tickInterval)},action:"click"}},{"Increase Lower Limit":{handler:function handler(){var yAxis=chart.getChildren("yAxis")[0],axisRange=yAxis.getLimit(),min=axisRange.min,tickInterval=axisRange.tickInterval;chart.changeLowerLimits(min+tickInterval)},action:"click"}},{"Decrease Upper Limit":{handler:function handler(){var yAxis=chart.getChildren("yAxis")[0],axisRange=yAxis.getLimit(),max=axisRange.max,tickInterval=axisRange.tickInterval;chart.changeUpperLimits(max-tickInterval)},action:"click"}},{"Decrease Lower Limit":{handler:function handler(){var yAxis=chart.getChildren("yAxis")[0],axisRange=yAxis.getLimit(),min=axisRange.min,tickInterval=axisRange.tickInterval;chart.changeLowerLimits(min-tickInterval)},action:"click"}}];if(chartConf.showFormBtn){submit={};submit[submitBtnTitle]={handler:function handler(){_editableCharts.submitData.call(chart)},action:"click"};configureTools.push(submit)}if(chartConf.showRestoreBtn){restore={};restore[restoreBtnTitle]={handler:function handler(){chart.restoreData()},action:"click"};configureTools.push(restore)}if(allowAxisChange){sListRef.appendAsList(configureTools)}};DragBase.prototype.restoreData=function restoreData(){var chart=this,yAxis=chart.getChildren("yAxis")[0],chartAttr=chart.getFromEnv("chart-attrib"),axisInitialLimit=chart.config.axisInitialLimit;chart.iterateComponents(function(child){var data=void 0;if(data=child.getChildren("dataset")){data.forEach(function(dataset){dataset.restore()})}});yAxis.resetStoredLimits();yAxis.setAxisConfig({axisMaxValue:chartAttr.yaxismaxvalue,axisMinValue:chartAttr.yaxisminvalue});yAxis.setDataLimit(axisInitialLimit.max,axisInitialLimit.min);chart.fireChartInstanceEvent("dataRestored",{});chart._manageInteractiveSpace()};DragBase.prototype.changeLowerLimits=function changeLowerLimits(lowerLimit){var chart=this,yAxis=chart.getChildren("yAxis")[0],axisRange=yAxis.getLimit(),min=axisRange.min,yMin=axisRange.min,config=chart.config,minValue=(0,_lib.safeMin)([config.yMin,yAxis.getTrendLineLimits()[0]]),limitchanged=false,allowAxisChange=config.allowAxisChange,max=axisRange.max;chart.getFromEnv("animationManager").setAnimationState("update");if(lowerLimit!==UNDEF&&lowerLimit<minValue&&lowerLimit!==yMin&&allowAxisChange){min=lowerLimit;limitchanged=true}if(limitchanged){yAxis.resetStoredLimits();yAxis.setAxisConfig({axisMaxValue:max,axisMinValue:min,showLowerLimit:true});yAxis.setDataLimit(max,min);chart._manageInteractiveSpace()}return limitchanged};DragBase.prototype.changeUpperLimits=function changeUpperLimits(upperLimit){var chart=this,yAxis=chart.getChildren("yAxis")[0],axisRange=yAxis.getLimit(),min=axisRange.min,yAxisMax=axisRange.max,config=chart.config,maxValue=(0,_lib.safeMax)([config.yMax,yAxis.getTrendLineLimits()[1]]),limitchanged=false,allowAxisChange=config.allowAxisChange,max;chart.getFromEnv("animationManager").setAnimationState("update");if(upperLimit!==UNDEF&&upperLimit>maxValue&&upperLimit!==yAxisMax&&allowAxisChange){max=upperLimit;limitchanged=true}if(limitchanged){yAxis.resetStoredLimits();yAxis.setAxisConfig({axisMaxValue:max,axisMinValue:min,showUpperLimit:true});yAxis.setDataLimit(max,min);chart._manageInteractiveSpace()}return limitchanged};DragBase.prototype.getJSONData=function getJSONData(){var chart=this,canvas=chart.getChildren("canvas")[0],vCanvas=canvas.getChildren("vCanvas")[0],rawObj=chart.getFromEnv("dataSource"),groupManager,datasetsArr=[],dataset,datasets,dataObj,i,len,jsonObj;vCanvas.iterateComponents(function(component){if(component.getType()==="group"){groupManager=component}});if(groupManager){datasetsArr=groupManager.getJSONData&&groupManager.getJSONData()}else{datasets=chart.getDatasets();len=datasets.length;for(i=0;i<len;i++){dataset=datasets[i];dataObj={seriesname:dataset.config.seriesname,data:dataset.getJSONData().data};datasetsArr.push(dataObj)}}jsonObj=(0,_lib.extend2)({},rawObj);jsonObj.dataset=datasetsArr;return jsonObj};return DragBase}(_mscolumn2d2["default"]);DragBase.prototype._manageInteractiveSpace=_zoomscatter._manageInteractiveSpace;exports["default"]=DragBase},489:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.submitData=undefined;var _ajax=__webpack_require__(166);var _ajax2=_interopRequireDefault(_ajax);var _dependencyManager=__webpack_require__(125);var _lib=__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var UNDEF=void 0,transcoders=(0,_dependencyManager.getDepsByType)("transcoder");function submitData(){var chart=this,ajaxObj=new _ajax2["default"],chartConf=chart.config,json=transcoders.json(),csv=transcoders.csv&&transcoders.csv()||"csv",xml=transcoders.xml(),url=chartConf.formAction,chartInstance=chart.getFromEnv("chartInstance"),submitAsAjax=chartConf.submitFormAsAjax,requestType,data,paramObj,tempSpan,formEle;if(chartConf.formDataFormat===json.format){requestType=json.format;if(chart.getJSONData){data=JSON.stringify(chart.getJSONData())}if(chart.getCollatedData){data=JSON.stringify(chart.getCollatedData())}}else if(chartConf.formDataFormat&&chartConf.formDataFormat===csv.format){requestType=csv.format;data=chart.getCSVString&&chart.getCSVString();if(data===UNDEF||data===""){if(chart.getJSONData){data=csv.fromJSON(chart.getJSONData()).data}if(chart.getCollatedData){data=csv.fromJSON(chart.getCollatedData()).data}}}else{requestType=xml.format;if(chart.getCollatedData){data=xml.fromJSON(chart.getCollatedData()).data}if(chart.getJSONData){data=xml.fromJSON(chart.getJSONData()).data}}chart.fireChartInstanceEvent("beforeDataSubmit",{data:data},UNDEF,function(){if(!submitAsAjax){tempSpan=window.document.createElement("span");tempSpan.innerHTML='<form style="display:none" action="'+url+'" method="'+chartConf.formMethod+'" target="'+chartConf.formTarget+'"> <input type="hidden" name="strXML" value="'+(0,_lib.xssEncode)(data)+'"><input type="hidden" name="dataFormat" value="'+requestType.toUpperCase()+'" /></form>';formEle=tempSpan.removeChild(tempSpan.firstChild);window.document.body.appendChild(formEle);formEle.submit&&formEle.submit();formEle.parentNode.removeChild(formEle);tempSpan=formEle=null}else{ajaxObj.onError=function(response,wrapper,ajaxData,url){chart.fireChartInstanceEvent("dataSubmitError",{xhrObject:wrapper.xhr,url:url,statusText:response,httpStatus:wrapper.xhr&&wrapper.xhr.status?wrapper.xhr.status:-1,data:data},[chartInstance.id,response,wrapper.xhr&&wrapper.xhr.status])};ajaxObj.onSuccess=function(response,wrapper,ajaxData,url){chart.fireChartInstanceEvent("dataSubmitted",{xhrObject:ajaxObj,response:response,url:url,data:data},[chartInstance.id,response])};paramObj={};paramObj["str"+requestType.toUpperCase()]=data;if(ajaxObj.open){ajaxObj.abort()}ajaxObj.post(url,paramObj)}},function(){chart.fireChartInstanceEvent("dataSubmitCancelled",{data:data})})}exports.submitData=submitData},490:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.updateDataValue=exports._restore=exports._getJSONData=undefined;var _column=__webpack_require__(331);var _column2=_interopRequireDefault(_column);var _lib=__webpack_require__(118);var _dragcolumnAnimation=__webpack_require__(491);var _dragcolumnAnimation2=_interopRequireDefault(_dragcolumnAnimation);var _dependencyManager=__webpack_require__(125);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var SETROLLOVERATTR=_lib.preDefStr.setRolloverAttrStr,SETROLLOUTATTR=_lib.preDefStr.setRolloutAttrStr,ROLLOUT="DataPlotRollOut",ROLLOVER="DataPlotRollOver",MOUSEOVER="mouseOver",MOUSEOUT="mouseOut",DATAPLOTCLICK=_lib.preDefStr.DATAPLOTCLICK,_getJSONData=void 0,_restore=void 0,UNDEF=void 0,updateDataValue=function updateDataValue(event,chart){var element=this,yAxis=chart.getChildren("yAxis")[0],container=chart.getFromEnv("chart-container"),eventArgs=element.data("eventArgs"),mouseCoordinate=void 0;mouseCoordinate=(0,_lib.getMouseCoordinate)(container,event,chart);eventArgs.value=yAxis.getValue(mouseCoordinate.chartY);element.data("eventArgs",eventArgs)};(0,_dependencyManager.addDep)({name:"dragColumnAnimation",type:"animationRule",extension:_dragcolumnAnimation2["default"]});var DragColumnDataset=function(_ColumnDataset){_inherits(DragColumnDataset,_ColumnDataset);function DragColumnDataset(){_classCallCheck(this,DragColumnDataset);return _possibleConstructorReturn(this,_ColumnDataset.apply(this,arguments))}DragColumnDataset.prototype.getType=function getType(){return"dataset"};DragColumnDataset.prototype.getName=function getName(){return"dragColumn"};DragColumnDataset.prototype.configureAttributes=function configureAttributes(datasetJSON){var dataset=this,conf=dataset.config,chartAttr=dataset.getFromEnv("chart-attrib"),JSONData=conf.JSONData;conf.allowDrag=(0,_lib.pluckNumber)(JSONData.allowdrag,1);conf.allowNegDrag=(0,_lib.pluckNumber)(JSONData.allownegativedrag,1);conf.allowAxisChange=(0,_lib.pluckNumber)(chartAttr.allowaxischange,1);conf.snapToDivOnly=(0,_lib.pluckNumber)(chartAttr.snaptodivonly,0);conf.snapToDiv=conf.snapToDivOnly?1:(0,_lib.pluckNumber)(chartAttr.snaptodiv,1);conf.doNotSnap=(0,_lib.pluckNumber)(chartAttr.donotsnap,0);conf.snapToDivRelaxation=(0,_lib.pluckNumber)(chartAttr.snaptodivrelaxation,10);if(conf.doNotSnap){conf.snapToDiv=conf.snapToDivOnly=0}_ColumnDataset.prototype.configureAttributes.call(this,datasetJSON)};DragColumnDataset.prototype._plotConfigure=function _plotConfigure(i,setData){var conf=this.config,dataStore=this.components.data,dataObj=void 0,config=void 0;_ColumnDataset.prototype._plotConfigure.call(this,i,setData);dataObj=dataStore[i];config=dataObj.config;config.allowDrag=(0,_lib.pluckNumber)(setData.allowdrag,conf.allowDrag);config.allowNegDrag=(0,_lib.pluckNumber)(setData.allownegativedrag,conf.allowNegDrag)};DragColumnDataset.prototype._firePlotEvent=function _firePlotEvent(eventType,plotIndex,e){var dataset=this,doc=document,chart=dataset.getFromEnv("chart"),dragmoveHandler,dragendHandler,dataSetConf=dataset.config,JSONData=dataSetConf.JSONData,chartAttr=chart.getFromEnv("dataSource").chart,currentToolTip=dataSetConf.currentToolTip,chartConfig=dataset.getFromEnv("chartConfig"),drawTrendRegion=chartConfig.drawTrendRegion,useplotgradientcolor=chartConfig.useplotgradientcolor,useroundedges=chartConfig.useroundedges,paper=dataset.getFromEnv("paper"),canvas=paper.canvas,style=canvas.style,NumberFormatter=dataset.getFromEnv("number-formatter"),toolTipController=dataset.getFromEnv("toolTipController"),data=dataset.components.data[plotIndex],config=data.config,setElement=data.graphics.element,setTooltext,toolText=config.finalTooltext||config.toolText,originalEvent=e.originalEvent,dragMouseAttr=_lib.hasSVG&&"ns-resize"||"n-resize",dragMove,dragEnd,pointerMouseAttr="default",tolerance,coordinate=(0,_lib.getMouseCoordinate)(dataset.getFromEnv("chart-container"),originalEvent),chartY=coordinate.chartY,yPos=data._yPos,height=data._height,formattedVal,macroIndices=[1,2,3,4,5,6,7],yAxis=dataset.getFromEnv("yAxis"),yBasePos=yAxis.yBasePos,yaxisName=chartConfig.yaxisname,xaxisName=chartConfig.xaxisname,parserConfig={xaxisName:xaxisName,yaxisName:yaxisName},value,yActual,canvasTop=chartConfig.canvasTop,canvasBottom=chartConfig.canvasBottom,allowDrag=config.allowDrag,allowNegDrag=config.allowNegDrag,lowerDragBoundary=allowNegDrag?canvasBottom:yBasePos,eventArgsArr,eventArgs,rolloverdata,rolloutedata,fill,angle,colTop=yPos,colBottom=yPos+height;tolerance=chartConfig.dragTolerance+1;value=config.setValue;yActual=yPos>=yBasePos?yPos+height:yPos;if(setElement){setTooltext=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(JSONData.data[plotIndex].tooltext,JSONData.plottooltext,chartAttr.plottooltext)));switch(eventType){case"mouseover":dataSetConf.mouseIn=true;if(chartY<=colBottom-tolerance&&chartY>=colTop+tolerance&&!drawTrendRegion&&toolText){if(currentToolTip){toolTipController.draw(originalEvent,toolText,currentToolTip)}else{currentToolTip=dataSetConf.currentToolTip=toolTipController.draw(originalEvent,toolText)}}if(!config._rollOverResponseSetterFire&&chartY<=colBottom&&chartY>=colTop){DragColumnDataset._rolloverResponseSetter(chart,setElement,e,this);config._rollOverResponseSetterFire=true}break;case"mouseout":dataSetConf.mouseIn=false;style.cursor=pointerMouseAttr;config._rollOverResponseSetterFire&&DragColumnDataset._rolloutResponseSetter(chart,setElement,e,this);config._rollOverResponseSetterFire=false;toolTipController.hide(dataSetConf.currentToolTip);break;case"click":!config.dragMove&&chart.plotEventHandler(setElement,e,DATAPLOTCLICK);break;case"touchmove":case"mousemove":if(!config.dragStart){yActual=config.setValue<0?yPos+height:yPos;if(allowDrag&&chartY>=yActual-tolerance&&chartY<=yActual+tolerance){style.cursor=dragMouseAttr;toolTipController.hide(dataSetConf.currentToolTip)}else{style.cursor=pointerMouseAttr;if(config._rollOverResponseSetterFire&&!drawTrendRegion&&toolText){if(currentToolTip){toolTipController.draw(originalEvent,toolText,currentToolTip)}else{currentToolTip=dataSetConf.currentToolTip=toolTipController.draw(originalEvent,toolText)}}}if(!config._rollOverResponseSetterFire&&chartY<=colBottom&&chartY>=colTop){DragColumnDataset._rolloverResponseSetter(chart,setElement,e);config._rollOverResponseSetterFire=true}else if(config._rollOverResponseSetterFire&&!(chartY<=colBottom&&chartY>=colTop)){toolTipController.hide(dataSetConf.currentToolTip);config._rollOverResponseSetterFire=false;DragColumnDataset._rolloutResponseSetter(chart,setElement,e,this)}}break;case"touchstart":case"mousedown":dragmoveHandler=function dragmoveHandler(oriEvent){chartY=(0,_lib.getMouseCoordinate)(dataset.getFromEnv("chart-container"),oriEvent).chartY;oriEvent.preventDefault?oriEvent.preventDefault():oriEvent.returnValue=false;config._rollOverResponseSetterFire=false;style.cursor=dragMouseAttr;config.dragMove=true;config._pointerDy++;chartY+=config._dragBuffer;if(chartY<canvasTop){chartY=canvasTop}else if(chartY>lowerDragBoundary){chartY=lowerDragBoundary}yPos=yBasePos<chartY?yBasePos:chartY;height=(0,_lib.mathAbs)(yBasePos-chartY);data._yPos=yPos;data._height=height;yActual=yPos>=yBasePos?yPos+height:yPos;config._y=value=config.setValue=yAxis.getValue(yActual);formattedVal=NumberFormatter.dataLabels(value);config.toolTipValue=formattedVal;config.displayValue=(0,_lib.pluck)(config.setDisplayValue,formattedVal);if(useplotgradientcolor&&!useroundedges){config.colorArr[0].FCcolor.angle=angle=yPos<yBasePos?90:270}setElement.attr({y:data._yPos,height:data._height,fill:(0,_lib.toRaphaelColor)(config.colorArr[0])});dataset.parseLabelAttributes(data);dataset.drawLabel(plotIndex,plotIndex+1);data.graphics.element=setElement;toolTipController.hide(dataSetConf.currentToolTip);if(config._pointerDy===1){eventArgs={dataIndex:plotIndex,datasetIndex:data.datasetIndex,startValue:data.startValue,datasetName:data.name};chart.fireChartInstanceEvent("dataplotDragStart",eventArgs)}};dragendHandler=function dragendHandler(oriEvent){chartY=(0,_lib.getMouseCoordinate)(dataset.getFromEnv("chart-container"),oriEvent).chartY;dataSetConf.mousedown=false;if(config.dragStart){dataset.setMaxMin(data);eventArgs={dataIndex:plotIndex,datasetIndex:data.datasetIndex,startValue:data.startValue,endValue:config.setValue,datasetName:data.name};eventArgsArr=[chart.getFromEnv("chartInstance").id,eventArgs.dataIndex,eventArgs.datasetIndex,eventArgs.datasetName,eventArgs.startValue,eventArgs.endValue];updateDataValue.call(setElement,oriEvent,chart);if(config._pointerDy){chart.fireChartInstanceEvent("dataplotDragEnd",eventArgs);chart.fireChartInstanceEvent("chartupdated",eventArgs,eventArgsArr)}if(useplotgradientcolor&&!useroundedges){angle=yPos>=yBasePos?90:270;if((rolloverdata=setElement.data(SETROLLOVERATTR))&&rolloverdata.fill){fill=rolloverdata.fill;fill=fill.split("-");fill[0]=angle;rolloverdata.fill=fill.join("-")}if((rolloutedata=setElement.data(SETROLLOUTATTR))&&rolloutedata.fill){fill=rolloutedata.fill;fill=fill.split("-");fill[0]=angle;rolloutedata.fill=fill.join("-")}}}config._dragBuffer=0;config._pointerDy=0;config.dragStart=false;if(setTooltext!==UNDEF){parserConfig.formattedValue=config.toolTipValue;parserConfig.label=config.label;toolText=(0,_lib.parseTooltext)(setTooltext,macroIndices,parserConfig,{value:config.toolTipValue},UNDEF,JSONData);config.setTooltext=toolText;setTooltext=toolText;config.toolText=toolText}toolText=config.finalTooltext=config.toolText!==false?config.toolText+(setTooltext?"":config.toolTipValue):"";if(!(chartY>=yActual-tolerance&&chartY<=yActual+tolerance)){style.cursor=pointerMouseAttr}if(doc.removeEventListener){doc.removeEventListener("mousemove",dragMove);doc.removeEventListener("mouseup",dragEnd);doc.removeEventListener("touchmove",dragMove);doc.removeEventListener("touchend",dragEnd)}else{doc.detachEvent("onmousemove",dragMove);doc.detachEvent("onmouseup",dragEnd);doc.detachEvent("ontouchmove",dragMove);doc.detachEvent("ontouchend",dragEnd)}};dataSetConf.mousedown=true;yActual=config.setValue<0?yPos+height:yPos;config.dragMove=false;if(allowDrag&&chartY>=yActual-tolerance&&chartY<=yActual+tolerance){config.dragStart=true;config._pointerDy=0;config._dragStartY=chartY;config._dragBuffer=yActual-chartY;data.startValue=config.setValue;data.name=dataSetConf.seriesname;data.datasetIndex=dataSetConf.index;data.dragged=true;dragMove=function dragMove(oriEvent){dragmoveHandler(oriEvent)};dragEnd=function dragEnd(oriEvent){dragendHandler(oriEvent)};if(doc.addEventListener){doc.addEventListener("mousemove",dragMove);doc.addEventListener("touchmove",dragMove);doc.addEventListener("mouseup",dragEnd);doc.addEventListener("touchend",dragEnd)}else{doc.attachEvent("onmousemove",dragMove);doc.attachEvent("ontouchmove",dragMove);doc.attachEvent("onmouseup",dragEnd);doc.attachEvent("ontouchend",dragEnd)}}else{config.dragStart=false}}}};DragColumnDataset._rolloverResponseSetter=function _rolloverResponseSetter(chart,elem,event,dataset){var elData=elem&&elem.getData(),animationManager=chart.getFromEnv("animationManager");if(elem&&elData.showHoverEffect!==0&&elData.draged!==true&&elem){animationManager.setAnimationState(MOUSEOVER);animationManager.setAnimation({el:elem,label:"rect",component:dataset,attr:elem.getData().setRolloverAttr});chart.plotEventHandler(elem,event,ROLLOVER)}};DragColumnDataset._rolloutResponseSetter=function _rolloutResponseSetter(chart,elem,event,dataset){var elData=elem&&elem.getData(),animationManager=chart.getFromEnv("animationManager");if(elem&&elData.showHoverEffect!==0&&elData.draged!==true){animationManager.setAnimationState(MOUSEOUT);animationManager.setAnimation({el:elem,label:"rect",component:dataset,attr:elem.getData().setRolloutAttr});chart.plotEventHandler(elem,event,ROLLOUT)}};DragColumnDataset.prototype.getJSONData=function getJSONData(){var dataset=this,JSONData=dataset.config.JSONData.data,dataStore=dataset.components.data,dataArr=[],obj={},updatedDataObj,dataObj,prop,len,i;for(i=0,len=JSONData.length;i<len;i++){dataObj=JSONData[i];updatedDataObj=dataStore[i];obj={};for(prop in dataObj){if(prop==="value"){obj[prop]=updatedDataObj.config.setValue}else{obj[prop]=dataObj[prop]}}dataArr.push(obj)}return{data:dataArr}};DragColumnDataset.prototype.restore=function restore(){var dataset=this;dataset.setData(dataset.config.JSONData,true)};return DragColumnDataset}(_column2["default"]);exports._getJSONData=_getJSONData=DragColumnDataset.prototype.getJSONData;exports._restore=_restore=DragColumnDataset.prototype.restore;exports["default"]=DragColumnDataset;exports._getJSONData=_getJSONData;exports._restore=_restore;exports.updateDataValue=updateDataValue},491:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _columnAnimation=__webpack_require__(332);var _columnAnimation2=_interopRequireDefault(_columnAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports["default"]={"initial.dataset.dragColumn":_columnAnimation2["default"]["initial.dataset.column"]}},492:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _column=__webpack_require__(402);var _column2=_interopRequireDefault(_column);var _lib=__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var DragColumnMultiseriesGroup=function(_ColumnMultiSeriesgro){_inherits(DragColumnMultiseriesGroup,_ColumnMultiSeriesgro);function DragColumnMultiseriesGroup(){_classCallCheck(this,DragColumnMultiseriesGroup);return _possibleConstructorReturn(this,_ColumnMultiSeriesgro.apply(this,arguments))}DragColumnMultiseriesGroup.prototype.getJSONData=function getJSONData(){var manager=this,rawDatasets=manager.getFromEnv("dataSource").dataset,datasets=manager.getChildren("dataset"),jsonData=[],dataset,datasetObj,rawDataset,i,len=datasets.length;for(i=0;i<len;i++){dataset=datasets[i];rawDataset=(0,_lib.extend2)({},rawDatasets[i]);delete rawDataset.data;datasetObj=dataset.getJSONData();jsonData.push((0,_lib.extend2)(rawDataset,datasetObj))}return jsonData};return DragColumnMultiseriesGroup}(_column2["default"]);exports["default"]=DragColumnMultiseriesGroup},493:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=function(chart){var allowAxisChange=chart.config.allowAxisChange,numericAxis=chart.getChildren("yAxis")[0],limitUpdaterArr=void 0,limitUpdater=void 0;(0,_lib.componentFactory)(numericAxis,_limitUpdater2["default"],"limitUpdater",allowAxisChange?1:0);limitUpdaterArr=numericAxis.getChildren("limitUpdater");limitUpdater=limitUpdaterArr&&limitUpdaterArr[0];limitUpdater&&limitUpdater.configure()};var _lib=__webpack_require__(118);var _limitUpdater=__webpack_require__(494);var _limitUpdater2=_interopRequireDefault(_limitUpdater);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}},494:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);var _domEvent=__webpack_require__(120);var _domEvent2=_interopRequireDefault(_domEvent);var _lib=__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var ENTER_CODE=13,ESCAPE_CODE=27;var linkedAxis=void 0;function getCharCode(e){return typeof e.which==="number"?e.which:e.keyCode}function onMouseUp(){var ele=this;if(ele.justFocussed){ele.justFocussed=false;if(!_lib.hasTouch){ele.select()}}}function doAxisUpdate(value,oldvalue,isMax){var success=false,axisParent=linkedAxis.getLinkedParent();if(value===oldvalue+""){return}if(isMax){success=axisParent.changeUpperLimits&&axisParent.changeUpperLimits(Number(value))}else{success=axisParent.changeLowerLimits&&axisParent.changeLowerLimits(Number(value))}return success}function onFocus(){var ele=this,styleObj={opacity:1,filter:"alpha(opacity=100)",color:(0,_lib.rgbaToHex)(ele.axisLabel.attr("fill"))},item;for(item in styleObj){ele.style[item]=styleObj[item]}ele.value=ele.dataValue;ele.justFocussed=true;ele.hasFocus=true;ele.axisLabel&&ele.axisLabel.hide()}function onBlur(){var ele=this,newValue=ele.value,oldValue=ele.oldValue,isMaxLabel=ele.isMaxLabel;doAxisUpdate(newValue,oldValue,isMaxLabel);ele.style.opacity=0;ele.style.filter="alpha(opacity=0)";ele.axisLabel&&ele.axisLabel.show();if(_lib.isIE){document.getElementsByTagName("body")[0].focus&&document.getElementsByTagName("body")[0].focus()}ele.justFocussed=false;ele.hasFocus=false}function onKeyUp(e){var ele=this,keyCode=getCharCode(e.originalEvent),newValue=ele.value,oldValue=ele.oldValue,isMaxLabel=ele.isMaxLabel,success;if(keyCode===ENTER_CODE){success=doAxisUpdate(newValue,oldValue,isMaxLabel);if(success===false){ele.style.color="#dd0000"}else{_domEvent2["default"].fire(ele,"blur",e)}}else if(keyCode===ESCAPE_CODE){ele.value=oldValue;_domEvent2["default"].fire(ele,"blur",e)}}function defaultHandler(inputElement){return function(e){if(inputElement.parentNode){_domEvent2["default"].fire(inputElement,"blur",e)}}}function defaultIEHandler(inputElement){return function(e){if(e.target!==inputElement&&inputElement.hasFocus){_domEvent2["default"].fire(inputElement,"blur",e)}}}function destroyHandler(inputElement,defaultAction){return function(){_domEvent2["default"].unlisten(linkedAxis.getLinkedParent(),"defaultprevented",defaultAction);inputElement.parentNode.removeChild(inputElement)}}function destroyIEHandler(inputElement,defaultAction){return function(){_domEvent2["default"].unlisten(linkedAxis.getLinkedParent().getLinkedItem("container"),"mousedown",defaultAction);inputElement.parentNode.removeChild(inputElement)}}var LimitUpdater=function(_ComponentInterface){_inherits(LimitUpdater,_ComponentInterface);function LimitUpdater(){_classCallCheck(this,LimitUpdater);return _possibleConstructorReturn(this,_ComponentInterface.apply(this,arguments))}LimitUpdater.prototype.configureAttributes=function configureAttributes(){this.config.linkedAxis=this.getLinkedParent();linkedAxis=this.config.linkedAxis};LimitUpdater.prototype.getType=function getType(){return"helper"};LimitUpdater.prototype.getName=function getName(){return"limitUpdater"};LimitUpdater.prototype.draw=function draw(){var limitUpdater=this,chartConf=limitUpdater.getFromEnv("chartConfig"),axis=limitUpdater.config.linkedAxis,extremeLabels=axis.getAxisConfig("extremeLabels"),axisLimits=axis.getLimit(),chartContainer=limitUpdater.getFromEnv("chart-container"),chartCanvasStyle=limitUpdater.getFromEnv("style").inCanvasStyle,inputStyle=(0,_lib.extend2)({outline:"none","-webkit-appearance":"none",filter:"alpha(opacity=0)",position:"absolute",background:"transparent",border:"1px solid #cccccc",textAlign:"right",top:0,left:0,width:50,zIndex:20,opacity:0,borderRadius:0,display:"block"},chartCanvasStyle),labelObj={max:{element:extremeLabels.lastLabel.graphic,value:axisLimits.max},min:{element:extremeLabels.firstLabel.graphic,value:axisLimits.min}},inputElement=void 0,inputElementName=void 0,labelElement=void 0,key=void 0,styleKey=void 0,labelBox=void 0,isMaxLabel=void 0,labelValue=void 0,closedDefaultHandler=void 0,inputWidth=void 0,inputLeft=void 0,closedDefaultIEHandler=void 0;inputStyle.color=(0,_lib.hashify)(inputStyle.color);inputStyle.fontSize=inputStyle.fontSize+"px";for(key in labelObj){if(labelObj.hasOwnProperty(key)){labelElement=labelObj[key].element;labelBox=labelElement&&labelElement.getBBox();labelValue=labelObj[key].value;isMaxLabel=key==="max";inputElementName=key+"Input";inputElement=limitUpdater.getGraphicalElement(inputElementName);if(!(labelBox&&labelElement)){if(inputElement){inputElement.style.display="none"}continue}if(!inputElement){inputElement=limitUpdater.addGraphicalElement(inputElementName,(0,_lib.createElement)("input",{type:"text",value:labelValue,id:"fc-updater-"+key},chartContainer))}_domEvent2["default"].listen(inputElement,["focus","mouseup","blur","keyup"],[onFocus,onMouseUp,onBlur,onKeyUp]);if(_lib.hasSVG){_domEvent2["default"].listen(chartContainer,"defaultprevented",closedDefaultHandler=defaultHandler(inputElement));_domEvent2["default"].listen(chartContainer,"destroy",destroyHandler(inputElement,closedDefaultHandler))}else{_domEvent2["default"].listen(chartContainer,"mousedown",closedDefaultIEHandler=defaultIEHandler(inputElement));_domEvent2["default"].listen(chartContainer,"destroy",destroyIEHandler(inputElement,closedDefaultIEHandler))}inputWidth=labelBox.x+labelBox.width-chartConf.marginLeft;inputLeft=chartConf.marginLeft;inputStyle.top=labelBox.y+"px";inputStyle.left=inputLeft+"px";inputStyle.width=inputWidth+"px";for(styleKey in inputStyle){if(inputStyle.hasOwnProperty(styleKey)){inputElement.style[styleKey]=inputStyle[styleKey]}}inputElement.dataValue=labelValue;inputElement.value=labelValue;inputElement.oldValue=labelValue;inputElement.name=labelValue||"";inputElement.axisLabel=labelElement;inputElement.isMaxLabel=isMaxLabel}}};LimitUpdater.prototype.removingDraw=function removingDraw(){var graphics=this.getGraphicalElement(),key=void 0,element=void 0;for(key in graphics){if(graphics.hasOwnProperty(key)){element=graphics[key];element&&element.parentNode&&element.parentNode.removeChild(element);delete graphics[key]}}};return LimitUpdater}(_componentInterface2["default"]);exports["default"]=LimitUpdater},495:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _dragline=__webpack_require__(496);var _dragline2=_interopRequireDefault(_dragline);var _dragarea=__webpack_require__(500);var _dragarea2=_interopRequireDefault(_dragarea);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var DragLine=function(_DragArea){_inherits(DragLine,_DragArea);function DragLine(){_classCallCheck(this,DragLine);var _this=_possibleConstructorReturn(this,_DragArea.call(this));_this.defaultPlotShadow=1;return _this}DragLine.prototype.getName=function getName(){return"DragLine"};DragLine.getName=function getName(){return"DragLine"};DragLine.prototype.__setDefaultConfig=function __setDefaultConfig(){_DragArea.prototype.__setDefaultConfig.call(this);var chart=this,config=chart.config;config.isDrag=true;config.zeroplanethickness=1;config.zeroplanealpha=40;config.showzeroplaneontop=0;config.enablemousetracking=true;config.defaultcrosslinethickness=1};DragLine.prototype.getDSdef=function getDSdef(){return _dragline2["default"]};return DragLine}(_dragarea2["default"]);exports["default"]=DragLine},496:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _line=__webpack_require__(346);var _line2=_interopRequireDefault(_line);var _dragarea=__webpack_require__(497);var _lib=__webpack_require__(118);var _dragcolumn=__webpack_require__(490);var _dependencyManager=__webpack_require__(125);var _draglineAnimation=__webpack_require__(499);var _draglineAnimation2=_interopRequireDefault(_draglineAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}(0,_dependencyManager.addDep)({name:"dragLineAnimation",type:"animationRule",extension:_draglineAnimation2["default"]});var DragLineDataset=function(_LineDataset){_inherits(DragLineDataset,_LineDataset);function DragLineDataset(){_classCallCheck(this,DragLineDataset);return _possibleConstructorReturn(this,_LineDataset.apply(this,arguments))}DragLineDataset.prototype._firePlotEvent=function _firePlotEvent(){_dragarea.__firePlotEvent.apply(this,arguments)};DragLineDataset.prototype.updateImage=function updateImage(dataObj){_dragarea._updateImage.call(this,dataObj)};DragLineDataset.prototype.configureAttributes=function configureAttributes(){_dragarea.configurer.apply(this,arguments)};DragLineDataset.prototype._plotConfigure=function _plotConfigure(i,setData){var conf=this.config,dataStore=this.components.data,dataObj=void 0,config=void 0;_LineDataset.prototype._plotConfigure.call(this,i,setData);dataObj=dataStore[i];config=dataObj.config;config.allowDrag=(0,_lib.pluckNumber)(setData.allowdrag,conf.allowDrag);config.allowNegDrag=(0,_lib.pluckNumber)(setData.allownegativedrag,conf.allowNegDrag)};DragLineDataset.prototype.getType=function getType(){return"dataset"};DragLineDataset.prototype.getName=function getName(){return"dragLine"};DragLineDataset.prototype.restore=function restore(){_dragcolumn._restore.call(this)};DragLineDataset.prototype.getJSONData=function getJSONData(){return _dragcolumn._getJSONData.call(this)};return DragLineDataset}(_line2["default"]);exports["default"]=DragLineDataset},497:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports._updateImage=exports.configurer=exports.__firePlotEvent=undefined;var _area=__webpack_require__(347);var _area2=_interopRequireDefault(_area);var _lib=__webpack_require__(118);var _dragcolumn=__webpack_require__(490);var _dragAreaAnimation=__webpack_require__(498);var _dragAreaAnimation2=_interopRequireDefault(_dragAreaAnimation);var _dependencyManager=__webpack_require__(125);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var SETROLLOVERATTR="setRolloverAttr",SETROLLOUTATTR="setRolloutAttr",ROLLOUT="DataPlotRollOut",ROLLOVER="DataPlotRollOver",DRAGLINE="dragLine",DATAPLOTCLICK="dataplotclick",mathMin=Math.min,mathMax=Math.max,isVML=false,_updateImage=void 0,_configure=void 0,__firePlotEvent=void 0,UNDEF=void 0;(0,_dependencyManager.addDep)({name:"dragAreaAnimation",type:"animationRule",extension:_dragAreaAnimation2["default"]});var DragAreaDataset=function(_AreaDataset){_inherits(DragAreaDataset,_AreaDataset);function DragAreaDataset(){_classCallCheck(this,DragAreaDataset);return _possibleConstructorReturn(this,_AreaDataset.apply(this,arguments))}DragAreaDataset.prototype.getType=function getType(){return"dataset"};DragAreaDataset.prototype.getName=function getName(){return"dragArea"};DragAreaDataset.prototype.configureAttributes=function configureAttributes(datasetJSON){var dataset=this,conf=dataset.config,chartAttr=dataset.getFromEnv("chart-attrib"),JSONData=conf.JSONData;conf.allowDrag=(0,_lib.pluckNumber)(JSONData.allowdrag,1);conf.allowNegDrag=(0,_lib.pluckNumber)(JSONData.allownegativedrag,1);conf.allowAxisChange=(0,_lib.pluckNumber)(chartAttr.allowaxischange,1);conf.snapToDivOnly=(0,_lib.pluckNumber)(chartAttr.snaptodivonly,0);conf.doNotSnap=(0,_lib.pluckNumber)(chartAttr.donotsnap,0);conf.snapToDiv=(0,_lib.pluckNumber)(chartAttr.snaptodiv,1);conf.snapToDivRelaxation=(0,_lib.pluckNumber)(chartAttr.snaptodivrelaxation,10);if(conf.doNotSnap){conf.snapToDiv=conf.snapToDivOnly=0}_AreaDataset.prototype.configureAttributes.call(this,datasetJSON)};DragAreaDataset.prototype._plotConfigure=function _plotConfigure(i,setData){var conf=this.config,dataStore=this.components.data,dataObj=void 0,config=void 0;_AreaDataset.prototype._plotConfigure.call(this,i,setData);dataObj=dataStore[i];config=dataObj.config;config.allowDrag=(0,_lib.pluckNumber)(setData.allowdrag,conf.allowDrag);config.allowNegDrag=(0,_lib.pluckNumber)(setData.allownegativedrag,conf.allowNegDrag)};DragAreaDataset.updateImage=function updateImage(dataObj){var graphics=dataObj.graphics,image=graphics.image||graphics.element,config=dataObj.config,anchorProps=config.anchorProps,hoverEffects=config.hoverEffects,imgRef=image&&image.data("imgRef"),scale=anchorProps.imageScale,imgH=imgRef.height*scale*.01,imgW=imgRef.width*scale*.01,x=dataObj._xPos,y=dataObj._yPos,hoverScale=hoverEffects.imageHoverScale,hotW=imgRef.width*hoverScale*.01,hotH=imgRef.height*hoverScale*.01,isAnchorRadius=anchorProps.isAnchorRadius,markerRadius=anchorProps.radius=isAnchorRadius?anchorProps.radius:mathMin(imgW,imgH)/2,imagePadding=anchorProps.imagePadding,rolloutClipRadius=markerRadius-imagePadding-anchorProps.borderThickness*.5,rolloverClipRadius=hoverEffects.radius-imagePadding-hoverEffects.anchorBorderThickness*.5,symbol=anchorProps.symbol[1],imageRollOverPath=(0,_lib.polyPathToPath)([symbol||2,x,y,rolloverClipRadius>0?rolloverClipRadius:0,hoverEffects.startAngle,hoverEffects.dip]),setRolloverAttr,imageRolloutPath=(0,_lib.polyPathToPath)([symbol||2,x,y,rolloutClipRadius>0?rolloutClipRadius:0,anchorProps.startAngle,0]),setRolloutAttr={x:x-imgRef.width*scale*.005,y:y-imgRef.height*scale*.005,width:imgW,height:imgH,alpha:100};if(!isVML){setRolloutAttr["clip-path"]=imageRolloutPath}setRolloverAttr={x:x-imgRef.width*hoverScale*.005,y:y-imgRef.height*hoverScale*.005,width:hotW,height:hotH,alpha:100};if(!isVML){setRolloverAttr["clip-path"]=imageRollOverPath}image.attr(setRolloutAttr);image.data(SETROLLOVERATTR,setRolloverAttr);image.data(SETROLLOUTATTR,setRolloutAttr)};DragAreaDataset.prototype._firePlotEvent=function _firePlotEvent(eventType,plotIndex,e){var dataset=this,dataSetConf=dataset.config,chartAttr=dataset.getFromEnv("chart-attrib"),chart=dataset.getFromEnv("chart"),chartConfig=dataset.getFromEnv("chartConfig"),drawTrendRegion=chartConfig.drawTrendRegion,JSONData=dataSetConf.JSONData,dragmoveHandler,dragendHandler,dragMove,dragEnd,doc=document,paper=dataset.getFromEnv("paper"),toolTipController=dataset.getFromEnv("toolTipController"),canvas=paper.canvas,style=canvas.style,NumberFormatter=dataset.getFromEnv("number-formatter"),datasetComp=dataset.components,plotItem=datasetComp.data[plotIndex],dataArr,currentToolTip=dataSetConf.currentToolTip,datasetIndex=dataSetConf.index,originalEvent=e.originalEvent,dragMouseAttr=_lib.hasSVG&&"ns-resize"||"n-resize",pointerMouseAttr="default",tolerance,coordinate,chartY,chartX,yPos,xPos,pathArr,startIndex,endIndex,element,hoverEnabled,setTooltext,toolText,eventArgs,eventArgsArr,config,formattedVal,changedTouch,value,yAxis=dataset.getFromEnv("yAxis"),yBasePos=yAxis.yBasePos,macroIndices=[1,2,3,4,5,6,7],yaxisName=chartConfig.yaxisname,xaxisName=chartConfig.xaxisname,parserConfig={xaxisName:xaxisName,yaxisName:yaxisName},canvasTop=chartConfig.canvasTop,canvasBottom=chartConfig.canvasBottom,allowDrag,allowNegDrag,datasetGraphics=dataset.getGraphicalElement(),mainLineElement=datasetGraphics.lineElement,anchorProps,anchorImageUrl,anchorElement,image,hoverEffects,lowerDragBoundary=allowNegDrag?canvasBottom:yBasePos,anchorStartAngle,rolloverdata,rolloutdata,isHoverEnabled,isDragLine=dataset.getName()===DRAGLINE;if(eventType==="touchend"){changedTouch=originalEvent.changedTouches[0];originalEvent.pageX=changedTouch&&changedTouch.pageX;originalEvent.pageY=changedTouch&&changedTouch.pageY}coordinate=(0,_lib.getMouseCoordinate)(chart.getFromEnv("chart-container"),originalEvent);chartY=coordinate.chartY;chartX=coordinate.chartX;if(plotItem){element=plotItem.graphics.element;config=plotItem.config;hoverEffects=config.hoverEffects;anchorProps=config.anchorProps;anchorImageUrl=anchorProps.imageUrl;image=plotItem.graphics.image;anchorElement=element;isHoverEnabled=config.hoverEffects&&config.hoverEffects.enabled;anchorStartAngle=anchorProps.startAngle||90;setTooltext=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(JSONData.data[plotIndex].tooltext,JSONData.plottooltext,chartAttr.plottooltext)));toolText=config.finalTooltext;hoverEnabled=config.hoverEffects.enabled;eventArgs=config.eventArgs;yPos=plotItem._yPos;xPos=plotItem._xPos;allowDrag=config.allowDrag;allowNegDrag=config.allowNegDrag;lowerDragBoundary=allowNegDrag?canvasBottom:yBasePos;config.dragTolerance=config.dragTolerance<anchorProps.markerRadius?anchorProps.markerRadius+.5:config.dragTolerance;tolerance=mathMax(config.dragTolerance,config.hoverEffects.anchorRadius||0)+1;switch(eventType){case"mouseover":dataSetConf.mouseIn=true;if(config.allowDrag){style.cursor=dragMouseAttr}if(!config.dragStart&&toolText&&!config.dragStart&&!drawTrendRegion){if(currentToolTip){toolTipController.draw(originalEvent,toolText,currentToolTip)}else{currentToolTip=dataSetConf.currentToolTip=toolTipController.draw(originalEvent,toolText)}}if(!config.dragStart){hoverEnabled&&dataset._hoverPlotAnchor(plotItem,ROLLOVER);element&&chart.plotEventHandler(element,e,ROLLOVER,eventArgs)}break;case"mouseout":dataSetConf.mouseIn=false;style.cursor=pointerMouseAttr;hoverEnabled&&dataset._hoverPlotAnchor(plotItem,ROLLOUT);element&&chart.plotEventHandler(element,e,ROLLOUT,eventArgs);toolTipController.hide(dataSetConf.currentToolTip);break;case"touchmove":case"mousemove":if(!config.dragStart&&toolText&&chartY>=yPos-tolerance&&chartY<=yPos+tolerance&&chartX<=xPos+tolerance&&chartX>=xPos-tolerance){config.allowDrag&&(style.cursor=dragMouseAttr);if(currentToolTip){toolTipController.draw(originalEvent,toolText,currentToolTip)}else{currentToolTip=dataSetConf.currentToolTip=toolTipController.draw(originalEvent,toolText)}}else{toolTipController.hide(dataSetConf.currentToolTip)}break;case"click":!config.dragMove&&element&&chart.plotEventHandler(element,e,DATAPLOTCLICK,eventArgs);break;case"touchstart":case"mousedown":dragmoveHandler=function dragmoveHandler(oriEvent,mainLineElement){chartY=(0,_lib.getMouseCoordinate)(dataset.getFromEnv("chart-container"),oriEvent).chartY;originalEvent.preventDefault?originalEvent.preventDefault():originalEvent.returnValue=false;config.allowDrag&&(style.cursor=dragMouseAttr);config.dragMove=true;config._pointerDy++;chartY+=config._dragBuffer;if(chartY<canvasTop){chartY=canvasTop}else if(chartY>lowerDragBoundary){chartY=lowerDragBoundary}plotItem._yPos=yPos=chartY;config._y=value=config.setValue=yAxis.getValue(yPos);config._Py=yAxis.getPixel(config._y);formattedVal=NumberFormatter.dataLabels(value);config.toolTipValue=formattedVal;config.displayValue=formattedVal;dataset.parseLabelAttributes(plotItem,plotIndex);dataset.drawLabel(plotIndex,plotIndex+1);plotItem.graphics.element=element;if(isVML&&anchorImageUrl){image=anchorElement}else{if(isHoverEnabled&&(rolloverdata=anchorElement.data(SETROLLOVERATTR))){rolloverdata.path=(0,_lib.polyPathToPath)([hoverEffects.anchorSides||2,plotItem._xPos,plotItem._yPos,hoverEffects.anchorRadius,hoverEffects.startAngle,hoverEffects.dip])}if(isHoverEnabled&&(rolloutdata=anchorElement.data(SETROLLOUTATTR))){rolloutdata.path=(0,_lib.polyPathToPath)([anchorProps.symbol[1]||2,plotItem._xPos,plotItem._yPos,anchorProps.radius,anchorProps.startAngle,config.dip||0])}anchorElement&&anchorElement.attr(rolloutdata||{path:(0,_lib.polyPathToPath)([anchorProps.symbol[1]||2,xPos,plotItem._yPos,anchorProps.radius,anchorStartAngle,0])})}if(image){DragAreaDataset.updateImage(plotItem)}dataArr=datasetComp.data;if(isDragLine){dataset.drawCommonElements()}if(mainLineElement){dataSetConf=dataset.config;startIndex=config.pathStartIndex;endIndex=config.pathEndIndex;pathArr=config.lastPath;pathArr=dataset.getLinePath(dataArr,{begin:startIndex,end:endIndex});mainLineElement.attr({path:pathArr.getPathArr()})}if(config._pointerDy===1){eventArgs={dataIndex:plotIndex,datasetIndex:datasetIndex,startValue:plotItem.startValue,endValue:config.setValue,datasetName:plotItem.name};chart.fireChartInstanceEvent("dataplotDragStart",eventArgs)}};dragendHandler=function dragendHandler(oriEvent){chartY=(0,_lib.getMouseCoordinate)(dataset.getFromEnv("chart-container"),oriEvent).chartY;dataSetConf.mousedown=false;if(config.dragStart){dataset.setMaxMin(plotItem);eventArgs={dataIndex:plotIndex,datasetIndex:datasetIndex,startValue:plotItem.startValue,endValue:config.setValue,datasetName:plotItem.name};eventArgsArr=[chart.getFromEnv("chartInstance").id,eventArgs.dataIndex,eventArgs.datasetIndex,eventArgs.datasetName,eventArgs.startValue,eventArgs.endValue];element&&_dragcolumn.updateDataValue.call(element,e,chart);if(config._pointerDy){hoverEnabled&&dataset._hoverPlotAnchor(plotItem,ROLLOUT);chart.fireChartInstanceEvent("dataplotDragEnd",eventArgs);chart.fireChartInstanceEvent("chartupdated",eventArgs,eventArgsArr)}}if(setTooltext!==UNDEF){parserConfig.formattedValue=config.toolTipValue;parserConfig.label=config.label;toolText=(0,_lib.parseTooltext)(setTooltext,macroIndices,parserConfig,{value:config.toolTipValue},UNDEF,JSONData);config.setTooltext=toolText;setTooltext=toolText;config.toolText=toolText}toolText=config.finalTooltext=config.toolText!==false?setTooltext||config.toolText.substring(0,config.toolText.indexOf(config.formatedVal))+config.toolTipValue:"";if(!(chartY>=yPos-tolerance&&chartY<=yPos+tolerance&&chartX<=xPos+tolerance&&chartX>=xPos-tolerance)){style.cursor=pointerMouseAttr}config._dragBuffer=0;config._pointerDy=0;config.dragStart=false;if(doc.removeEventListener){doc.removeEventListener("mousemove",dragMove);doc.removeEventListener("mouseup",dragEnd);doc.removeEventListener("touchmove",dragMove);doc.removeEventListener("touchend",dragEnd)}else{doc.detachEvent("onmousemove",dragMove);doc.detachEvent("onmouseup",dragEnd);doc.detachEvent("ontouchmove",dragMove);doc.detachEvent("ontouchend",dragEnd)}};dataSetConf.mousedown=true;config.dragMove=false;if(allowDrag&&chartY>=yPos-tolerance&&chartY<=yPos+tolerance&&chartX<=xPos+tolerance&&chartX>=xPos-tolerance){config.dragStart=true;config._pointerDy=0;config._dragStartY=chartY;config._dragBuffer=yPos-chartY;plotItem.dragged=true;plotItem.startValue=config.setValue;plotItem.name=dataSetConf.seriesname;plotItem.datasetIndex=dataSetConf.index;eventArgs={dataIndex:plotIndex+1,datasetIndex:plotItem.datasetIndex,startValue:plotItem.startValue,datasetName:plotItem.name};dragMove=function dragMove(originalEvent){dragmoveHandler(originalEvent,mainLineElement)};dragEnd=function dragEnd(originalEvent){dragendHandler(originalEvent)};if(doc.addEventListener){doc.addEventListener("mousemove",dragMove);doc.addEventListener("touchmove",dragMove);doc.addEventListener("mouseup",dragEnd);doc.addEventListener("touchend",dragEnd)}else{doc.attachEvent("onmousemove",dragMove);doc.attachEvent("ontouchmove",dragMove);doc.attachEvent("onmouseup",dragEnd);doc.attachEvent("ontouchend",dragEnd)}}else{config.dragStart=false}}}};DragAreaDataset.prototype.restore=function restore(){_dragcolumn._restore.call(this)};DragAreaDataset.prototype.getJSONData=function getJSONData(){return _dragcolumn._getJSONData.call(this)};return DragAreaDataset}(_area2["default"]);exports._updateImage=_updateImage=DragAreaDataset.prototype.updateImage;exports.__firePlotEvent=__firePlotEvent=DragAreaDataset.prototype._firePlotEvent;exports.configurer=_configure=DragAreaDataset.prototype.configureAttributes;exports.__firePlotEvent=__firePlotEvent;exports.configurer=_configure;exports._updateImage=_updateImage;exports["default"]=DragAreaDataset},498:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _areaAnimation=__webpack_require__(348);var _areaAnimation2=_interopRequireDefault(_areaAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports["default"]={"*.dataset.dragArea":_areaAnimation2["default"]["*.dataset.area"]}},499:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _lineAnimation=__webpack_require__(349);var _lineAnimation2=_interopRequireDefault(_lineAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports["default"]={"*.dataset.dragLine":_lineAnimation2["default"]["*.dataset.line"]}},500:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _dragcolumn2d=__webpack_require__(486);var _dragcolumn2d2=_interopRequireDefault(_dragcolumn2d);var _dragarea=__webpack_require__(497);var _dragarea2=_interopRequireDefault(_dragarea);var _lib=__webpack_require__(118);var _areabase=__webpack_require__(431);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var DragArea=function(_DragColumn){_inherits(DragArea,_DragColumn);function DragArea(){_classCallCheck(this,DragArea);return _possibleConstructorReturn(this,_DragColumn.apply(this,arguments))}DragArea.prototype.getName=function getName(){return"DragArea"};DragArea.getName=function getName(){return"DragArea"};DragArea.prototype.getDSGroupdef=function getDSGroupdef(){};DragArea.prototype.__setDefaultConfig=function __setDefaultConfig(){_DragColumn.prototype.__setDefaultConfig.call(this);var chart=this,config=chart.config;_areabase._setDefaultConfig.call(chart);config.isDrag=true;config.anchoralpha=_lib.HUNDREDSTRING;config.enablemousetracking=true;config.defaultcrosslinethickness=1};DragArea.prototype.getDSdef=function getDSdef(){return _dragarea2["default"]};return DragArea}(_dragcolumn2d2["default"]);exports["default"]=DragArea},501:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _waterfall2d=__webpack_require__(502);var _waterfall2d2=_interopRequireDefault(_waterfall2d);var _kagi=__webpack_require__(505);var _kagi2=_interopRequireDefault(_kagi);var _lib=__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var UNDEF=void 0,HUNDREDSTRING="100",SEVENTYSTRING="70";var Kagi=function(_WaterFall2D){_inherits(Kagi,_WaterFall2D);function Kagi(){_classCallCheck(this,Kagi);return _possibleConstructorReturn(this,_WaterFall2D.apply(this,arguments))}Kagi.getName=function getName(){return"Kagi"};Kagi.prototype.getName=function getName(){return"Kagi"};Kagi.prototype.__setDefaultConfig=function __setDefaultConfig(){_WaterFall2D.prototype.__setDefaultConfig.call(this);var config=this.config;config.friendlyName="Kagi Chart";config.singleseries=true;config.hasLegend=false;config.defaultDatasetType="kagi";config.setAdaptiveMin=true;config.anchorborderthickness=1;config.anchorimageurl=UNDEF;config.anchorimagepadding=1;config.anchorsides=1;config.anchoralpha=UNDEF;config.anchorbgalpha=HUNDREDSTRING;config.anchorimagealpha=HUNDREDSTRING;config.anchorimagescale=100;config.anchorstartangle=90;config.anchorshadow=0;config.anchorbgcolor=UNDEF;config.anchorbordercolor=UNDEF;config.anchorradius=3;config.showvalues=1;config.plotfillalpha=SEVENTYSTRING;config.linedashlen=5;config.linedashgap=4;config.linedashed=UNDEF;config.linealpha=HUNDREDSTRING;config.linethickness=2;config.drawfullareaborder=1;config.connectnulldata=0;config.zeroplanethickness=1;config.enablemousetracking=true;config.zeroplanealpha=40;config.showzeroplaneontop=0};Kagi.prototype._getDataset=function _getDataset(){var iapi=this,dataSetArr=[];iapi.iterateComponents(function(child){if(child.getType&&child.getType()==="dataset"){dataSetArr.push(child)}});return dataSetArr};Kagi.prototype._postSpaceManagement=function _postSpaceManagement(){var iapi=this,config=iapi.config,xAxis=iapi.getChildren("xAxis")[0],yAxis=iapi.getChildren("yAxis")[0],canvas=iapi.getChildren("canvas")[0],canvasConfig=canvas.config,canvasBorderWidth=canvasConfig.canvasBorderWidth,canvasPadding=(0,_lib.pluckNumber)(canvasConfig.canvasPadding,15),canvasPaddingTop=canvasConfig.canvasPaddingTop,canvasPaddingBottom=canvasConfig.canvasPaddingBottom,canvasPaddingLeft=canvasConfig.canvasPaddingLeft,canvasPaddingRight=canvasConfig.canvasPaddingRight,chartAttrs=iapi.getFromEnv("dataSource").chart,dataset=iapi._getDataset(),series=dataset[0].config,shiftCount=series&&series.shiftCount,min=(0,_lib.pluckNumber)(xAxis.getAxisConfig("axisMinValue"),0),max=(0,_lib.pluckNumber)(xAxis.getAxisConfig("axisMaxValue"),shiftCount-1),canvasWidth=iapi.config.canvasWidth,maxHShiftPercent=(0,_lib.pluckNumber)(chartAttrs.maxhshiftpercent,10),effectiveCanvasWidth=canvasWidth-canvasPadding*2,xShiftLength;yAxis&&yAxis.setAxisDimention({x:config.canvasLeft-canvasBorderWidth,y:config.canvasTop+canvasPaddingTop,opposite:config.canvasRight+canvasBorderWidth,axisLength:config.canvasHeight-canvasPaddingTop-canvasPaddingBottom});iapi._setPosition();if(series){maxHShiftPercent=maxHShiftPercent<=0?10:maxHShiftPercent;xShiftLength=series.xShiftLength=Math.min(effectiveCanvasWidth/shiftCount,maxHShiftPercent*effectiveCanvasWidth/100);max=Math.max(max,1)}canvas.setCanvasPadding();xAxis&&xAxis.setAxisConfig({canvasPaddingLeft:Math.max(canvasPaddingLeft,canvasPadding)+xShiftLength/2,canvasPaddingRight:Math.max(canvasPaddingRight,canvasPadding)+xShiftLength/2});xAxis&&xAxis.setAxisDimention({x:iapi.config.canvasLeft+canvasPadding+xShiftLength/2,axisLength:xShiftLength*(max-min),y:config.canvasBottom+(config.shift||0)+canvasBorderWidth,opposite:config.canvasTop-canvasBorderWidth})};Kagi.prototype._setPosition=function _setPosition(){var i,point,yValue,isRally,lastHigh,lastLow,isRallyInitialised,lastPoint,iapi=this,dataObj=iapi.getFromEnv("dataSource"),dataSet=iapi._getDataset()[0],categories=dataObj.data||dataSet&&dataSet[0]&&dataSet[0].data,setDataArr=dataSet.components.data,dataSetLen=setDataArr&&setDataArr.length,yAxis=iapi.getChildren("yAxis")[0],xValue=0,plotX=xValue,catArr=[];for(i=0;i<dataSetLen;i++){point=setDataArr[i].config;yValue=point.setValue;dataObj=setDataArr[i];if(!dataObj){dataObj=setDataArr[i]={graphics:{}}}if(!point.isDefined){yValue=point.plotValue}yValue=(0,_lib.pluck)(point.plotValue,yValue);point.plotY=(0,_lib.toPrecision)(yAxis.getPixel(point.setValue),2);point.graphY=yValue&&(0,_lib.toPrecision)(yAxis.getPixel(yValue),2);point.plotX=plotX;if(point.isShift){xValue+=1;plotX=xValue;categories&&catArr.push(categories[i])}else if(i===dataSetLen-1){categories&&catArr.push(categories[i])}if(i){lastPoint=setDataArr[i-1].config;isRally=point&&point.objParams&&point.objParams.isRally;lastHigh=point&&point.objParams&&point.objParams.lastHigh;lastLow=point&&point.objParams&&point.objParams.lastLow;isRallyInitialised=point&&point.objParams&&point.objParams.isRallyInitialised;if(lastPoint&&isRallyInitialised&&lastPoint.isRally!==point.isRally){point.isChanged=true;point.ty=(0,_lib.toPrecision)(yAxis.getPixel(isRally?lastHigh:lastLow),2)}else{point.isChanged=false}}}};Kagi.prototype.getDSdef=function getDSdef(){return _kagi2["default"]};return Kagi}(_waterfall2d2["default"]);exports["default"]=Kagi},502:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _sscartesian=__webpack_require__(258);var _sscartesian2=_interopRequireDefault(_sscartesian);var _waterfall2d=__webpack_require__(503);var _waterfall2d2=_interopRequireDefault(_waterfall2d);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var WaterFall2D=function(_SSCartesian){_inherits(WaterFall2D,_SSCartesian);function WaterFall2D(){_classCallCheck(this,WaterFall2D);return _possibleConstructorReturn(this,_SSCartesian.apply(this,arguments))}WaterFall2D.getName=function getName(){return"WaterFall2D"};WaterFall2D.prototype.getName=function getName(){return"WaterFall2D"};WaterFall2D.prototype.__setDefaultConfig=function __setDefaultConfig(){_SSCartesian.prototype.__setDefaultConfig.call(this);var config=this.config;config.friendlyName="Waterfall Chart";config.singleseries=true;config.hasLegend=false;config.defaultDatasetType="Waterfall2D";config.enablemousetracking=true};WaterFall2D.prototype.getDSdef=function getDSdef(){return _waterfall2d2["default"]};return WaterFall2D}(_sscartesian2["default"]);exports["default"]=WaterFall2D},503:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _column=__webpack_require__(331);var _column2=_interopRequireDefault(_column);var _dependencyManager=__webpack_require__(125);var _waterFall2DAnimation=__webpack_require__(504);var _waterFall2DAnimation2=_interopRequireDefault(_waterFall2DAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var HUNDREDSTRING="100",PLOTBORDERCOLOR="plotBorderColor",PLOTGRADIENTCOLOR="plotGradientColor",COMMA=",",BLANK="",SHOWSHADOW="showShadow",NONE="none",MAX_MITER_LINEJOIN=2,M="M",H="H",UNDEF=void 0;(0,_dependencyManager.addDep)({name:"waterFall2DAnimation",type:"animationRule",extension:_waterFall2DAnimation2["default"]});var WaterFall2DDataset=function(_ColumnDataset){_inherits(WaterFall2DDataset,_ColumnDataset);function WaterFall2DDataset(){_classCallCheck(this,WaterFall2DDataset);return _possibleConstructorReturn(this,_ColumnDataset.apply(this,arguments))}WaterFall2DDataset.prototype.getType=function getType(){return"dataset"};WaterFall2DDataset.prototype.getName=function getName(){return"waterFall2D"};WaterFall2DDataset.prototype.configure=function configure(datasetJSON){if(!datasetJSON){return false}this.trimData(datasetJSON);this.config.JSONData=datasetJSON;var catData,catObj,dataSet=this,chart=dataSet.getFromEnv("chart"),conf=dataSet.config,JSONData=dataSet.config.JSONData,setDataArr=JSONData.data,setDataLen=setDataArr&&setDataArr.length,xAxis=dataSet.getFromEnv("xAxis"),catLen=xAxis.getTicksLen(),len=Math.min(catLen,setDataLen),chartJSON=chart.getFromEnv("dataSource"),chartAttr=chartJSON.chart,colorM=dataSet.getFromEnv("color-manager"),index=dataSet.index||dataSet.positionIndex,showplotborder,plotColor=colorM.getPlotColor(index),plotBorderDash=(0,_lib.pluckNumber)(JSONData.dashed,chartAttr.plotborderdashed),usePlotGradientColor=(0,_lib.pluckNumber)(chartAttr.useplotgradientcolor,1),showTooltip=(0,_lib.pluckNumber)(chartAttr.showtooltip,1),yAxisName=(0,_lib.parseUnsafeString)(chartAttr.yaxisname),xAxisName=(0,_lib.parseUnsafeString)(chartAttr.xaxisname),tooltipSepChar=(0,_lib.parseUnsafeString)((0,_lib.pluck)(chartAttr.tooltipsepchar,", ")),formatedVal,parserConfig,setTooltext,macroIndices,toolText,plotDashLen,plotDashGap,plotBorderThickness,isRoundEdges,showHoverEffect,plotfillAngle,plotFillAlpha,plotFillRatio,plotgradientcolor,plotBorderAlpha,plotBorderColor,plotBorderDashStyle,initailPlotBorderDashStyle,setData,setValue,dataObj,config,colorArr,hoverColor,hoverAlpha,hoverGradientColor,hoverRatio,hoverAngle,hoverBorderColor,hoverBorderAlpha,hoverBorderThickness,hoverBorderDashed,hoverBorderDashGap,hoverBorderDashLen,hoverDashStyle,hoverColorArr,dataStore=dataSet.components.data,numberFormatter=dataSet.getFromEnv("number-formatter"),toolTipValue,setDisplayValue,isBar=false,is3D=false,isStacked=false,stack100Percent,enableAnimation,parentYAxis,setDataDashed,setDataPlotDashLen,setDataPlotDashGap,i,reflowData={},reflowDataObj=reflowData.dataObj||(reflowData.dataObj={}),reflowChartObj=reflowDataObj.chart||(reflowDataObj.chart={}),lineThickness=(0,_lib.pluck)(chartAttr.connectorthickness,1),showSum,dataLabel,showLabel,itemValue,maxValue=-Infinity,minValue=Infinity,seriesSum=0,total=0,lastComTotal=0,formatedSum,issum,zLine,setColor,cumulative,sumObj,countPoint,plotfillangle;dataSet.setState("visible",(0,_lib.pluckNumber)(JSONData.visible,!Number(JSONData.initiallyhidden),1)===1);showplotborder=conf.showplotborder=(0,_lib.pluckNumber)(chartAttr.showplotborder,is3D?0:1);conf.plotBorderThickness=plotBorderThickness=showplotborder?is3D?1:(0,_lib.pluckNumber)(chartAttr.plotborderthickness,1):0;conf.isRoundEdges=isRoundEdges=(0,_lib.pluckNumber)(chartAttr.useroundedges,0);conf.plotBorderAlpha=plotBorderAlpha=showplotborder?(0,_lib.pluck)(chartAttr.plotborderalpha,plotFillAlpha,HUNDREDSTRING):0;conf.plotBorderColor=plotBorderColor=(0,_lib.pluck)(chartAttr.plotbordercolor,is3D?"#ffffff":colorM.getColor(PLOTBORDERCOLOR).split(COMMA)[0]);conf.plotgradientcolor=plotgradientcolor=usePlotGradientColor?(0,_lib.getDefinedColor)(chartAttr.plotgradientcolor,colorM.getColor(PLOTGRADIENTCOLOR)):BLANK;conf.plotDashLen=plotDashLen=(0,_lib.pluckNumber)(chartAttr.plotborderdashlen,6);conf.plotDashGap=plotDashGap=(0,_lib.pluckNumber)(chartAttr.plotborderdashgap,3);conf.use3DLighting=(0,_lib.pluckNumber)(chartAttr.use3dlighting,1);conf.showSum=showSum=(0,_lib.pluckNumber)(chartAttr.showsumatend,1);conf.plotColor=plotColor=(0,_lib.pluck)(JSONData.color,plotColor);conf.plotfillAngle=plotfillAngle=(0,_lib.pluckNumber)(360-chartAttr.plotfillangle,90);conf.showShadow=isRoundEdges||is3D?(0,_lib.pluckNumber)(chartAttr.showshadow,1):(0,_lib.pluckNumber)(chartAttr.showshadow,colorM.getColor(SHOWSHADOW));conf.showHoverEffect=showHoverEffect=(0,_lib.pluckNumber)(chartAttr.plothovereffect,chartAttr.showhovereffect,UNDEF);conf.plotFillAlpha=plotFillAlpha=(0,_lib.pluck)(JSONData.alpha,chartAttr.plotfillalpha,HUNDREDSTRING);conf.plotRadius=(0,_lib.pluckNumber)(chartAttr.useRoundEdges,conf.isRoundEdges?1:0);conf.plotFillRatio=plotFillRatio=(0,_lib.pluck)(JSONData.ratio,chartAttr.plotfillratio);conf.plotBorderDashStyle=initailPlotBorderDashStyle=plotBorderDash?(0,_lib.getDashStyle)(plotDashLen,plotDashGap):"none";conf.showValues=(0,_lib.pluckNumber)(JSONData.showvalues,chartAttr.showvalues,1);conf.valuePadding=(0,_lib.pluckNumber)(chartAttr.valuepadding,2);conf.enableAnimation=enableAnimation=(0,_lib.pluckNumber)(chartAttr.animation,chartAttr.defaultanimation,1);conf.animation=!enableAnimation?false:{duration:(0,_lib.pluckNumber)(chartAttr.animationduration,1)*1e3};reflowChartObj.transposeAnimation=conf.transposeAnimation=(0,_lib.pluckNumber)(chartAttr.transposeanimation,reflowChartObj.transposeAnimation,enableAnimation);conf.transposeAnimDuration=(0,_lib.pluckNumber)(chartAttr.transposeanimduration,.2)*1e3;conf.showTooltip=(0,_lib.pluckNumber)(chartAttr.showtooltip,1);conf.stack100Percent=stack100Percent=(0,_lib.pluckNumber)(chart.stack100percent,chartAttr.stack100percent,0);conf.definedGroupPadding=Math.max((0,_lib.pluckNumber)(chartAttr.plotspacepercent),0);conf.plotSpacePercent=Math.max((0,_lib.pluckNumber)(chartAttr.plotspacepercent,20)%100,0);conf.maxColWidth=(0,_lib.pluckNumber)(isBar?chartAttr.maxbarheight:chartAttr.maxcolwidth,50);conf.showPercentValues=(0,_lib.pluckNumber)(chartAttr.showpercentvalues,isStacked&&stack100Percent?1:0);conf.showPercentInToolTip=(0,_lib.pluckNumber)(chartAttr.showpercentintooltip,isStacked&&stack100Percent?1:0);conf.plotPaddingPercent=(0,_lib.pluckNumber)(chartAttr.plotpaddingpercent);conf.rotateValues=(0,_lib.pluckNumber)(chartAttr.rotatevalues)?270:0;conf.placeValuesInside=(0,_lib.pluckNumber)(chartAttr.placevaluesinside,0);conf.parentYAxis=parentYAxis=(0,_lib.pluck)(JSONData.parentyaxis&&JSONData.parentyaxis.toLowerCase(),"p")==="s"?1:0;conf.defaultPadding={left:.5,right:.5};dataSet.setState("dirty",true);if(!dataStore){dataStore=dataSet.components.data=[]}conf.zLine=zLine={step:true,data:[],dashStyle:chartAttr.connectordashed==="1"?(0,_lib.getDashStyle)((0,_lib.pluckNumber)(chartAttr.connectordashlen,2),(0,_lib.pluckNumber)(chartAttr.connectordashgap,2)):NONE,useForwardSteps:true,color:(0,_libGraphics.convertColor)((0,_lib.pluck)(chartAttr.connectorcolor,"000000"),(0,_lib.pluck)(chartAttr.connectoralpha,100)),lineWidth:lineThickness};for(i=0;i<len;i+=1){setData=setDataArr[i];itemValue=numberFormatter.getCleanValue(setData.value);issum=(0,_lib.pluckNumber)(setData.issum,0);if(setData.vline||issum){delete setData._value;continue}seriesSum+=itemValue;setData._value=itemValue}formatedSum=numberFormatter.dataLabels(seriesSum);if(showSum){showSum=true;len+=1;sumObj={label:(0,_lib.getFirstValue)(chartAttr.sumlabel,"Total"),_value:seriesSum,value:seriesSum,issum:1,cumulative:1}}for(i=0,countPoint=0;i<len;i+=1){setData=setDataArr[i];dataObj=dataStore[i];config=dataObj&&dataObj.config;if(!dataObj){dataObj=dataStore[i]={graphics:{}}}if(!dataObj.config){config=dataStore[i].config={}}if(!setData&&showSum){setData=setDataArr[i]=sumObj}plotColor=(0,_lib.pluck)(setData.color,colorM.getPlotColor(i));if(dataObj.vline){continue}itemValue=setData._value;delete setData._value;config.issum=issum=(0,_lib.pluckNumber)(setData.issum,0);cumulative=config.isCumulative=(0,_lib.pluckNumber)(setData.cumulative,1);if(issum){itemValue=cumulative?total:total===lastComTotal?total:total-lastComTotal;config.lastComTotal=lastComTotal;lastComTotal=total;zLine.data.push({y:null,x:countPoint-.5})}else{total+=itemValue}maxValue=Math.max(maxValue,total);minValue=Math.min(minValue,total);config.total=total;showLabel=config.showLabel=(0,_lib.pluckNumber)(setData.showlabel,chartAttr.showlabels,1);dataLabel=config.dataLabel=(0,_lib.parseUnsafeString)(!showLabel?BLANK:(0,_lib.getFirstValue)(setData.label,setData.name));if(itemValue>0){setColor=(0,_lib.pluck)(setData.color,chartAttr.positivecolor,plotColor);if(showHoverEffect!==0){hoverColor=(0,_lib.pluck)(setData.positivehovercolor,chartAttr.positivehovercolor,chartAttr.plotfillhovercolor,chartAttr.columnhovercolor,setColor)}}else{setColor=(0,_lib.pluck)(setData.color,chartAttr.negativecolor,plotColor);if(showHoverEffect!==0){hoverColor=(0,_lib.pluck)(setData.negativehovercolor,chartAttr.negativehovercolor,chartAttr.plotfillhovercolor,chartAttr.columnhovercolor,setColor)}}if(itemValue<0){plotfillangle=360-plotfillAngle}else{plotfillangle=plotfillAngle}plotFillAlpha=(0,_lib.pluck)(setData.alpha,conf.plotFillAlpha);setDataDashed=(0,_lib.pluckNumber)(setData.dashed,plotBorderDash);setDataPlotDashLen=(0,_lib.pluckNumber)(setData.dashlen,plotDashLen);setDataPlotDashGap=plotDashGap=(0,_lib.pluckNumber)(setData.dashgap,plotDashGap);config.showValue=(0,_lib.pluckNumber)(setData.showvalue,conf.showValues);config.setValue=setValue=itemValue;config.setLink=(0,_lib.pluck)(setData.link);config.toolTipValue=toolTipValue=numberFormatter.dataLabels(setValue,parentYAxis);config.setDisplayValue=setDisplayValue=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)(setData.displayvalue));config.displayValue=(0,_lib.pluck)(setDisplayValue,toolTipValue);config.plotBorderDashStyle=plotBorderDashStyle=setDataDashed===1?(0,_lib.getDashStyle)(setDataPlotDashLen,setDataPlotDashGap):setDataDashed===0?"none":initailPlotBorderDashStyle;config.shadow={opacity:conf.showShadow?plotFillAlpha/100:0};config.colorArr=colorArr=(0,_libGraphics.getColumnColor)(setColor+COMMA+plotgradientcolor.replace(/,+?$/,""),plotFillAlpha,plotFillRatio,plotfillangle,isRoundEdges,plotBorderColor,plotBorderAlpha.toString(),isBar?1:0,!!is3D);if(showHoverEffect!==0){hoverAlpha=(0,_lib.pluck)(setData.alpha,setData.hoveralpha,JSONData.hoveralpha,chartAttr.plotfillhoveralpha,chartAttr.columnhoveralpha,plotFillAlpha);hoverGradientColor=(0,_lib.pluck)(setData.hovergradientcolor,JSONData.hovergradientcolor,chartAttr.plothovergradientcolor,plotgradientcolor);!hoverGradientColor&&(hoverGradientColor="");hoverRatio=(0,_lib.pluck)(setData.hoverratio,JSONData.hoverratio,setData.ratio,chartAttr.plothoverratio,plotFillRatio);hoverAngle=(0,_lib.pluckNumber)(360-setData.hoverangle,360-JSONData.hoverangle,360-chartAttr.plothoverangle,plotfillangle);hoverBorderColor=(0,_lib.pluck)(setData.borderhovercolor,JSONData.borderhovercolor,chartAttr.plotborderhovercolor,plotBorderColor);hoverBorderAlpha=(0,_lib.pluck)(setData.borderhoveralpha,JSONData.borderhoveralpha,chartAttr.plotborderhoveralpha,plotBorderAlpha,plotFillAlpha);hoverBorderThickness=(0,_lib.pluckNumber)(setData.borderhoverthickness,JSONData.borderhoverthickness,chartAttr.plotborderhoverthickness,plotBorderThickness);hoverBorderDashed=(0,_lib.pluckNumber)(setData.borderhoverdashed,JSONData.borderhoverdashed,chartAttr.plotborderhoverdashed);hoverBorderDashGap=(0,_lib.pluckNumber)(setData.borderhoverdashgap,JSONData.borderhoverdashgap,chartAttr.plotborderhoverdashgap,plotDashLen);hoverBorderDashLen=(0,_lib.pluckNumber)(setData.borderhoverdashlen,JSONData.borderhoverdashlen,chartAttr.plotborderhoverdashlen,plotDashGap);hoverDashStyle=hoverBorderDashed?(0,_lib.getDashStyle)(hoverBorderDashLen,hoverBorderDashGap):plotBorderDashStyle;if(showHoverEffect===1&&hoverColor===plotColor){hoverColor=(0,_libGraphics.getLightColor)(hoverColor,70)}hoverColorArr=(0,_libGraphics.getColumnColor)(hoverColor+","+hoverGradientColor,hoverAlpha,hoverRatio,hoverAngle,isRoundEdges,hoverBorderColor,hoverBorderAlpha.toString(),isBar?1:0,!!is3D);config.setRolloutAttr={fill:!is3D?(0,_lib.toRaphaelColor)(colorArr[0]):[(0,_lib.toRaphaelColor)(colorArr[0]),!conf.use3DLighting],stroke:showplotborder&&(0,_lib.toRaphaelColor)(colorArr[1]),"stroke-width":plotBorderThickness,"stroke-dasharray":plotBorderDashStyle};config.setRolloverAttr={fill:!is3D?(0,_lib.toRaphaelColor)(hoverColorArr[0]):[(0,_lib.toRaphaelColor)(hoverColorArr[0]),!conf.use3DLighting],stroke:showplotborder&&(0,_lib.toRaphaelColor)(hoverColorArr[1]),"stroke-width":hoverBorderThickness,"stroke-dasharray":hoverDashStyle}}formatedVal=config.toolTipValue;config.origToolText=setTooltext=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(setData.tooltext,JSONData.plottooltext,chartAttr.plottooltext)));if(!showTooltip){toolText=false}else if(setTooltext!==UNDEF){macroIndices=[1,2,3,5,6,7,20,21,24,25];parserConfig={formattedValue:formatedVal,label:dataLabel,yaxisName:yAxisName,xaxisName:xAxisName,cumulativeValue:total,cumulativeDataValue:numberFormatter.dataLabels(total),sum:formatedSum,unformattedSum:seriesSum};toolText=(0,_lib.parseTooltext)(setTooltext,macroIndices,parserConfig,setData,chartAttr,JSONData)}else{toolText=formatedVal===null?false:dataLabel!==BLANK?dataLabel+tooltipSepChar:""}zLine.data.push({y:itemValue===null?null:total,x:countPoint});countPoint+=1;config.originalPlotColor=plotColor;config.toolText=toolText;config.setTooltext=toolText;config._x=i;config._y=setValue}conf.maxValue=maxValue;conf.minValue=minValue;conf.connectNullData=(0,_lib.pluckNumber)(chartAttr.connectnulldata,0);conf.showConnectors=(0,_lib.pluckNumber)(chartAttr.showconnectors,1);catData=JSONData.catData;for(i=0;i<catData.length;i+=1){catObj=catData[i];setDataArr.splice(catObj.index,0,catObj.data)}dataSet.getFromEnv("xAxis").setTickValues(setDataArr);dataSet.config.maxminFlag=false};WaterFall2DDataset.prototype.createCoordinates=function createCoordinates(){var dataSet=this,dsComponents=dataSet.components,dsData=dsComponents.data,chart=dataSet.getFromEnv("chart"),isBar=chart.isBar,yAxis=dataSet.getFromEnv("yAxis"),xAxis=dataSet.getFromEnv("xAxis"),yBase=yAxis.getAxisBase(),yBasePos=yAxis.getPixel(yBase),isVertical=xAxis.config.isVertical,dataObj,config,previousY,i,Px,Py,Pb,yVal,chartConfig=dataSet.getFromEnv("chartConfig"),xDepth=chartConfig.xDepth||0,yDepth=chartConfig.yDepth||0,len=dsData.length,components=dataSet.components,groupManager=dataSet.groupManager,stackConf=groupManager&&groupManager.stackConf,dataStore=components.data;!isBar&&(xDepth=-xDepth);isBar&&(yDepth=-yDepth);for(i=0;i<len;i++){dataObj=dataStore[i];config=dataObj&&dataObj.config;if(dataObj===UNDEF){continue}yVal=config._y;if(!config.issum){previousY=dataStore[i-1]&&dataStore[i-1].config.total;previousY&&(yVal+=previousY)}else if(!config.isCumulative){previousY=config.lastComTotal;yVal+=config.lastComTotal}else{previousY=null}Px=xAxis.getPixel(stackConf&&stackConf[i].x||config._x)+xDepth;Py=yAxis.getPixel(yVal)+yDepth;Pb=(previousY?yAxis.getPixel(previousY):yBasePos)+yDepth;if(isVertical){config._Px=Py;config._Py=Px;config._Pby=Px;config._Pbx=Pb}else{config._Px=Px;config._Py=Py;config._Pby=Pb;config._Pbx=Px}}};WaterFall2DDataset.prototype.getDataLimits=function getDataLimits(){var dataSet=this,dataStore=dataSet.components.data,conf=dataSet.config,i,config,len=dataStore.length,setValue,maxValue=-Infinity,minValue=+Infinity;for(i=0;i<len;i++){if(!dataStore[i]){continue}config=dataStore[i].config;setValue=config.total;if(setValue!==UNDEF){maxValue=Math.max(maxValue,setValue);minValue=Math.min(minValue,setValue)}}conf.maxValue=maxValue;conf.minValue=minValue;return{max:conf.maxValue,min:conf.minValue}};WaterFall2DDataset.prototype.drawPlots=function drawPlots(anim){var dataSet=this;_ColumnDataset.prototype.drawPlots.call(this,anim);if(dataSet.config.showConnectors){dataSet.drawLine()}else{dataSet.getContainer("commonElemsGroup").hide()}};WaterFall2DDataset.prototype.drawLine=function drawLine(){var dataSet=this,conf=dataSet.config,i,yPos,xPos,xAxis=dataSet.getFromEnv("xAxis"),yAxis=dataSet.getFromEnv("yAxis"),yBase=yAxis.getAxisBase(),yBasePos=yAxis.getPixel(yBase),lineContainer=dataSet.getContainer("commonElemsGroup"),groupNetHalfWidth=dataSet.getFromEnv("columnWidth")/2,animationManager=dataSet.getFromEnv("animationManager"),zLineConf=conf.zLine,connectNullData=conf.connectNullData,data=zLineConf.data,set,y,x,ln=data.length,datasetGraphics=dataSet._graphics,seriesDashStyle=zLineConf.dashStyle,seriesColor=zLineConf.color,seriesLineWidth=zLineConf.lineWidth,lastXPos,zLineDummy=datasetGraphics.zLine,zLine,lastYPos=null,linePath=[],lastMoveCommand=[];yAxis.yBasePos=yBasePos;lineContainer.toFront().show();for(i=0;i<ln;i+=1){set=data[i];y=set.y;if(y===null){lastMoveCommand.length=0;if(connectNullData===0){lastYPos=null}}else{x=(0,_lib.pluckNumber)(set.x,i);yPos=yAxis.getPixel(y);xPos=xAxis.getPixel(x);xPos=(0,_lib.getCrispValue)(xPos,seriesLineWidth,seriesLineWidth).position;yPos=(0,_lib.getCrispValue)(yPos,seriesLineWidth,seriesLineWidth).position;if(lastYPos!==null){if(lastMoveCommand.length){linePath=linePath.concat(lastMoveCommand);lastMoveCommand.length=0}linePath.push(M,lastXPos,lastYPos,"m",-groupNetHalfWidth,0,H,xPos,"h",groupNetHalfWidth,"m",0,yPos-lastYPos)}else{lastMoveCommand.push(M,xPos,yPos)}lastXPos=xPos;lastYPos=yPos}}zLine=animationManager.setAnimation({el:zLineDummy||"path",attr:{path:linePath,"stroke-linecap":"round","stroke-opacity":1,"stroke-dasharray":seriesDashStyle,stroke:seriesColor,"stroke-linejoin":seriesLineWidth>=MAX_MITER_LINEJOIN?"round":"miter","stroke-width":seriesLineWidth},container:lineContainer,component:dataSet,label:"path"});if(!zLineDummy){dataSet.addGraphicalElement("zLine",zLine)}};return WaterFall2DDataset}(_column2["default"]);exports["default"]=WaterFall2DDataset},504:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _columnAnimation=__webpack_require__(332);var _columnAnimation2=_interopRequireDefault(_columnAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports["default"]={"initial.dataset.waterFall2D":_columnAnimation2["default"]["initial.dataset.column"]}},505:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _line=__webpack_require__(346);var _line2=_interopRequireDefault(_line);var _lib=__webpack_require__(118);var _dependencyManager=__webpack_require__(125);var _kagiAnimation=__webpack_require__(506);var _kagiAnimation2=_interopRequireDefault(_kagiAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var POSITION_TOP="top",POSITION_BOTTOM="bottom",POSITION_MIDDLE="middle",POSITION_RIGHT="right",ROUND="round",UNDEF=void 0,EVENTARGS="eventArgs",SETROLLOVERATTR="setRolloverAttr",SETROLLOUTATTR="setRolloutAttr",defined=function defined(obj){return obj!==UNDEF&&obj!==null},M="M",H="H",V="V",HTP=_lib.hasTouch?_lib.TOUCH_THRESHOLD_PIXELS:_lib.CLICK_THRESHOLD_PIXELS,NONE="none";(0,_dependencyManager.addDep)({name:"kagiAnimation",type:"animationRule",extension:_kagiAnimation2["default"]});var KagiDataset=function(_LineDataset){_inherits(KagiDataset,_LineDataset);function KagiDataset(){_classCallCheck(this,KagiDataset);var _this=_possibleConstructorReturn(this,_LineDataset.call(this));_this.manageSpace=function(){};_this.drawCommonElements=function(){};return _this}KagiDataset.prototype.getType=function getType(){return"dataset"};KagiDataset.prototype.getName=function getName(){return"kagi"};KagiDataset.prototype._parseShadowOptions=function _parseShadowOptions(){var dataSet=this,chart=dataSet.getFromEnv("chart"),conf=dataSet.config,chartAttr=chart.getFromEnv("dataSource").chart;return{opacity:(0,_lib.pluckNumber)(chartAttr.showshadow,1)?conf.alpha/100:0}};KagiDataset.prototype.configureAttributes=function configureAttributes(datasetJSON){_LineDataset.prototype.configureAttributes.call(this,datasetJSON);var dataSetComponents,datasetObj=this,removeDataArr,chart=datasetObj.getFromEnv("chart"),xAxis=datasetObj.getFromEnv("xAxis"),temp=0,data,catArr=[],series,JSONData,FCChartObj,valueMax,valueMin,isRallyInitialised,shiftCounter,reversalValue,reversalPercentage,rallyDashLen,rallyDashGap,declineDashLen,declineDashGap,lastPlotValue,setShowLabel,length,index,fcIndex,fcDataObj,lastShift,prevDataObj,plotValue,dataObj,nextDataValue,valueDifference,dataValue,isRally,lastLow,lastHigh,isMovingUp,isShift,checkValue,t,count=0,vAlign,align;dataSetComponents=datasetObj.components;data=dataSetComponents.data;series=datasetObj.config;JSONData=datasetObj.config.JSONData.data;FCChartObj=chart.getFromEnv("dataSource").chart;valueMax=series.maxValue;valueMin=series.minValue;removeDataArr=dataSetComponents.removeDataArr||(dataSetComponents.removeDataArr=[]);isRallyInitialised=false;shiftCounter=0;reversalValue=(0,_lib.pluckNumber)(FCChartObj.reversalvalue,-1);reversalPercentage=(0,_lib.pluckNumber)(FCChartObj.reversalpercentage,5);for(index=0;index<data.length;index+=1){data[index].config.__nullCount=count;if(data[index].config.setValue===null){removeDataArr.push(data.splice(index,1)[0]);count++;index-=1}}if(data.length){series.rallyColor=(0,_lib.pluck)(FCChartObj.rallycolor,"FF0000");series.rallyAlpha=(0,_lib.pluckNumber)(FCChartObj.rallyalpha,FCChartObj.linealpha,100);series.declineColor=(0,_lib.pluck)(FCChartObj.declinecolor,"0000FF");series.declineAlpha=(0,_lib.pluckNumber)(FCChartObj.declinealpha,FCChartObj.linealpha,100);series.canvasPadding=(0,_lib.pluckNumber)(FCChartObj.canvaspadding,15);series.maxHShiftPercent=(0,_lib.pluckNumber)(FCChartObj.maxhshiftpercent,10);series.rallyThickness=(0,_lib.pluckNumber)(FCChartObj.rallythickness,FCChartObj.linethickness,2);rallyDashLen=(0,_lib.pluckNumber)(FCChartObj.rallydashlen,FCChartObj.linedashlen,5);rallyDashGap=(0,_lib.pluckNumber)(FCChartObj.rallydashgap,FCChartObj.linedashgap,4);series.declineThickness=(0,_lib.pluckNumber)(FCChartObj.declinethickness,FCChartObj.linethickness,2);declineDashLen=(0,_lib.pluckNumber)(FCChartObj.declinedashlen,FCChartObj.linedashlen,5);declineDashGap=(0,_lib.pluckNumber)(FCChartObj.declinedashgap,FCChartObj.linedashgap,4);series.lineDashed={"true":(0,_lib.pluckNumber)(FCChartObj.rallydashed,FCChartObj.linedashed,0),"false":(0,_lib.pluckNumber)(FCChartObj.declinedashed,FCChartObj.linedashed,0)};series.rallyDashed=(0,_lib.pluckNumber)(FCChartObj.rallydashed,FCChartObj.linedashed,0)?(0,_lib.getDashStyle)(rallyDashLen,rallyDashGap):NONE;series.declineDashed=(0,_lib.pluckNumber)(FCChartObj.declinedashed,FCChartObj.linedashed,0)?(0,_lib.getDashStyle)(declineDashLen,declineDashGap):NONE;series.canvasPadding=(0,_lib.pluckNumber)(FCChartObj.canvaspadding,this.canvasPadding,15);reversalValue=reversalValue>0?reversalValue:reversalPercentage*(valueMax-valueMin)/100;lastPlotValue=data[0].config.setValue;setShowLabel=function setShowLabel(id,_isRally){var dataXValue,r=1,data1Value=data[0].config.setValue;while(r<id){dataXValue=data[r].config.setValue;if(_isRally){if(dataXValue<=data1Value){data[r].config.isDefined=false}}else{if(dataXValue>=data1Value){data[r].config.isDefined=false}}r+=1}data[0].config.vAlign=_isRally?POSITION_BOTTOM:POSITION_TOP;data[0].config.align="center"};length=JSONData.length;for(index=0,fcIndex=0;fcIndex<length;fcIndex+=1,index+=1){fcDataObj=JSONData[fcIndex];if(fcDataObj&&fcDataObj.vline){continue}dataObj=data[index]&&data[index].config;if(lastShift){lastShift=false}dataObj&&(dataObj.isDefined=true);if(index&&dataObj){dataObj.isShift=UNDEF;prevDataObj=data[index-1].config;dataObj.vAlign=POSITION_MIDDLE;dataObj.align=POSITION_RIGHT;dataObj.showLabel=false;plotValue=null;dataValue=dataObj.setValue;nextDataValue=data[index+1]&&data[index+1].config.setValue;valueDifference=Math.abs(lastPlotValue-dataValue);if(!isRallyInitialised){if(dataValue>lastPlotValue&&valueDifference>reversalValue){isRally=true;lastLow=lastPlotValue;lastHigh=null;isMovingUp=true;isRallyInitialised=true;setShowLabel(index,isRally)}else if(dataValue<lastPlotValue&&valueDifference>reversalValue){isRally=false;lastLow=null;lastHigh=lastPlotValue;isMovingUp=false;isRallyInitialised=true;setShowLabel(index,isRally)}else{isRally=null;isMovingUp=null;isRallyInitialised=false}if(defined(prevDataObj)){prevDataObj.isRally=isRally}if(isRally!==null){data[0].config.isRally=isRally}}else{if(dataValue<lastLow&&isRally){isRally=false}else if(dataValue>lastHigh&&!isRally){isRally=true}}dataObj.isRally=isRally;if(isMovingUp&&dataValue<lastPlotValue||!isMovingUp&&dataValue>lastPlotValue){plotValue=lastPlotValue}checkValue=plotValue||dataValue;valueDifference=Math.abs(checkValue-nextDataValue);if(isMovingUp===null){isShift=null}else if(isMovingUp){isShift=checkValue>nextDataValue&&valueDifference>=reversalValue}else{isShift=checkValue<nextDataValue&&valueDifference>=reversalValue}if(prevDataObj&&prevDataObj.isShift){if(isMovingUp){lastLow=lastPlotValue;vAlign=POSITION_BOTTOM}else if(!isMovingUp){lastHigh=lastPlotValue;vAlign=POSITION_TOP}align="center";for(t=index;t>1;t-=1){if(data[t].y==lastPlotValue){data[t].vAlign=vAlign;data[t].align=align;data[t].showLabel=true;break}}}if(isShift){shiftCounter+=1;lastShift=true;isMovingUp=!isMovingUp;dataObj.isShift=true;lastPlotValue=checkValue;catArr.push(JSONData[index+dataObj.__nullCount]);temp=datasetObj._appendCategory(temp,index,catArr,0)}else if(isMovingUp&&dataValue>lastPlotValue||!isMovingUp&&dataValue<lastPlotValue){lastPlotValue=dataValue}else{plotValue=lastPlotValue}dataObj.plotValue=plotValue;dataObj.objParams={isRally:isRally,lastHigh:lastHigh,lastLow:lastLow,isRallyInitialised:isRallyInitialised}}}datasetObj._appendCategory(temp,index,catArr,1);catArr.push(fcDataObj);xAxis.setTickValues(catArr);series.shiftCount=shiftCounter+1}};KagiDataset.prototype._appendCategory=function _appendCategory(temp,index,catArr,lineposition){var i,catObj,catData,refIndex,datasetObj=this,catOnlyData=datasetObj.config.JSONData.catData;if(temp<catOnlyData.length){for(i=temp;i<catOnlyData.length;i+=1,temp=i){catObj=catOnlyData[i];catData=catObj.data;refIndex=catObj.index-(i+1);if(refIndex<index){catData.lineposition=(0,_lib.pluckNumber)(catData.lineposition,lineposition)}else if(refIndex>index){break}catArr.push(catData)}}return temp};KagiDataset.prototype._getHoveredPlot=function _getHoveredPlot(chartX,chartY){var dataset=this,xAxis=dataset.getFromEnv("xAxis"),conf=dataset.config,trackIndex=conf.trackIndex,dataStore=dataset.components.data,len=dataStore.length,i,j,index,returnValue,xMin,xMax,pointObjs;chartX+=xAxis.getTranslation();xMin=Math.floor(Math.max(xAxis.getValue(chartX-conf.maxRadius),0));xMax=Math.ceil(Math.min(xAxis.getValue(chartX+conf.maxRadius),len-1));for(j=xMax;j>=xMin;j--){pointObjs=trackIndex[j];len=pointObjs&&pointObjs.length;for(i=len;i>=0;i--){index=pointObjs[i];returnValue=dataset.isWithinShape(dataStore[index],index,chartX,chartY);if(returnValue){return returnValue}}}};KagiDataset.prototype.getClip=function getClip(type){var dataSet=this,chart=dataSet.getFromEnv("chart"),canvas=chart.getChildren("canvas")[0],canvasConfig=canvas.config,clipRect=[canvasConfig.canvasLeft,canvasConfig.canvasTop,0,canvasConfig.canvasTop+canvasConfig.canvasHeight];clipRect[2]+=type==="init"?0:canvasConfig.canvasLeft+canvasConfig.canvasWidth;return clipRect};KagiDataset.prototype.parsePlotAttributes=function parsePlotAttributes(point,index){var i=index,trackerConfig=void 0,dataSet=this,JSONData=dataSet.config.JSONData,conf=dataSet.config,datasetIndex=0,xAxis=dataSet.getFromEnv("xAxis"),xPos=void 0,yPos=void 0,toolText=void 0,setLink=void 0,setValue=void 0,eventArgs=void 0,displayValue=void 0,dataStore=dataSet.components.data,dataObj=void 0,setRolloutAttr=void 0,setRolloverAttr=void 0,anchorRadius=void 0,hoverEffects=void 0,anchorProps={},symbol=void 0,config=void 0,visible=dataSet.getState("visible"),attr=void 0;point=point.config;dataObj=dataStore[i];config=dataObj.config;trackerConfig=point.trackerConfig={};hoverEffects=config.hoverEffects;setValue=config.setValue;displayValue=config.displayValue;xPos=dataObj._xPos=xAxis.getPixel(point.plotX);yPos=dataObj._yPos=point.plotY;dataObj._index=point.plotX;anchorProps=config.anchorProps;symbol=anchorProps.symbol;toolText=point.finalTooltext=point.toolText;setLink=config.setLink;if(yPos!==UNDEF&&!isNaN(yPos)&&point.isDefined){eventArgs=point.eventArgs=point.eventArgs||{};eventArgs.index=i;eventArgs.link=setLink;eventArgs.value=setValue;eventArgs.displayValue=displayValue;eventArgs.categoryLabel=config.label;eventArgs.toolText=toolText;eventArgs.id=conf.userID;eventArgs.datasetIndex=datasetIndex||0;eventArgs.datasetName=JSONData.seriesname;eventArgs.visible=visible;setRolloutAttr=setRolloverAttr={};if(anchorProps.imageUrl){config.anchorImageLoaded=false}attr={path:(0,_lib.polyPathToPath)([symbol[1]||2,xPos,yPos,anchorProps.radius,anchorProps.startAngle,0]),fill:(0,_lib.toRaphaelColor)({color:anchorProps.bgColor,alpha:anchorProps.bgAlpha}),stroke:(0,_lib.toRaphaelColor)({color:anchorProps.borderColor,alpha:anchorProps.borderAlpha}),"stroke-width":anchorProps.borderThickness,visibility:!anchorProps.radius?"hidden":visible};anchorRadius=Math.max(anchorProps.radius,hoverEffects&&hoverEffects.anchorRadius||0,HTP)+anchorProps.borderThickness/2;trackerConfig.trackerRadius=anchorRadius;if(hoverEffects.enabled){setRolloverAttr={path:(0,_lib.polyPathToPath)([hoverEffects.anchorSides||2,xPos,yPos,hoverEffects.anchorRadius,hoverEffects.startAngle,hoverEffects.dip]),fill:(0,_lib.toRaphaelColor)({color:hoverEffects.anchorColor,alpha:hoverEffects.anchorBgAlpha}),stroke:(0,_lib.toRaphaelColor)({color:hoverEffects.anchorBorderColor,alpha:hoverEffects.anchorBorderAlpha}),"stroke-width":hoverEffects.anchorBorderThickness};setRolloutAttr={path:(0,_lib.polyPathToPath)([anchorProps.sides,xPos,yPos,anchorProps.radius,anchorProps.startAngle,0]),fill:(0,_lib.toRaphaelColor)({color:anchorProps.bgColor,alpha:anchorProps.bgAlpha}),stroke:(0,_lib.toRaphaelColor)({color:anchorProps.borderColor,alpha:anchorProps.borderAlpha}),"stroke-width":anchorProps.borderThickness};hoverEffects.attrs={hoverEnabled:hoverEffects.enabled,anchorRadius:anchorProps.radius,anchorHoverRadius:hoverEffects.anchorRadius};hoverEffects.attrs[SETROLLOVERATTR]=setRolloverAttr;hoverEffects.attrs[SETROLLOUTATTR]=setRolloutAttr;anchorProps.isAnchorHoverRadius=hoverEffects.attrs.anchorRadius}}point.props={element:{attr:attr}}};KagiDataset.prototype.parseLabelAttributes=function parseLabelAttributes(dataObj,index){var dataSet=this,chart=dataSet.getFromEnv("chart"),chartConfig=chart.config,SmartLabel=dataSet.getFromEnv("smartLabel"),style=chart.config.dataLabelStyle,displayValue="",rotateValues=chartConfig.rotatevalues?270:0,canvasTop=chartConfig.canvasTop,canvasHeight=chartConfig.canvasHeight,canvasBottom=canvasTop+canvasHeight,GUTTER_4=4,GUTTER_2=2,valuePadding,bBoxObj,graphic,textHeight,origTextHeight,textY,textX,yAdjust,nextPoint={},prevPoint={},anchorProps,config,decidingDimention,xPos,yPos,value,showValue,anchorRadius,i=index,len=dataSet.components.data.length,setValue,attr;config=dataObj&&dataObj.config;setValue=config&&config.setValue;if(dataObj===UNDEF||setValue===UNDEF||setValue===null||config.labelSkip===true){config&&delete config.labelSkip;return}if(index>0){prevPoint={x:dataSet.components.data[i-1]._xPos,y:dataSet.components.data[i-1]._yPos}}if(index<len-1){nextPoint={x:dataSet.components.data[i+1]._xPos,y:dataSet.components.data[i+1]._yPos}}anchorProps=config.anchorProps;graphic=dataObj.graphics;yPos=dataObj._yPos||dataObj.config._Py;xPos=dataObj._xPos||dataObj.config._Px;anchorRadius=graphic.element?graphic.image&&graphic.element.attr("height")*.5||anchorProps.radius-3:0;valuePadding=chartConfig.valuepadding+GUTTER_2+anchorRadius;displayValue=config.displayValue;showValue=config.showValue;if(defined(displayValue)&&displayValue!==""&&value!==null&&showValue){attr={text:displayValue,fill:style.color,"text-bound":[style.backgroundColor,style.borderColor,style.borderThickness,style.borderPadding,style.borderRadius,style.borderDash]};bBoxObj=SmartLabel.getOriSize(displayValue);if(rotateValues){config._state={labelWidth:bBoxObj.height,labelHeight:bBoxObj.width};config._rotated=true}else{config._state={labelWidth:bBoxObj.width,labelHeight:bBoxObj.height};config._rotated=false}textHeight=origTextHeight=rotateValues?bBoxObj.width:bBoxObj.height;textHeight+=valuePadding;yAdjust=origTextHeight*.5+valuePadding;textY=yPos;textX=xPos;textHeight=textHeight+GUTTER_4;decidingDimention=Number(rotateValues)>=1?bBoxObj.height:bBoxObj.width;config._valueBelowPoint=0;if(nextPoint.y>textY){if(prevPoint.y<textY){textX-=valuePadding+3+decidingDimention*.5}else{if(yPos-textHeight<canvasTop){textX-=valuePadding+3+decidingDimention*.5;textY=canvasTop+textHeight/2}else{textY-=yAdjust}}}else{if(prevPoint.y>textY){textX-=valuePadding+3+decidingDimention*.5}else{if(yPos+textHeight>canvasBottom){textX-=valuePadding+3+decidingDimention*.5;textY=canvasBottom-textHeight/2}else{textY+=yAdjust+GUTTER_2;config._valueBelowPoint=1}}}attr.x=textX;attr.y=textY}config.props=config.props||{};config.props.label={attr:attr}};KagiDataset.prototype.allocatePosition=function allocatePosition(){var i=void 0,dataSet=this,conf=dataSet.config,dataSetComponents=dataSet.components,setDataArr=dataSetComponents.data,dataSetLen=setDataArr&&setDataArr.length,xAxis=dataSet.getFromEnv("xAxis"),setValue=void 0,dataStore=dataSet.components.data,dataObj=void 0,config=void 0,xAxisZeroPos=xAxis.getPixel(0),xAxisFirstPos=xAxis.getPixel(1),pointDistance=xAxisFirstPos-xAxisZeroPos,rallyThickness=conf.rallyThickness,declineThickness=conf.declineThickness,thickness={"true":rallyThickness,"false":declineThickness},rallyPath=void 0,declinePath=void 0,xValue=0,plotX=xAxis.getPixel(xValue),isRally=setDataArr[0]&&!!setDataArr[0].isRally,nextPointIsRally=void 0,startX=xAxisZeroPos-pointDistance/2,plotY=void 0,crispY=void 0,nextPoint=void 0,path=void 0;conf.imagesLoaded=0;if(!setDataArr.length){return}rallyPath=conf.rallyPath=[];declinePath=conf.declinePath=[];dataStore=dataSet.components.data=dataStore||[];if(!setDataArr[0].config.setValue){for(i=1;i<dataSetLen;i+=1){setValue=setDataArr[i].config.setValue;if(setValue){plotY=setDataArr[i].config.plotY;break}}}else{plotY=setDataArr[0].config.plotY}isRally=!!setDataArr[0].config.isRally;crispY=Math.round(plotY)+thickness[isRally]%2/2;if(isRally){rallyPath.push(M,startX,crispY,H,plotX)}else{declinePath.push(M,startX,crispY,H,plotX)}(0,_lib.fcEach)(setDataArr,function(point,i){point=point.config;dataObj=dataStore[i];config=dataObj.config;setValue=config.setValue;nextPoint=setDataArr[i+1]&&setDataArr[i+1].config||{};if(nextPoint){path=[M,plotX,plotY];isRally=point.isRally;if(point.isShift){plotX+=pointDistance;plotY=point.graphY;path.push(H,plotX);path[2]=Math.round(path[2])+thickness[isRally]%2/2;path=path.toString();if(isRally){rallyPath.push(path)}else{declinePath.push(path)}path=[M,plotX,plotY]}if(nextPoint.isChanged){plotY=nextPoint.ty;path.push(V,plotY);path[1]=Math.round(path[1])+thickness[!!isRally]%2/2;path=path.toString();if(isRally){rallyPath.push(path)}else{declinePath.push(path)}path=[M,plotX,plotY]}nextPointIsRally=nextPoint.isRally;if(nextPoint.graphY!==path[2]&&nextPoint.graphY!==UNDEF){path.push(V,nextPoint.graphY);path[1]=Math.round(path[1])+thickness[!!nextPointIsRally]%2/2;path=path.toString();if(nextPointIsRally){rallyPath.push(path)}else{declinePath.push(path)}}nextPoint.graphY&&(plotY=nextPoint.graphY)}dataSet.parsePlotAttributes(dataObj,i)});for(i=0;i<setDataArr.length;i++){dataSet.parseLabelAttributes(dataStore[i],i)}};KagiDataset.prototype.drawPlots=function drawPlots(){var graphics=void 0,dataSet=this,datasetGraphics=dataSet.getGraphicalElement(),animationManager=dataSet.getFromEnv("animationManager"),conf=dataSet.config,trackIndex=conf.trackIndex={},dataSetComponents=dataSet.components,setDataArr=dataSetComponents.data,yPos=void 0,setElement=void 0,dataStore=dataSet.components.data,dataObj=void 0,hoverEffects=void 0,shadow=conf.shadow,anchorShadow=void 0,anchorProps={},config=void 0,rallyThickness=conf.rallyThickness,declineThickness=conf.declineThickness,rallyAttr={stroke:(0,_lib.toRaphaelColor)({color:conf.rallyColor,alpha:conf.rallyAlpha}),"stroke-linecap":ROUND,"stroke-linejoin":ROUND,"stroke-width":rallyThickness,"stroke-dasharray":conf.rallyDashed},declineAttr={stroke:(0,_lib.toRaphaelColor)({color:conf.declineColor,alpha:conf.declineAlpha}),"stroke-linecap":ROUND,"stroke-linejoin":ROUND,"stroke-width":declineThickness,"stroke-dasharray":conf.declineDashed},rallyElemDummy=datasetGraphics.rallyElem,rallyElem=void 0,declineElemDummy=datasetGraphics.declineElem,declineElem=void 0,attr=void 0,commonElemGroup=dataSet.getContainer("commonElemsGroup"),plotGroup=dataSet.getContainer("plotGroup"),shadowGroup=dataSet.getContainer("shadowGroup"),imageElement=void 0;if(!setDataArr.length){rallyElem&&rallyElem.hide();declineElem&&declineElem.hide();return}else{rallyElem&&rallyElem.show();declineElem&&declineElem.show()}(0,_lib.fcEach)(setDataArr,function(point,i){point=point.config;dataObj=dataStore[i];config=dataObj.config;graphics=dataObj.graphics;imageElement=graphics.image;hoverEffects=config.hoverEffects;yPos=dataObj._yPos;if(!trackIndex[point.plotX]){trackIndex[point.plotX]=[]}trackIndex[point.plotX].push(i);dataObj._index=point.plotX;anchorProps=config.anchorProps;anchorShadow=anchorProps.shadow;if(yPos!==UNDEF&&!isNaN(yPos)&&point.isDefined){if(anchorProps.imageUrl){dataSet.drawAnchorImage(dataObj)}else{imageElement&&imageElement.hide();setElement=graphics.element;attr=point.props.element.attr;setElement=graphics.element=animationManager.setAnimation({el:setElement||"path",attr:attr,container:plotGroup,component:dataSet,label:"anchor"});setElement.show().shadow(anchorShadow,shadowGroup).data("anchorRadius",anchorProps.radius).data("anchorHoverRadius",hoverEffects.anchorRadius).data("hoverEnabled",hoverEffects.enabled).data(EVENTARGS,point.eventArgs)}if(hoverEffects.enabled){setElement&&setElement.data("anchorRadius",anchorProps.radius).data("anchorHoverRadius",hoverEffects.anchorRadius).data("hoverEnabled",hoverEffects.enabled).data(SETROLLOVERATTR,hoverEffects.attrs[SETROLLOVERATTR]).data(SETROLLOUTATTR,hoverEffects.attrs[SETROLLOUTATTR]).data(EVENTARGS,point.eventArgs)}}else{graphics.element&&graphics.element.hide();imageElement&&imageElement.hide()}});rallyAttr.path=conf.rallyPath;rallyElem=animationManager.setAnimation({el:rallyElemDummy||"path",attr:rallyAttr,container:commonElemGroup,component:dataSet,label:"line"});rallyElem.shadow(rallyThickness&&shadow,shadowGroup);if(!rallyElemDummy){dataSet.addGraphicalElement("rallyElem",rallyElem)}declineAttr.path=conf.declinePath;declineElem=animationManager.setAnimation({el:declineElemDummy||"path",attr:declineAttr,container:commonElemGroup,component:dataSet,label:"line"});declineElem.shadow(declineThickness&&shadow,shadowGroup);if(!declineElemDummy){dataSet.addGraphicalElement("declineElem",declineElem)}};return KagiDataset}(_line2["default"]);exports["default"]=KagiDataset},506:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _lineAnimation=__webpack_require__(349);var _lineAnimation2=_interopRequireDefault(_lineAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports["default"]={"*.dataset.kagi":_lineAnimation2["default"]["*.dataset.line"]}},507:function(module,exports,__webpack_require__){"use strict";(function(global){exports.__esModule=true;var _lib=__webpack_require__(118);var _scatterbase=__webpack_require__(414);var _scatterbase2=_interopRequireDefault(_scatterbase);var _selectscatter=__webpack_require__(508);var _selectscatter2=_interopRequireDefault(_selectscatter);var _dependencyManager=__webpack_require__(125);var _editableCharts=__webpack_require__(489);var _redraphaelShapes=__webpack_require__(231);var _redraphaelShapes2=_interopRequireDefault(_redraphaelShapes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var Raphael=(0,_dependencyManager.getDep)("redraphael","plugin"),UNDEF=void 0,COMMA=",",configStr="config",TRACKER_FILL="rgba(192,192,192,"+(_lib.isIE?.002:1e-6)+")",VISIBLE="visible",HIDDEN="hidden",ROUND="round",POINTER="pointer",deg2rad=Math.PI/180,getArcPath=function getArcPath(endX,endY,rX,rY,isClockWise,isLargeArc){return["A",rX,rY,0,isLargeArc,isClockWise,endX,endY]},M="M",L="L",Z="Z",t="t";(0,_redraphaelShapes2["default"])(Raphael);function _createSelectionBox(event){var chart=event.chart,paper=chart.getFromEnv("paper"),chartConfig=chart.config,yAxis=chart.getChildren("yAxis")[0],xAxis=chart.getChildren("xAxis")[0],x=event.selectionLeft,y=event.selectionTop,width=event.selectionWidth,height=event.selectionHeight,x2=x+width,y2=y+height,TRACKER_WIDTH=12,TRACKER_HALF_WIDTH=TRACKER_WIDTH*.5,trackerRadius=12,resizeInnerSymbolColor="#999999",resizeOuterSymbolColor="#777777",closeButtonRadius=6,cornerSymbolRadius=15,isSmall=width>cornerSymbolRadius&&height>cornerSymbolRadius,selectEleObj={resizeEleRadius:cornerSymbolRadius,canvasTop:chartConfig.canvasTop,canvasRight:chartConfig.canvasLeft+chartConfig.canvasWidth,canvasLeft:chartConfig.canvasLeft,canvasBottom:chartConfig.canvasTop+chartConfig.canvasHeight},trackerG=chart.getChildContainer("trackerGroup"),selectEleArr=chartConfig._selectEleArr||(chartConfig._selectEleArr=[]),selectBoxG;selectEleObj.index=selectEleArr.length;selectEleObj.id="SELECT_"+selectEleObj.index;selectEleObj.selectBoxG=selectBoxG=paper.group("selection-box",trackerG).toFront();selectEleObj.selectBoxTracker=paper.rect(x,y,width,height,selectBoxG).attr({"stroke-width":1,stroke:(0,_lib.toRaphaelColor)(chartConfig.selectBorderColor),fill:chartConfig.selectFillColor}).css({cursor:"move"});selectEleObj.selectBoxTracker.node._isTrackerElem=true;selectEleObj.selectBoxTracker.data(configStr,{position:6,selectEleObj:selectEleObj,chart:chart,xChange:true,yChange:true});selectEleObj.topTracker=paper.rect(x,y-TRACKER_HALF_WIDTH,width,TRACKER_WIDTH,selectBoxG).attr({"stroke-width":0,fill:TRACKER_FILL}).css("cursor",_lib.hasSVG&&"ns-resize"||"n-resize");selectEleObj.topTracker.node._isTrackerElem=true;selectEleObj.topTracker.data(configStr,{position:1,selectEleObj:selectEleObj,yChange:true,chart:chart});selectEleObj.rightTracker=paper.rect(x+width-TRACKER_HALF_WIDTH,y,TRACKER_WIDTH,height,selectBoxG).attr({"stroke-width":0,fill:TRACKER_FILL}).css("cursor",_lib.hasSVG&&"ew-resize"||"w-resize");selectEleObj.rightTracker.node._isTrackerElem=true;selectEleObj.rightTracker.data(configStr,{position:2,chart:chart,selectEleObj:selectEleObj,xChange:true});selectEleObj.bottomTracker=paper.rect(x,y+height-TRACKER_HALF_WIDTH,width,TRACKER_WIDTH,selectBoxG).attr({"stroke-width":0,fill:TRACKER_FILL}).css("cursor",_lib.hasSVG&&"ns-resize"||"n-resize");selectEleObj.bottomTracker.node._isTrackerElem=true;selectEleObj.bottomTracker.data(configStr,{position:3,chart:chart,selectEleObj:selectEleObj,yChange:true});selectEleObj.leftTracker=paper.rect(x-TRACKER_HALF_WIDTH,y,TRACKER_WIDTH,height,selectBoxG).attr({"stroke-width":0,fill:TRACKER_FILL}).css("cursor",_lib.hasSVG&&"ew-resize"||"e-resize");selectEleObj.leftTracker.node._isTrackerElem=true;selectEleObj.leftTracker.data(configStr,{position:4,chart:chart,selectEleObj:selectEleObj,xChange:true});selectEleObj.cornerInnerSymbol=paper.symbol("resizeIcon",0,0,cornerSymbolRadius,selectBoxG).attr({transform:t+x2+COMMA+y2,"stroke-width":1,visibility:isSmall?VISIBLE:HIDDEN,stroke:resizeInnerSymbolColor});selectEleObj.cornerInnerSymbol.node._isTrackerElem=true;selectEleObj.cornerOuterSymbol=paper.symbol("resizeIcon",0,0,-cornerSymbolRadius*.8,selectBoxG).attr({transform:t+x2+COMMA+y2,strokeWidth:1,visibility:!isSmall?VISIBLE:HIDDEN,stroke:resizeOuterSymbolColor});selectEleObj.cornerOuterSymbol.node._isTrackerElem=true;selectEleObj.resizeTracker=paper.circle(x2,y2,trackerRadius,selectBoxG).attr({"stroke-width":1,stroke:TRACKER_FILL,fill:TRACKER_FILL}).css("cursor",_lib.hasSVG&&"nwse-resize"||"nw-resize");selectEleObj.resizeTracker.node._isTrackerElem=true;selectEleObj.resizeTracker.data(configStr,{position:5,chart:chart,selectEleObj:selectEleObj,yChange:true,xChange:true});selectEleObj.closeButton=paper.symbol("closeIcon",0,0,closeButtonRadius,selectBoxG).attr({transform:"t"+x2+COMMA+y,"stroke-width":2,stroke:chartConfig.selectionCancelButtonBorderColor,fill:chartConfig.selectionCancelButtonFillColor,"stroke-linecap":ROUND,"stroke-linejoin":ROUND}).css({cursor:POINTER,_cursor:"hand"}).click(function(){chart.deleteSelection(this,chart)});selectEleObj.closeButton.node._isTrackerElem=true;selectEleObj.closeButton.data(configStr,{chart:chart,index:selectEleObj.index});selectEleObj.startX=xAxis.getValue(x);selectEleObj.startY=yAxis.getValue(y);selectEleObj.endX=xAxis.getValue(x2);selectEleObj.endY=yAxis.getValue(y2);selectEleObj.isVisible=true;selectEleArr.push(selectEleObj);chart.bindDragEvent(selectEleObj)}function _deleteSelection(ele,chart){var index=ele.data(configStr).index,selectEleArr=chart.config._selectEleArr,selectEleObj,selectT,selectEleItem,xAxis=chart.getChildren("xAxis")[0],yAxis=chart.getChildren("yAxis")[0],items,bBox,eventArgs;selectEleObj=selectEleArr.find(function(item){return item.index===index});selectT=selectEleObj.selectBoxTracker;bBox=selectT.getBBox();eventArgs={selectionLeft:bBox.x,selectionTop:bBox.y,selectionWidth:bBox.width,selectionHeight:bBox.height,startXValue:xAxis.getValue(bBox.x,1),startYValue:yAxis.getValue(bBox.y,1),endXValue:xAxis.getValue(bBox.x+bBox.width,1),endYValue:yAxis.getValue(bBox.y+bBox.height,1),data:chart.getCollatedData(),id:selectEleObj.id};for(items in selectEleObj){if(selectEleObj.hasOwnProperty(items)){selectEleItem=selectEleObj[items];selectEleItem.remove&&selectEleItem.remove();delete selectEleObj[items]}}selectEleArr=selectEleArr.filter(function(item){return Object.keys(item).length});chart.fireChartInstanceEvent("selectionRemoved",eventArgs)}Raphael.addSymbol({resizeIcon:function resizeIcon(x,y,radius){var LINE_GAP=(0,_lib.pluckNumber)(radius,15)/3,LINE_DIS=3,paths=[],i;if(LINE_GAP<0){LINE_GAP=-LINE_GAP;radius=-radius;x+=radius-LINE_GAP/2;y+=radius-LINE_GAP/2}for(i=3;i>0;i-=1){paths.push(M,x-LINE_GAP*i,y-LINE_DIS,L,x-LINE_DIS,y-LINE_GAP*i)}return paths},closeIcon:function closeIcon(x,y,r){var icoX=x,icoY=y,rad=r*1.3,startAngle=43*deg2rad,endAngle=48*deg2rad,startX=icoX+rad*Math.cos(startAngle),startY=icoY+rad*Math.sin(startAngle),endX=icoX+rad*Math.cos(endAngle),endY=icoY+rad*Math.sin(endAngle),paths,r1=.71*(r-2),r2=.71*(r-2),arcPath=getArcPath(endX,endY,rad,rad,0,1);paths=[M,startX,startY];paths=paths.concat(arcPath);paths=paths.concat([M,x+r1,y-r2,L,x-r1,y+r2,M,x-r1,y-r2,L,x+r1,y+r2]);return paths},configureIcon:function configureIcon(x,y,r){r=r-1;var k=.5,l=.25,r1=r*.71,r2=(r+2)*.71,x1=x-r,y1=y-r,x2=x+r,y2=y+r,x3=x+k,y3=y+k,x4=x-k,y4=y-k,x5=x1-2,y5=y1-2,x6=x2+2,y6=y2+2,x7=x+r1,y7=y+r1,x8=x-r1,y8=y-r1,x9=x+r2,y9=y+r2,x10=x-r2,y10=y-r2,paths;paths=[M,x1,y3,L,x5,y3,x5,y4,x1,y4,x8-l,y8+l,x10-l,y10+l,x10+l,y10-l,x8+l,y8-l,x4,y1,x4,y5,x3,y5,x3,y1,x7-l,y8-l,x9-l,y10-l,x9+l,y10+l,x7+l,y8+l,x2,y4,x6,y4,x6,y3,x2,y3,x7+l,y7-l,x9+l,y9-l,x9-l,y9+l,x7-l,y7+l,x3,y2,x3,y6,x4,y6,x4,y2,x8+l,y7+l,x10+l,y9+l,x10-l,y9-l,x8-l,y7-l,Z];return paths},axisIcon:function axisIcon(x,y,r){r=r-1;var r1=r*.33,r2=r/2,x1=x-r,y1=y-r,x2=x+r2,y2=y+r,x3=x-r2,y3=y+r1,y4=y-r1,paths;paths=[M,x1,y1,L,x2,y1,x2,y2,x1,y2,M,x3,y3,L,x2,y3,M,x3,y4,L,x2,y4];return paths},loggerIcon:function loggerIcon(x,y,r){r=r-1;x=x-r;y=y-r;var r2=r*2,x1=x+r2,x2=x+2,x3=x1-2,y1=y+2,y2=y1+r,y3=y2+2,paths;paths=[M,x,y,L,x1,y,x1,y1,x3,y1,x3,y2,x1,y2,x1,y3,x,y3,x,y2,x2,y2,x2,y1,x,y1,x,y];return paths}});var SelectScatter=function(_ScatterBase){_inherits(SelectScatter,_ScatterBase);SelectScatter.getName=function getName(){return"SelectScatter"};SelectScatter.prototype.parseChartAttr=function parseChartAttr(dataObj){_ScatterBase.prototype.parseChartAttr.call(this,dataObj);this.config.formBtnTitle=(0,_lib.pluck)(dataObj.chart.submittext,dataObj.chart.formbtntitle,"Submit");this.config.restoreBtnTitle=(0,_lib.pluck)(dataObj.chart.restoretext,dataObj.chart.restorebtntitle,"Restore")};function SelectScatter(){_classCallCheck(this,SelectScatter);var _this=_possibleConstructorReturn(this,_ScatterBase.call(this));_this.isXY=true;_this.defaultZeroPlaneHighlighted=false;_this.eiMethods={getData:function getData(format){var apiInstance=this.apiInstance;return apiInstance&&apiInstance.getData(format)},restoreData:function restoreData(){var apiInstance=this.apiInstance;return apiInstance&&apiInstance.restoreData()},submitData:function submitData(){var apiInstance=this.apiInstance;return apiInstance&&apiInstance.submitData()}};return _this}SelectScatter.prototype.getName=function getName(){return"SelectScatter"};SelectScatter.prototype.configureAttributes=function configureAttributes(dataObj){var iapi=this,chartConfig=iapi.getFromEnv("chart").config,chartAttr=iapi.getFromEnv("dataSource").chart||{};chartConfig.formAction=(0,_lib.getValidValue)(chartAttr.formaction);chartConfig.enableSubmit=(0,_lib.pluckNumber)(chartAttr.enablesubmit,chartAttr.showformbtn,1)&&chartConfig.formAction;chartConfig.enableRestore=(0,_lib.pluckNumber)(chartAttr.enablerestore,chartAttr.showrestorebtn,1);_ScatterBase.prototype.configureAttributes.call(this,dataObj)};SelectScatter.prototype.__setDefaultConfig=function __setDefaultConfig(){_ScatterBase.prototype.__setDefaultConfig.call(this);var config=this.config;config.friendlyName="Dragable Scatter Chart";config.hasLegend=true;config.defaultDatasetType="selectScatter";config.allowreversexaxis=true;config.enablemousetracking=true};SelectScatter.prototype._createToolBox=function _createToolBox(){var _list$push;_ScatterBase.prototype._createToolBox.call(this);var iapi=this,chartConfig=iapi.getFromEnv("chartConfig"),chartMenuList=iapi.getFromEnv("chartMenuList"),list=[];chartConfig.enableRestore&&list.push((_list$push={},_list$push[chartConfig.restoreBtnTitle]={handler:function handler(){iapi.restoreData()},action:"click"},_list$push));if(chartConfig.enableSubmit){var tempObj={};tempObj[chartConfig.formBtnTitle]={handler:function handler(){_editableCharts.submitData.call(iapi)},action:"click"};list.push(tempObj)}chartMenuList.appendAsList(list)};SelectScatter.prototype.getData=function getData(format){var iapi=this,dataObj=iapi.getCollatedData(),returnObj=[],datasets=dataObj.dataset,length=datasets&&datasets.length||0,index=0,NULLSTR="null",dsInd=0,setLen,set,j;if(format){if(/^json$/gi.test(format)){returnObj=dataObj}else if(/^csv$/gi.test(format)){returnObj=iapi.getCSVString()}else{returnObj=global.core.transcodeData(dataObj,"json",format)}}else{for(;index<length;index+=1){set=datasets[index];if(set){set=datasets[index]&&datasets[index].data;j=setLen=set&&set.length||0;j&&(returnObj[dsInd]||(returnObj[dsInd]=[(0,_lib.getValidValue)(datasets[index].id,NULLSTR)]));while(j--){returnObj[dsInd][j+1]=(0,_lib.getValidValue)(set[j].id,NULLSTR)}setLen&&(dsInd+=1)}}}return returnObj};SelectScatter.prototype.getCSVString=function getCSVString(){var chart=this,dataObj=chart.getData(),i=dataObj.length;while(i--){dataObj[i]=dataObj[i].join(COMMA)}return dataObj.join("|")};SelectScatter.prototype.getCollatedData=function getCollatedData(incomingJSON){var api=this,dataset=api.getDatasets(),selectedArr=api.config._selectEleArr,len=selectedArr&&selectedArr.length||0,jsonData=incomingJSON||api.getFromEnv("dataSource"),origChartData=(0,_lib.extend2)({},jsonData),origDataSets=origChartData.dataset,xPos,yPos,oriDataArr,selectionBoxObj,lenDS=origDataSets&&origDataSets.length,isSelected=false,dataIndex,setObj,dataLen,startX,endX,startY,endY,selectedData=[];if(!len||!lenDS){return jsonData}while(len--){selectionBoxObj=selectedArr[len];if(!selectionBoxObj){continue}startX=selectionBoxObj.startX;endX=selectionBoxObj.endX;startY=selectionBoxObj.startY;endY=selectionBoxObj.endY;dataIndex=lenDS;while(dataIndex--){if(!dataset[dataIndex].getState("visible")){continue}selectedData[dataIndex]||(selectedData[dataIndex]={data:[]});oriDataArr=origDataSets[dataIndex].data;dataLen=oriDataArr&&oriDataArr.length;while(dataLen--){setObj=oriDataArr[dataLen];xPos=setObj.x;yPos=setObj.y;if(xPos>startX&&xPos<endX&&yPos<startY&&yPos>endY){selectedData[dataIndex].data[dataLen]=isSelected=true}}}}while(lenDS--){oriDataArr=origDataSets[lenDS].data;dataLen=oriDataArr&&oriDataArr.length;while(dataLen--){if(!(selectedData[lenDS]&&selectedData[lenDS].data[dataLen])){oriDataArr.splice(dataLen,1)}}}return isSelected?origChartData:jsonData};SelectScatter.prototype.createSelectionBox=function createSelectionBox(event){_createSelectionBox.call(this,event)};SelectScatter.prototype._deleteAllSelection=function _deleteAllSelection(){var chart=this,selectEleArr=chart.config._selectEleArr,selectEleObj,i,ii,selectEleItem,items1;if(selectEleArr){for(i=0,ii=selectEleArr.length;i<ii;i++){selectEleObj=selectEleArr[i];for(items1 in selectEleObj){if(selectEleObj.hasOwnProperty(items1)){selectEleItem=selectEleObj[items1];selectEleItem.remove&&selectEleItem.remove();delete selectEleObj[items1]}}}delete chart.config._selectEleArr}};SelectScatter.prototype.deleteSelection=function deleteSelection(ele,chart){_deleteSelection.call(this,ele,chart)};SelectScatter.prototype.bindDragEvent=function bindDragEvent(selectEleObj){var chart=this,item;for(item in selectEleObj){/Tracker/.test(item)&&selectEleObj[item].drag(chart.move,chart.start,chart.up)}};SelectScatter.prototype.start=function start(){var ele=this,data=ele.data(configStr),selectEleObj=data.selectEleObj,topT=selectEleObj.topTracker,rightT=selectEleObj.rightTracker,bottomT=selectEleObj.bottomTracker,leftT=selectEleObj.leftTracker,resizeT=selectEleObj.resizeTracker,topTData=topT.data(configStr),rightTData=rightT.data(configStr),bottomTData=bottomT.data(configStr),leftTData=leftT.data(configStr),resizeTData=resizeT.data(configStr),selectTData=selectEleObj.selectBoxTracker.data(configStr),bBox=selectEleObj.selectBoxTracker.getBBox();topTData.ox=bBox.x;topTData.oy=bBox.y;rightTData.ox=bBox.x2;rightTData.oy=bBox.y;bottomTData.ox=bBox.x;bottomTData.oy=bBox.y2;leftTData.ox=bBox.x;leftTData.oy=bBox.y;topTData.ox=bBox.x;topTData.oy=bBox.y;resizeTData.ox=bBox.x2;resizeTData.oy=bBox.y2;selectTData.ox=bBox.x;selectTData.oy=bBox.y;selectTData.ow=bBox.width;selectTData.oh=bBox.height;selectTData.ox2=bBox.x2;selectTData.oy2=bBox.y2;selectEleObj.selectBoxG.toFront();topT.hide();rightT.hide();bottomT.hide();leftT.hide();resizeT.hide();ele.show()};SelectScatter.prototype.move=function move(evt){var ele=this,data=ele.data(configStr),selectEleObj=data.selectEleObj,chart=data.chart,topT=selectEleObj.topTracker,rightT=selectEleObj.rightTracker,bottomT=selectEleObj.bottomTracker,leftT=selectEleObj.leftTracker,resizeT=selectEleObj.resizeTracker,selectT=selectEleObj.selectBoxTracker,canvasLeft=selectEleObj.canvasLeft,canvasRight=selectEleObj.canvasRight,canvasTop=selectEleObj.canvasTop,canvasBottom=selectEleObj.canvasBottom,HALF_T_WID=-6,xAxis=chart.getChildren("xAxis")[0],yAxis=chart.getChildren("yAxis")[0],selectTData=selectT.data(configStr),attrib={},bBox,dx=evt.data[0],dy=evt.data[1],eventArgs,x,y;dx=data.xChange?dx:0;dy=data.yChange?dy:0;x=dx+data.ox;y=dy+data.oy;x=Math.min(canvasRight-(data.ow||0),Math.max(x,canvasLeft));y=Math.min(canvasBottom-(data.oh||0),Math.max(y,canvasTop));switch(data.position){case 1:attrib.y=Math.min(selectTData.oy2,y);attrib.height=Math.abs(selectTData.oy2-y)||1;topT.attr({y:y+HALF_T_WID});break;case 2:attrib.x=Math.min(selectTData.ox,x);attrib.width=Math.abs(selectTData.ox-x)||1;rightT.attr({x:x+HALF_T_WID});break;case 3:attrib.y=Math.min(selectTData.oy,y);attrib.height=Math.abs(selectTData.oy-y)||1;bottomT.attr({y:y+HALF_T_WID});break;case 4:attrib.x=Math.min(selectTData.ox2,x);attrib.width=Math.abs(selectTData.ox2-x)||1;leftT.attr({x:x+HALF_T_WID});break;case 5:attrib.x=Math.min(selectTData.ox,x);attrib.width=Math.abs(selectTData.ox-x)||1;attrib.y=Math.min(selectTData.oy,y);attrib.height=Math.abs(selectTData.oy-y)||1;resizeT.attr({cx:x,cy:y});break;default:attrib.x=x;attrib.y=y;break}if(!ele.data("dragStarted")){bBox=selectT.getBBox();eventArgs={selectionLeft:bBox.x,selectionTop:bBox.y,selectionWidth:bBox.width,selectionHeight:bBox.height,startXValue:xAxis.getValue(bBox.x),startYValue:yAxis.getValue(bBox.y),endXValue:xAxis.getValue(bBox.x+bBox.width),endYValue:yAxis.getValue(bBox.y+bBox.height),id:selectEleObj.id};chart.fireChartInstanceEvent("BeforeSelectionUpdate",eventArgs);ele.data("dragStarted",1)}selectT.animate(attrib);if(selectEleObj.isVisible){selectEleObj.closeButton.hide();selectEleObj.cornerInnerSymbol.hide();selectEleObj.cornerOuterSymbol.hide();selectEleObj.isVisible=false}};SelectScatter.prototype.up=function up(){var ele=this,data=ele.data(configStr),selectEleObj=data.selectEleObj,chart=data.chart,xAxis=chart.getChildren("xAxis")[0],yAxis=chart.getChildren("yAxis")[0],topT=selectEleObj.topTracker,rightT=selectEleObj.rightTracker,bottomT=selectEleObj.bottomTracker,leftT=selectEleObj.leftTracker,resizeT=selectEleObj.resizeTracker,selectT=selectEleObj.selectBoxTracker,RESIZE_T_RADIUS=15,HALF_T_WID=-6,bBox,eventArgs;setTimeout(function(){bBox=selectT.getBBox();selectEleObj.startX=xAxis.getValue(bBox.x);selectEleObj.startY=yAxis.getValue(bBox.y);selectEleObj.endX=xAxis.getValue(bBox.x2);selectEleObj.endY=yAxis.getValue(bBox.y2);topT.attr({x:bBox.x,y:bBox.y+HALF_T_WID,width:bBox.width});rightT.attr({x:bBox.x2+HALF_T_WID,y:bBox.y,height:bBox.height});bottomT.attr({x:bBox.x,y:bBox.y2+HALF_T_WID,width:bBox.width});leftT.attr({x:bBox.x+HALF_T_WID,y:bBox.y,height:bBox.height});resizeT.attr({cx:bBox.x2,cy:bBox.y2});selectEleObj.closeButton.transform(t+bBox.x2+COMMA+bBox.y);selectEleObj.cornerInnerSymbol.transform(t+bBox.x2+COMMA+bBox.y2);selectEleObj.cornerOuterSymbol.transform(t+bBox.x2+COMMA+bBox.y2);selectEleObj.closeButton.show();if(bBox.width<RESIZE_T_RADIUS||bBox.height<RESIZE_T_RADIUS){selectEleObj.cornerInnerSymbol.hide();selectEleObj.cornerOuterSymbol.show()}else{selectEleObj.cornerInnerSymbol.show();selectEleObj.cornerOuterSymbol.hide()}selectEleObj.isVisible=true;topT.show();rightT.show();bottomT.show();leftT.show();resizeT.show();if(ele.data("dragStarted")){eventArgs={selectionLeft:bBox.x,selectionTop:bBox.y,selectionWidth:bBox.width,selectionHeight:bBox.height,startXValue:xAxis.getValue(bBox.x),startYValue:yAxis.getValue(bBox.y),endXValue:xAxis.getValue(bBox.x+bBox.width),endYValue:yAxis.getValue(bBox.y+bBox.height),data:chart.getCollatedData(),id:selectEleObj.id};chart.fireChartInstanceEvent("SelectionUpdated",eventArgs);ele.data("dragStarted",0)}},100)};SelectScatter.prototype.restoreData=function restoreData(){var chart=this,datasets=[],i;chart.iterateComponents(function(child){if(child.getType&&child.getType()==="dataset"){datasets.push(child)}});chart._deleteAllSelection();for(i=0;i<datasets.length;i++){datasets[i].asyncDraw()}chart.fireChartInstanceEvent("dataRestored",{});return true};SelectScatter.prototype._postSpaceManagement=function _postSpaceManagement(){var iapi=this;_ScatterBase.prototype._postSpaceManagement.call(this);iapi._deleteAllSelection()};SelectScatter.prototype.getDSdef=function getDSdef(){return _selectscatter2["default"]};SelectScatter.prototype.getDSGroupdef=function getDSGroupdef(){return UNDEF};return SelectScatter}(_scatterbase2["default"]);exports["default"]=SelectScatter}).call(this,__webpack_require__(111))},508:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _scatter=__webpack_require__(418);var _scatter2=_interopRequireDefault(_scatter);var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _dependencyManager=__webpack_require__(125);var _selectscatterAnimation=__webpack_require__(509);var _selectscatterAnimation2=_interopRequireDefault(_selectscatterAnimation);var _dependencyManager2=__webpack_require__(125);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var COLOR_FFFFFF="FFFFFF",altHGridColorStr=_lib.preDefStr.altHGridColorStr,altHGridAlphaStr=_lib.preDefStr.altHGridAlphaStr;(0,_dependencyManager2.addDep)({name:"selectScatterAnimation",type:"animationRule",extension:_selectscatterAnimation2["default"]});var SelectScatterDataset=function(_ScatterDataset){_inherits(SelectScatterDataset,_ScatterDataset);function SelectScatterDataset(){_classCallCheck(this,SelectScatterDataset);return _possibleConstructorReturn(this,_ScatterDataset.apply(this,arguments))}SelectScatterDataset.prototype.getType=function getType(){return"dataset"};SelectScatterDataset.prototype.getName=function getName(){return"selectScatter"};SelectScatterDataset.prototype.configure=function configure(datasetJSON){_ScatterDataset.prototype.configure.call(this,datasetJSON);var dataSet=this,chart=dataSet.getFromEnv("chart"),chartConfig=chart.config,chartAttr=chart.getFromEnv("dataSource").chart,colorM=dataSet.getFromEnv("color-manager"),borderColor=(0,_lib.pluck)(chartAttr.selectbordercolor,colorM.getColor("canvasBorderColor")),borderAlpha=(0,_lib.pluckNumber)(chartAttr.selectborderalpha,colorM.getColor("canvasBorderAlpha"));chartConfig.selectBorderColor={FCcolor:{color:borderColor,alpha:borderAlpha}};chartConfig.selectFillColor=(0,_libGraphics.convertColor)((0,_lib.pluck)(chartAttr.selectfillcolor,colorM.getColor(altHGridColorStr)),(0,_lib.pluckNumber)(chartAttr.selectfillalpha,colorM.getColor(altHGridAlphaStr)));chartConfig.selectionCancelButtonBorderColor=(0,_libGraphics.convertColor)((0,_lib.pluck)(chartAttr.selectioncancelbuttonbordercolor,borderColor),(0,_lib.pluckNumber)(chartAttr.selectioncancelbuttonborderalpha,borderAlpha));chartConfig.selectionCancelButtonFillColor=(0,_libGraphics.convertColor)((0,_lib.pluck)(chartAttr.selectioncancelbuttonfillcolor,COLOR_FFFFFF),(0,_lib.pluckNumber)(chartAttr.selectioncancelbuttonfillalpha,100));chartConfig.connativeZoom=false;chartConfig.zoomType="xy";if(chartAttr.submitdataasxml===_lib.ZEROSTRING&&!chartAttr.formdataformat){chartAttr.formdataformat=(0,_dependencyManager.getDepsByType)("transcoder").csv&&"csv"}chartConfig.formDataFormat=(0,_lib.pluck)(chartAttr.formdataformat);chartConfig.formTarget=(0,_lib.pluck)(chartAttr.formtarget,"_self");chartConfig.formMethod=(0,_lib.pluck)(chartAttr.formmethod,"POST");chartConfig.submitFormAsAjax=(0,_lib.pluckNumber)(chartAttr.submitformusingajax,1)};SelectScatterDataset.prototype.draw=function draw(){_ScatterDataset.prototype.draw.call(this);var dataSet=this,chart=dataSet.getFromEnv("chart"),container=chart.getFromEnv("chart-container"),xAxis=dataSet.getFromEnv("xAxis"),yAxis=dataSet.getFromEnv("yAxis");(0,_lib.bindSelectionEvent)(chart,{selectionStart:function selectionStart(data){var pos=(0,_lib.getMouseCoordinate)(container,data.originalEvent),eventArgs=(0,_lib.extend2)({selectionLeft:data.selectionLeft,selectionTop:data.selectionTop,selectionWidth:data.selectionWidth,selectionHeight:data.selectionHeight,startXValue:xAxis.getValue(data.selectionLeft,1),startYValue:yAxis.getValue(data.selectionTop,1)},pos);data.chart.fireChartInstanceEvent("selectionStart",eventArgs)},selectionEnd:function selectionEnd(data){var pos=(0,_lib.getMouseCoordinate)(container,data.originalEvent),eventArgs=(0,_lib.extend2)({selectionLeft:data.selectionLeft,selectionTop:data.selectionTop,selectionWidth:data.selectionWidth,selectionHeight:data.selectionHeight,startXValue:xAxis.getValue(data.selectionLeft,1),startYValue:yAxis.getValue(data.selectionTop,1),endXValue:xAxis.getValue(data.selectionLeft+data.selectionWidth,1),endYValue:yAxis.getValue(data.selectionTop+data.selectionHeight,1)},pos);data.chart.fireChartInstanceEvent("selectionEnd",eventArgs);data.chart.createSelectionBox(data)}})};return SelectScatterDataset}(_scatter2["default"]);exports["default"]=SelectScatterDataset},509:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _lineAnimation=__webpack_require__(349);var _lineAnimation2=_interopRequireDefault(_lineAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports["default"]={"*.dataset.selectScatter":_lineAnimation2["default"]["*.dataset.line"]}},510:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _commonchartapi=__webpack_require__(261);var _commonchartapi2=_interopRequireDefault(_commonchartapi);var _mlpieDataset=__webpack_require__(511);var _mlpieDataset2=_interopRequireDefault(_mlpieDataset);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var MultilevelPie=function(_CommonAPI){_inherits(MultilevelPie,_CommonAPI);MultilevelPie.getName=function getName(){return"MultilevelPie"};function MultilevelPie(){_classCallCheck(this,MultilevelPie);var _this=_possibleConstructorReturn(this,_CommonAPI.call(this));_this.defaultPaletteOptions=null;_this.registerFactory("dataset",_mlpieDataset2["default"],["canvas"]);return _this}MultilevelPie.prototype.getName=function getName(){return"MultilevelPie"};MultilevelPie.prototype.__setDefaultConfig=function __setDefaultConfig(){_CommonAPI.prototype.__setDefaultConfig.call(this);var config=this.config;config.is3D=false;config.friendlyName="Multi-level Pie Chart";config.hasLegend=false;config.defaultDatasetType="multiLevelPie";config.valuefontbold=0;config.skipCanvasDrawing=true};MultilevelPie.prototype._checkInvalidSpecificData=function _checkInvalidSpecificData(){};MultilevelPie.prototype._spaceManager=function _spaceManager(){var availableHeight,iapi=this,config=iapi.config;iapi._allocateSpace(iapi._manageActionBarSpace&&iapi._manageActionBarSpace(config.availableHeight*.225)||{});availableHeight=config.canvasHeight*.7;iapi._manageChartMenuBar(availableHeight)};return MultilevelPie}(_commonchartapi2["default"]);exports["default"]=MultilevelPie},511:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=function(chart){var jsonData=chart.getFromEnv("dataSource"),categories=void 0,catLength=void 0,length=void 0,datasetJSON={};categories=chart.config.categories=jsonData.category||[];catLength=categories.length;if(!length&&catLength){datasetJSON=categories;length=catLength}if(!catLength){chart.setChartMessage();return}(0,_lib.datasetFactory)(chart,_multilevelpie2["default"],"dataset",length,[datasetJSON])};var _lib=__webpack_require__(118);var _multilevelpie=__webpack_require__(512);var _multilevelpie2=_interopRequireDefault(_multilevelpie);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}},512:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _pie2d=__webpack_require__(369);var _pie2d2=_interopRequireDefault(_pie2d);var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _dependencyManager=__webpack_require__(125);var _multilevelpieAnimation=__webpack_require__(513);var _multilevelpieAnimation2=_interopRequireDefault(_multilevelpieAnimation);var _schedular=__webpack_require__(129);var _redraphaelShapes=__webpack_require__(211);var _redraphaelShapes2=_interopRequireDefault(_redraphaelShapes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var Raphael=(0,_dependencyManager.getDep)("redraphael","plugin"),BLANK="",NORMALSTRING="normal",COLOR_FFFFFF="FFFFFF",COLOR_000000="000000",pInt=function pInt(s,mag){return parseInt(s,mag||10)},DASH_DEF="none",UNDEF=void 0,ROLLOVER="DataPlotRollOver",ROLLOUT="DataPlotRollOut",POINTER="pointer",EVENTARGS="eventArgs",PX="px",INNERRADIUS=/^[0-9]+\%?$|^([0-9]+[.][0-9]+)\%?$/,calculateInnerRadius=function calculateInnerRadius(innerRadius,pieRadius){var innerRadiusLength=innerRadius&&innerRadius.length,calculatedInnerRadius=void 0;if(!innerRadius){return 0}if(innerRadius.charAt(innerRadiusLength-1)==="%"){calculatedInnerRadius=(0,_lib.pluckNumber)(pieRadius)*((0,_lib.pluckNumber)(innerRadius.split("%")[0])/100)}else{calculatedInnerRadius=(0,_lib.pluckNumber)(innerRadius)}if(calculatedInnerRadius<pieRadius){return calculatedInnerRadius}else return 0};(0,_dependencyManager.addDep)({name:"multilevelpieAnimation",type:"animationRule",extension:_multilevelpieAnimation2["default"]});(0,_redraphaelShapes2["default"])(Raphael);var MultiLevelPieDataset=function(_Pie2DDataset){_inherits(MultiLevelPieDataset,_Pie2DDataset);function MultiLevelPieDataset(){_classCallCheck(this,MultiLevelPieDataset);var _this=_possibleConstructorReturn(this,_Pie2DDataset.call(this));_this.components={data:[]};_this.graphics={};return _this}MultiLevelPieDataset.prototype.getType=function getType(){return"dataset"};MultiLevelPieDataset.prototype.getName=function getName(){return"multiLevelPie"};MultiLevelPieDataset.prototype.configureAttributes=function configureAttributes(datasetJSON){if(!datasetJSON){return false}this.config.JSONData=datasetJSON;var fontBdrColor,dataSet=this,chart=dataSet.getFromEnv("chart"),chartConfig=chart.config,dataSetConfig=dataSet.config||(dataSet.config={}),dataLabels=dataSetConfig.dataLabelOptions||(dataSetConfig.dataLabelOptions={}),piePlotOptions=dataSetConfig.piePlotOptions,style=chart.config.style,jsonData=dataSet.config.JSONData,chartAttrs=chart.getFromEnv("dataSource").chart,enableAnimation=dataSetConfig.enableAnimation=(0,_lib.pluckNumber)(chartAttrs.animation,chartAttrs.defaultanimation,1),centerAngle=(0,_lib.pluckNumber)(-chartAttrs.centerangle,180),totalAngle=(0,_lib.pluckNumber)(chartAttrs.totalangle,360),tranverseToRoot=function tranverseToRoot(dataObj,evtType){var pointObj=this.data("plotItem");while(dataObj.graphics.element){dataObj.graphics.element.attr({fill:evtType==="mouseover"?dataSetConfig.hoverFillColor:(dataObj.config||pointObj).color});dataObj=dataObj.config.parent}},traverseAllChildren=function traverseAllChildren(dataObj,evtType){var k,pointObj=this.data("plotItem");dataObj.graphics.element.attr({fill:evtType==="mouseover"?dataSetConfig.hoverFillColor:(dataObj.config||pointObj).color});for(k=0;k<(dataObj.components.data&&dataObj.components.data.length);k++){traverseAllChildren.call(this,dataObj.components.data[k],evtType)}},mouseEvtHandler=function mouseEvtHandler(evtType){if(!dataSetConfig.useHoverColor){return}var point=this.data("plotItem"),selfRef=point.selfRef;if(!dataSetConfig.highlightParentPieSlices&&!dataSetConfig.highlightChildPieSlices){selfRef.graphics.element.attr({fill:evtType==="mouseover"?dataSetConfig.hoverFillColor:(selfRef.config||point).color})}else if(!dataSetConfig.highlightParentPieSlices&&dataSetConfig.highlightChildPieSlices){traverseAllChildren.call(this,selfRef,evtType)}else if(dataSetConfig.highlightParentPieSlices&&!dataSetConfig.highlightChildPieSlices){tranverseToRoot.call(this,selfRef,evtType)}else if(dataSetConfig.highlightParentPieSlices&&dataSetConfig.highlightChildPieSlices){tranverseToRoot.call(this,selfRef,evtType);traverseAllChildren.call(this,selfRef,evtType)}};dataSetConfig.animation=!enableAnimation?false:{duration:(0,_lib.pluckNumber)(chartAttrs.animationduration,chartAttrs.moveduration,1)*1e3};dataSetConfig.showShadow=(0,_lib.pluckNumber)(chartAttrs.showshadow,0);dataSetConfig.useHoverColor=Boolean((0,_lib.pluckNumber)(chartAttrs.usehovercolor,1));dataSetConfig.hoverFillColor=(0,_libGraphics.convertColor)((0,_lib.pluck)(chartAttrs.hoverfillcolor,"FF5904"),(0,_lib.pluckNumber)(chartAttrs.hoverfillalpha,100));fontBdrColor=(0,_lib.getFirstValue)(chartAttrs.valuebordercolor,BLANK);fontBdrColor=fontBdrColor?(0,_libGraphics.convertColor)(fontBdrColor,(0,_lib.pluckNumber)(chartAttrs.valueborderalpha,chartAttrs.valuebgalpha,chartAttrs.valuealpha,100)):BLANK;!dataLabels.style&&(dataLabels.style={fontFamily:(0,_lib.pluck)(chartAttrs.valuefont,style.fontFamily),fontSize:(0,_lib.pluckNumber)(chartAttrs.valuefontsize,pInt(style.fontSize,10))+PX,color:(0,_libGraphics.convertColor)((0,_lib.pluck)(chartAttrs.valuefontcolor,style.color),(0,_lib.pluckNumber)(chartAttrs.valuefontalpha,chartAttrs.valuealpha,100)),fontWeight:(0,_lib.pluckNumber)(chartAttrs.valuefontbold)?"bold":NORMALSTRING,fontStyle:(0,_lib.pluckNumber)(chartAttrs.valuefontitalic)?"italic":NORMALSTRING,backgroundColor:chartAttrs.valuebgcolor?(0,_libGraphics.convertColor)(chartAttrs.valuebgcolor,(0,_lib.pluckNumber)(chartAttrs.valuebgalpha,chartAttrs.valuealpha,100)):BLANK,border:fontBdrColor||chartAttrs.valuebgcolor?(0,_lib.pluckNumber)(chartAttrs.valueborderthickness,1)+"px solid":BLANK,borderPadding:(0,_lib.pluckNumber)(chartAttrs.valueborderpadding,2),borderThickness:(0,_lib.pluckNumber)(chartAttrs.valueborderthickness,style.borderThickness,1),borderRadius:(0,_lib.pluckNumber)(chartAttrs.valueborderradius,style.borderRadius,0),borderColor:fontBdrColor,borderDash:(0,_lib.pluckNumber)(chartAttrs.valueborderdashed,0)?(0,_lib.getDashStyle)((0,_lib.pluckNumber)(chartAttrs.valueborderdashlen,4),(0,_lib.pluckNumber)(chartAttrs.valueborderdashgap,2)):DASH_DEF});!piePlotOptions&&(piePlotOptions=dataSetConfig.piePlotOptions={});piePlotOptions.allowPointSelect=false;dataSetConfig.borderColor=(0,_libGraphics.convertColor)((0,_lib.pluck)(chartAttrs.plotbordercolor,chartAttrs.piebordercolor,COLOR_FFFFFF),chartAttrs.showplotborder!=_lib.ZEROSTRING?(0,_lib.pluck)(chartAttrs.plotborderalpha,chartAttrs.pieborderalpha,100):0);dataSetConfig.showTooltip=(0,_lib.pluckNumber)(chartAttrs.showtooltip,1);dataSetConfig.borderWidth=(0,_lib.pluckNumber)(chartAttrs.pieborderthickness,chartAttrs.plotborderthickness,1);piePlotOptions.startingAngle=0;piePlotOptions.size="100%";dataSetConfig.highlightParentPieSlices=(0,_lib.pluckNumber)(chartAttrs.highlightparentpieslices,chartAttrs.highlightparentpienodes,1);dataSetConfig.highlightChildPieSlices=(0,_lib.pluckNumber)(chartAttrs.highlightchildpieslices,chartAttrs.highlightchildpienodes,0);dataSetConfig.showLabels=(0,_lib.pluckNumber)(chartAttrs.showlabels,1);dataSetConfig.showValues=(0,_lib.pluckNumber)(chartAttrs.showvalues,0);dataSetConfig.showValuesInTooltip=(0,_lib.pluckNumber)(chartAttrs.showvaluesintooltip,chartAttrs.showvalues,0);dataSetConfig.showPercentValues=(0,_lib.pluckNumber)(chartAttrs.showpercentvalues,chartAttrs.showpercentagevalues,0);dataSetConfig.showPercentInTooltip=(0,_lib.pluckNumber)(chartAttrs.showpercentintooltip,0);dataSetConfig.toolTipSepChar=(0,_lib.pluck)(chartAttrs.tooltipsepchar,chartAttrs.hovercapsepchar,_lib.COMMASPACE);dataSetConfig.labelSepChar=(0,_lib.pluck)(chartAttrs.labelsepchar,dataSetConfig.toolTipSepChar);dataSetConfig.tooltext=chartAttrs.plottooltext;dataSetConfig.alpha=(0,_lib.pluck)(chartAttrs.plotfillalpha,chartAttrs.piefillalpha,100);dataSetConfig.startAngle=(centerAngle-totalAngle/2)*(Math.PI/180);dataSetConfig.endtAngle=(centerAngle+totalAngle/2)*(Math.PI/180);dataSetConfig.initialAngle=dataSetConfig.endtAngle;dataSetConfig.originX=(0,_lib.pluckNumber)(chartAttrs.originx);dataSetConfig.originY=(0,_lib.pluckNumber)(chartAttrs.originy);dataSetConfig.events={mouseOver:function mouseOver(){mouseEvtHandler.call(this,"mouseover")},mouseOut:function mouseOut(){mouseEvtHandler.call(this,"mouseout")}};chartConfig.plotBorderWidth=0;chartConfig.plotBorderWidth=0;dataSetConfig.maxLevel=dataSet.addMSPieCat(jsonData,1,dataSet,dataSetConfig.startAngle,dataSetConfig.endtAngle);dataSetConfig.pieRadius=parseInt(chartAttrs.pieradius,10);dataSetConfig.innerRadius="0";INNERRADIUS.test(chartAttrs.innerradius)&&(dataSetConfig.innerRadius=(0,_lib.pluck)(chartAttrs.innerradius));dataLabels.distance=0;dataLabels.placeLabelsInside=true};MultiLevelPieDataset.prototype.removalFn=function removalFn(ele,prop){var dataSet=this,animationManager=dataSet.getFromEnv("animationManager"),hideFN=function hideFN(){this.remove()};animationManager.setAnimation({el:ele,label:prop==="element"?"ringpath":"label",component:dataSet,callback:hideFN})};MultiLevelPieDataset.prototype.removeGraphics=function removeGraphics(obj){var i,prop,dataSet=this,childData=obj.components&&obj.components.data,len,graphics=obj.graphics;if(childData){len=childData.length;for(i=0;i<len;i+=1){dataSet.removeGraphics(childData[i])}}if(obj.graphics){for(prop in graphics){if(graphics.hasOwnProperty(prop)){dataSet.removalFn(obj.graphics[prop],prop)}}}};MultiLevelPieDataset.prototype.removeChild=function removeChild(removalStore,doHide,type){var i,elemObj,dataSet=this;if(removalStore.length){for(i=0;i<removalStore.length;i+=1){elemObj=removalStore[i];if(type){dataSet.removalFn(elemObj,doHide,type)}else{dataSet.removeGraphics(elemObj,doHide)}}}else{for(i in removalStore){dataSet.removeChild(removalStore[i],doHide,i)}}};MultiLevelPieDataset.prototype.addMSPieCat=function addMSPieCat(catArr,level,parentObj,startAngle,endAngle){var dataObj,dataObjLen,cat=(0,_lib.extend2)([],catArr),catObjLen,catLen=cat.length,dataSet=this,data=parentObj.components.data,dataSetConfig=dataSet.config,plotBorderThickness=dataSetConfig.borderWidth,plotBorderColor=dataSetConfig.borderColor,numberFormatter=dataSet.getFromEnv("number-formatter"),colorM=dataSet.getFromEnv("color-manager"),sharePercent,totalValue=0,catObj,catVal,i,label,labelSepChar=dataSetConfig.labelSepChar,fillalpha,valueStr,pValueStr,toolText,displayValue,maxLevel=level,dataLength=data.length,removalFn=function removalFn(){dataSet.removeChild.apply(dataSet,arguments)},catLength=cat.length,totAngle=endAngle-startAngle,tempAngle,cumilative=0,preDataOldEndAngle;for(i=0;i<catLen;i+=1){catObj=cat[i];catObj._userValue=numberFormatter.getCleanValue(catObj.value,true);catObj._value=(0,_lib.pluckNumber)(catObj._userValue,1);totalValue+=catObj._value}totalValue=totalValue||1;sharePercent=totAngle/totalValue;for(i=catLen-1;i>=0;i-=1){catObj=cat[i];catVal=sharePercent*catObj._value;label=(0,_lib.parseUnsafeString)((0,_lib.pluck)(catObj.label,catObj.name));valueStr=catObj._userValue!==null?numberFormatter.dataLabels(catObj._userValue):BLANK;pValueStr=numberFormatter.percentValue(catObj._value/totalValue*100);fillalpha=(0,_lib.pluckNumber)(catObj.alpha,dataSetConfig.alpha);displayValue=dataSetConfig.showLabels?label:BLANK;if(dataSetConfig.showValues){if(dataSetConfig.showPercentValues){displayValue+=displayValue!==BLANK?labelSepChar+pValueStr:pValueStr}else if(valueStr!==UNDEF&&valueStr!==BLANK){displayValue+=displayValue!==BLANK?labelSepChar+valueStr:valueStr}}toolText=dataSetConfig.showTooltip?(0,_lib.parseUnsafeString)((0,_lib.pluck)(catObj.tooltext,catObj.hovertext,dataSetConfig.tooltext)):UNDEF;if(toolText===BLANK){toolText=label;if(dataSetConfig.showValuesInTooltip){if(dataSetConfig.showPercentInTooltip){toolText+=toolText!==BLANK?labelSepChar+pValueStr:pValueStr}else if(valueStr!==UNDEF&&valueStr!==BLANK){toolText+=toolText!==BLANK?labelSepChar+valueStr:valueStr}}}else{toolText=(0,_lib.parseTooltext)(toolText,[1,2,3,14],{percentValue:pValueStr,label:label,formattedValue:valueStr},catObj)}dataObj=data[i];tempAngle=startAngle+cumilative;cumilative+=catVal;if(!dataObj){dataObj=data[i]={components:{data:[]},config:{},graphics:{}}}if(dataObj.graphics.element){preDataOldEndAngle=dataObj.config.startAngle+dataObj.config.angleStrech}dataObj.config={initialAngle:preDataOldEndAngle||(parentObj.config||parentObj.config).initialAngle,startAngle:tempAngle,angleStrech:catVal,level:level,displayValue:displayValue,toolText:toolText,link:(0,_lib.getValidValue)(catObj.link),doNotSlice:true,color:(0,_libGraphics.convertColor)(catObj.color||colorM.getPlotColor(),fillalpha),borderWidth:(0,_lib.pluckNumber)(catObj.borderwidth,plotBorderThickness),borderColor:(0,_lib.pluck)(catObj.bordercolor,plotBorderColor),dashStyle:(0,_lib.pluckNumber)(catObj.valueborderdashed,0)?(0,_lib.getDashStyle)((0,_lib.pluckNumber)(catObj.borderdashlen,4),(0,_lib.pluckNumber)(catObj.borderdashgap,2)):DASH_DEF,shadow:{opacity:Math.round(fillalpha>50?fillalpha*fillalpha*fillalpha*1e-4:fillalpha*fillalpha*.01)*.01},isSingleTon:!(catLen>1)};dataObj.config.parent=parentObj;if(catObj.category){maxLevel=Math.max(maxLevel,dataSet.addMSPieCat(catObj.category,level+1,dataObj,tempAngle,catVal+tempAngle));if((dataObjLen=dataObj.components.data.length)>(catObjLen=catObj.category.length)){removalFn(dataObj.components.data.splice(dataObjLen-1,catObjLen))}}else{dataObjLen=dataObj.components.data.length;if(dataObjLen){removalFn(dataObj.components.data.splice(0,dataObjLen))}}}if(dataLength>catLength){removalFn(data.splice(catLength))}return maxLevel};MultiLevelPieDataset.prototype.parsePlotAttributes=function parsePlotAttributes(parentObj){var angle,_textAttrs,centerDistance,level,dataSet=this,dataSetConfig=dataSet.config||{},chart=dataSet.getFromEnv("chart"),chartConfig=chart.config,dataSetComponents=dataSet.components,data=dataSetComponents.data,len=data.length,seriesDataLabelsStyle=chartConfig.dataLabelStyle,textDirection=chartConfig.textDirection,canvasWidth=chartConfig.canvasWidth,canvasHeight=chartConfig.canvasHeight,cx=(0,_lib.pluckNumber)(dataSetConfig.originX,chartConfig.canvasLeft+canvasWidth*.5),cy=(0,_lib.pluckNumber)(dataSetConfig.originY,chartConfig.canvasTop+canvasHeight*.5),r,r2,color,val,displayValue,setLink,angle1,angle2,i,setGraphics,setConfig,element,pieSize=(0,_lib.pluckNumber)(dataSetConfig.pieRadius*2,Math.min(canvasWidth,canvasHeight)),innerRadius=calculateInnerRadius(dataSetConfig.innerRadius,pieSize/2),pool=dataSet.config.pool||(dataSet.config.pool={}),seriesHalfWidth=(pieSize-2*innerRadius)/(2*dataSetConfig.maxLevel);dataSetConfig.innerSize=innerRadius*2;if(!parentObj){parentObj=dataSet}len=parentObj.components.data.length;for(i=0;i<len;i+=1){dataSet.parsePlotAttributes(parentObj.components.data[i])}setConfig=parentObj.config;level=setConfig.level;if(level){r=level*seriesHalfWidth+innerRadius;r2=(level-1)*seriesHalfWidth+innerRadius;setGraphics=parentObj.graphics;val=setConfig.angleStrech;displayValue=setConfig.displayValue;setLink=!!setConfig.link;color=setConfig.color;angle1=setConfig.startAngle;angle2=angle1+setConfig.angleStrech;element=setGraphics.element;if(pool.element&&pool.element.length){element=setGraphics.element=element||pool.element.shift()}setConfig.plotItem={chart:chart,link:setConfig.link,value:val,color:color,labelText:displayValue,graphics:{element:element},selfRef:parentObj};setConfig.eventArgs={link:setConfig.link,label:setConfig.displayValue,toolText:setConfig.toolText};setConfig.props={element:{attr:{ringpath:[cx,cy,r,r2,angle1,angle2],"stroke-width":setConfig.borderWidth,stroke:setConfig.borderColor,fill:(0,_lib.toRaphaelColor)(setConfig.color),"stroke-dasharray":setConfig.dashStyle,cursor:setLink?POINTER:_lib.BLANKSTRING}}};if(displayValue!==UNDEF&&displayValue!==_lib.BLANKSTRING){angle=(angle1+angle2)/2;centerDistance=r2===0&&setConfig.isSingleTon?0:r2+(r-r2)/2;if(!(_textAttrs=setConfig._textAttrs)){_textAttrs=setConfig._textAttrs={}}_textAttrs.text=displayValue;_textAttrs.fill=seriesDataLabelsStyle.color||COLOR_000000;_textAttrs.direction=textDirection;_textAttrs.cursor=setLink?POINTER:_lib.BLANKSTRING;_textAttrs.x=cx+centerDistance*Math.cos(angle);_textAttrs.y=cy+centerDistance*Math.sin(angle);_textAttrs["text-bound"]=[seriesDataLabelsStyle.backgroundColor,seriesDataLabelsStyle.borderColor,seriesDataLabelsStyle.borderThickness,seriesDataLabelsStyle.borderPadding,seriesDataLabelsStyle.borderRadius,seriesDataLabelsStyle.borderDash]}}};MultiLevelPieDataset.prototype.parseLabelAttributes=function parseLabelAttributes(parentObj){var _textAttrs,level,dataSet=this,dataSetComponents=dataSet.components,data=dataSetComponents.data,len=data.length,displayValue,i,setConfig;!parentObj&&(parentObj=dataSet);len=parentObj.components.data.length;for(i=0;i<len;i+=1){dataSet.parseLabelAttributes(parentObj.components.data[i])}setConfig=parentObj.config;displayValue=setConfig.displayValue;_textAttrs=setConfig._textAttrs;level=setConfig.level;if(level){if(displayValue!==UNDEF&&displayValue!==_lib.BLANKSTRING){setConfig.props.label={attr:_textAttrs}}}};MultiLevelPieDataset.prototype.draw=function draw(parentObj){var level,dataSet=this,dataSetConfig=dataSet.config||{},chart=dataSet.getFromEnv("chart"),animationManager=dataSet.getFromEnv("animationManager"),toolTipController=dataSet.getFromEnv("toolTipController"),chartConfig=chart.config,dataSetComponents=dataSet.components,data=dataSetComponents.data,len=data.length,seriesDataLabelsStyle=chartConfig.dataLabelStyle,seriesShadow=dataSetConfig.showShadow,i,datasetLayer=chart.getChildContainer("plotGroup"),setGraphics,setConfig,element,dataLabelsLayer=chart.getChildContainer("datalabelsGroup"),events=dataSetConfig.events||{},plotHoverFN=function plotHoverFN(e){var o=this,mouseOver=events.mouseOver,plotItem=o.plotItem||o.data("plotItem"),chart=plotItem.chart,dataset=chart.getDatasets()[0];chart.plotEventHandler(o,e,ROLLOVER);mouseOver&&mouseOver.call(o);dataset.fireEvent("datasetrollover",{pValue:plotItem.pValue,value:plotItem.value,displayValue:setConfig.displayValue})},plotMouseOut=function plotMouseOut(e){var o=this,mouseOut=events.mouseOut,plotItem=o.plotItem||o.data("plotItem"),chart=plotItem.chart,dataset=chart.getDatasets()[0];chart.plotEventHandler(o,e,ROLLOUT);mouseOut&&mouseOut.call(o);dataset.fireEvent("datasetrollout",{pValue:plotItem.pValue,value:plotItem.value,displayValue:setConfig.displayValue})},clickFunc=function clickFunc(setDataArr){var ele=this;chart.plotEventHandler(ele,setDataArr)},pool=dataSet.config.pool||(dataSet.config.pool={}),removeDataArr=dataSetComponents.removeDataArr,removeDataArrLen=removeDataArr&&removeDataArr.length;removeDataArrLen&&dataSet.removeElement();if(!parentObj){parentObj=dataSet;dataLabelsLayer.css(seriesDataLabelsStyle)}len=parentObj.components.data.length;for(i=0;i<len;i+=1){dataSet.draw(parentObj.components.data[i])}setConfig=parentObj.config;level=setConfig.level;if(level){setGraphics=parentObj.graphics;element=setGraphics.element;if(pool.element&&pool.element.length){element=setGraphics.element=element||pool.element.shift()}element=setGraphics.element=animationManager.setAnimation({el:setGraphics.element||"ringpath",attr:setConfig.props.element.attr,container:datasetLayer,component:dataSet,state:"appearing",label:"ringpath"});element.shadow(seriesShadow&&!!setConfig.shadow).data("plotItem",setConfig.plotItem).data(EVENTARGS,setConfig.eventArgs).mouseover(plotHoverFN).mouseout(plotMouseOut).mouseup(clickFunc);toolTipController.enableToolTip(element,setConfig.toolText);if(!i&&!dataSetConfig._drawn){dataSetConfig._drawn=true;dataLabelsLayer.show();dataSet.addJob("labelJob",dataSet.drawLabel.bind(dataSet),_schedular.priorityList.label)}}else{dataSetConfig._drawn&&dataSet.drawLabel();dataSet.removeChild(dataSet.config.pool,true)}};MultiLevelPieDataset.prototype.drawLabel=function drawLabel(parentObj){var level,dataSet=this,dataSetConfig=dataSet.config||{},chart=dataSet.getFromEnv("chart"),animationManager=dataSet.getFromEnv("animationManager"),chartConfig=chart.config,dataSetComponents=dataSet.components,data=dataSetComponents.data,len=data.length,seriesDataLabelsStyle=chartConfig.dataLabelStyle,toolTipController=dataSet.getFromEnv("toolTipController"),tooltipOptions=chartConfig.tooltip||{},isTooltip=tooltipOptions&&tooltipOptions.enabled!==false,toolText,plotItem,displayValue,i,setGraphics,setConfig,label,events=dataSetConfig.events||{},labelHoverFN=function labelHoverFN(e){var o=this,mouseOver=events.mouseOver;chart.plotEventHandler(o,e,ROLLOVER);mouseOver&&mouseOver.call(o)},labelOutFN=function labelOutFN(e){var o=this,mouseOut=events.mouseOut;chart.plotEventHandler(o,e,ROLLOUT);mouseOut&&mouseOut.call(o)},clickFunc=function clickFunc(setDataArr){var ele=this;chart.plotEventHandler(ele,setDataArr)},pool=dataSet.config.pool||(dataSet.config.pool={}),dataLabelsLayer=chart.getChildContainer("datalabelsGroup");dataLabelsLayer.show();!parentObj&&(parentObj=dataSet);len=parentObj.components.data.length;for(i=0;i<len;i+=1){dataSet.drawLabel(parentObj.components.data[i])}setConfig=parentObj.config;plotItem=setConfig.plotItem;displayValue=setConfig.displayValue;level=setConfig.level;if(level){setGraphics=parentObj.graphics;label=setGraphics.label;if(displayValue!==UNDEF&&displayValue!==_lib.BLANKSTRING){label=setGraphics.label;if(pool.label&&pool.label.length){label=setGraphics.label=label||pool.label.shift()}label=setGraphics.label=animationManager.setAnimation({el:label||"text",attr:setConfig.props.label.attr,container:dataLabelsLayer,component:dataSet,state:"appearing",label:"text"});label.mouseup(clickFunc).mouseout(labelOutFN).mouseover(labelHoverFN).css(seriesDataLabelsStyle).show().data("plotItem",plotItem).data(EVENTARGS,setConfig.eventArgs);isTooltip&&toolTipController.enableToolTip(label,toolText)}else{label&&animationManager.setAnimation({el:label,component:dataSet,callback:function callback(){this.hide()},label:"text"})}}else{dataSet.removeChild(dataSet.config.pool,true)}};return MultiLevelPieDataset}(_pie2d2["default"]);exports["default"]=MultiLevelPieDataset},513:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]={"initial.dataset.multiLevelPie":function initialDatasetMultiLevelPie(){var datasetConf=this.config,ringpath=void 0;return{"ringpath.appearing":function ringpathAppearing(inputJSON){ringpath=inputJSON.attr.ringpath;return[{initialAttr:{ringpath:[ringpath[0],ringpath[1],ringpath[2],ringpath[3],datasetConf.initialAngle,datasetConf.initialAngle]},slot:"plot"}]},"text.appearing":function textAppearing(){return[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}]}}}}},514:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _areabase=__webpack_require__(431);var _areabase2=_interopRequireDefault(_areabase);var _multiaxisAxis=__webpack_require__(515);var _multiaxisAxis2=_interopRequireDefault(_multiaxisAxis);var _multiaxisVcanvas=__webpack_require__(540);var _multiaxisVcanvas2=_interopRequireDefault(_multiaxisVcanvas);var _multiaxisDataset=__webpack_require__(541);var _multiaxisDataset2=_interopRequireDefault(_multiaxisDataset);var _dependencyManager=__webpack_require__(125);var _redraphaelShapes=__webpack_require__(231);var _redraphaelShapes2=_interopRequireDefault(_redraphaelShapes);var _lib=__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var defaultFontStr=_lib.preDefStr.defaultFontStr,divLineAlphaStr=_lib.preDefStr.divLineAlphaStr,altVGridColorStr=_lib.preDefStr.altVGridColorStr,altVGridAlphaStr=_lib.preDefStr.altVGridAlphaStr,COLOR_000000=_lib.preDefStr.colors.c000000,POSITION_BOTTOM=_lib.preDefStr.POSITION_BOTTOM,divLineAlpha3DStr=_lib.preDefStr.divLineAlpha3DStr,Raphael=(0,_dependencyManager.getDep)("redraphael","plugin");(0,_redraphaelShapes2["default"])(Raphael);var MultiAxisLine=function(_AreaBase){_inherits(MultiAxisLine,_AreaBase);MultiAxisLine.getName=function getName(){return"MultiAxisLine"};function MultiAxisLine(){_classCallCheck(this,MultiAxisLine);var _this=_possibleConstructorReturn(this,_AreaBase.call(this));var iapi=_this;iapi.friendlyName="Multi-axis Line Chart";iapi.defaultPlotShadow=1;iapi.axisPaddingLeft=0;iapi.axisPaddingRight=0;_this.registerFactory("axis",_multiaxisAxis2["default"],["canvas"]);_this.registerFactory("vCanvas",_multiaxisVcanvas2["default"],["axis"]);_this.registerFactory("dataset",_multiaxisDataset2["default"],["vCanvas"]);return _this}MultiAxisLine.prototype.__setDefaultConfig=function __setDefaultConfig(){_AreaBase.prototype.__setDefaultConfig.call(this);var config=this.config;config.defaultDatasetType="multiaxisline";config.defaultcrosslinethickness=1};MultiAxisLine.prototype.getName=function getName(){return"MultiAxisLine"};MultiAxisLine.prototype._checkInvalidSpecificData=function _checkInvalidSpecificData(){var jsonData=this.getFromEnv("dataSource"),datasetsJSON=jsonData.axis,categories=jsonData.categories;if(!datasetsJSON||!categories){return true}};MultiAxisLine.prototype._feedAxesRawData=function _feedAxesRawData(){var iapi=this,chartConfig=iapi.config,colorM=iapi.getFromEnv("color-manager"),numberFormatter=iapi.getFromEnv("number-formatter"),dataObj=iapi.getFromEnv("dataSource"),chartAttrs=dataObj.chart,xAxisConf,yAxisConf,is3D=iapi.config.is3D,palleteString=is3D?_lib.chartPaletteStr.chart3D:_lib.chartPaletteStr.chart2D,axes,i,len,isOpposit,axisJson,plotColor,leftAxes,rightAxes,axisHEXColor,gridLineWidth,tickWidth,axisLineThickness,yAxisConfigure=[],setAxisConfig={},xAxisConfigure=[],j,jlen;xAxisConf={isVertical:false,isReverse:false,isOpposit:false,outCanfontFamily:(0,_lib.pluck)(chartAttrs.outcnvbasefont,chartAttrs.basefont,defaultFontStr),outCanfontSize:(0,_lib.pluckFontSize)(chartAttrs.outcnvbasefontsize,chartAttrs.basefontsize,10),outCancolor:(0,_lib.pluck)(chartAttrs.outcnvbasefontcolor,chartAttrs.basefontcolor,colorM.getColor(palleteString.baseFontColor)).replace(/^#? ([a-f0-9]+)/gi,"#$1"),axisNamePadding:chartAttrs.xaxisnamepadding,axisValuePadding:chartAttrs.labelpadding,axisNameFont:chartAttrs.xaxisnamefont,axisNameFontSize:chartAttrs.xaxisnamefontsize,axisNameFontColor:chartAttrs.xaxisnamefontcolor,axisNameFontBold:chartAttrs.xaxisnamefontbold,axisNameFontItalic:chartAttrs.xaxisnamefontitalic,axisNameBgColor:chartAttrs.xaxisnamebgcolor,axisNameBorderColor:chartAttrs.xaxisnamebordercolor,axisNameAlpha:chartAttrs.xaxisnamealpha,axisNameFontAlpha:chartAttrs.xaxisnamefontalpha,axisNameBgAlpha:chartAttrs.xaxisnamebgalpha,axisNameBorderAlpha:chartAttrs.xaxisnameborderalpha,axisNameBorderPadding:chartAttrs.xaxisnameborderpadding,axisNameBorderRadius:chartAttrs.xaxisnameborderradius,axisNameBorderThickness:chartAttrs.xaxisnameborderthickness,axisNameBorderDashed:chartAttrs.xaxisnameborderdashed,axisNameBorderDashLen:chartAttrs.xaxisnameborderdashlen,axisNameBorderDashGap:chartAttrs.xaxisnameborderdashgap,useEllipsesWhenOverflow:chartAttrs.useellipseswhenoverflow,divLineColor:(0,_lib.pluck)(chartAttrs.vdivlinecolor,chartAttrs.divlinecolor,colorM.getColor(palleteString.divLineColor)),divLineAlpha:(0,_lib.pluck)(chartAttrs.vdivlinealpha,chartAttrs.divlinealpha,is3D?colorM.getColor(divLineAlpha3DStr):colorM.getColor(divLineAlphaStr)),divLineThickness:(0,_lib.pluckNumber)(chartAttrs.vdivlinethickness,chartAttrs.divlinethickness,1),divLineIsDashed:Boolean((0,_lib.pluckNumber)(chartAttrs.vdivlinedashed,chartAttrs.vdivlineisdashed,chartAttrs.divlinedashed,chartAttrs.divlineisdashed,0)),divLineDashLen:(0,_lib.pluckNumber)(chartAttrs.vdivlinedashlen,chartAttrs.divlinedashlen,4),divLineDashGap:(0,_lib.pluckNumber)(chartAttrs.vdivlinedashgap,chartAttrs.divlinedashgap,2),showAlternateGridColor:(0,_lib.pluckNumber)(chartAttrs.showalternatevgridcolor,0),alternateGridColor:(0,_lib.pluck)(chartAttrs.alternatevgridcolor,colorM.getColor(altVGridColorStr)),alternateGridAlpha:(0,_lib.pluck)(chartAttrs.alternatevgridalpha,colorM.getColor(altVGridAlphaStr)),numDivLines:chartAttrs.numvdivlines,labelFont:chartAttrs.labelfont,labelFontSize:chartAttrs.labelfontsize,labelFontColor:chartAttrs.labelfontcolor,labelFontBold:chartAttrs.labelfontbold,labelFontItalic:chartAttrs.labelfontitalic,labelFontAlpha:chartAttrs.labelalpha,maxLabelHeight:chartAttrs.maxlabelheight,axisName:chartAttrs.xaxisname,axisMinValue:chartAttrs.xaxisminvalue,axisMaxValue:chartAttrs.xaxismaxvalue,setAdaptiveMin:chartAttrs.setadaptivexmin,adjustDiv:chartAttrs.adjustvdiv,labelDisplay:chartAttrs.labeldisplay,showLabels:chartAttrs.showlabels,rotateLabels:chartAttrs.rotatelabels,slantLabel:(0,_lib.pluckNumber)(chartAttrs.slantlabels,chartAttrs.slantlabel),labelStep:(0,_lib.pluckNumber)(chartAttrs.labelstep,chartAttrs.xaxisvaluesstep),showAxisValues:(0,_lib.pluckNumber)(chartAttrs.showxaxisvalues,chartAttrs.showxaxisvalue),showLimits:chartAttrs.showvlimits,showDivLineValues:(0,_lib.pluckNumber)(chartAttrs.showvdivlinevalues,chartAttrs.showvdivlinevalues),showZeroPlane:chartAttrs.showvzeroplane,zeroPlaneColor:chartAttrs.vzeroplanecolor,zeroPlaneThickness:chartAttrs.vzeroplanethickness,zeroPlaneAlpha:chartAttrs.vzeroplanealpha,showZeroPlaneValue:chartAttrs.showvzeroplanevalue,trendlineColor:chartAttrs.trendlinecolor,trendlineToolText:chartAttrs.trendlinetooltext,trendlineThickness:chartAttrs.trendlinethickness,trendlineAlpha:chartAttrs.trendlinealpha,showTrendlinesOnTop:chartAttrs.showtrendlinesontop,showAxisLine:(0,_lib.pluckNumber)(chartAttrs.showxaxisline,chartAttrs.showaxislines,chartAttrs.drawAxisLines,0),axisLineThickness:(0,_lib.pluckNumber)(chartAttrs.xaxislinethickness,chartAttrs.axislinethickness,1),axisLineAlpha:(0,_lib.pluckNumber)(chartAttrs.xaxislinealpha,chartAttrs.axislinealpha,100),axisLineColor:(0,_lib.pluck)(chartAttrs.xaxislinecolor,chartAttrs.axislinecolor,COLOR_000000)};xAxisConfigure.push(xAxisConf);yAxisConf={outCanfontFamily:(0,_lib.pluck)(chartAttrs.outcnvbasefont,chartAttrs.basefont,defaultFontStr),outCanfontSize:(0,_lib.pluckFontSize)(chartAttrs.outcnvbasefontsize,chartAttrs.basefontsize,10),outCancolor:(0,_lib.pluck)(chartAttrs.outcnvbasefontcolor,chartAttrs.basefontcolor,colorM.getColor(palleteString.baseFontColor)).replace(/^#? ([a-f0-9]+)/gi,"#$1"),useEllipsesWhenOverflow:chartAttrs.useellipseswhenoverflow,showAlternateGridColor:0,axisNameFont:chartAttrs.yaxisnamefont,axisNameFontSize:chartAttrs.yaxisnamefontsize,axisNameFontColor:chartAttrs.yaxisnamefontcolor,axisNameFontBold:chartAttrs.yaxisnamefontbold,axisNameFontItalic:chartAttrs.yaxisnamefontitalic,axisNameBgColor:chartAttrs.yaxisnamebgcolor,axisNameBorderColor:chartAttrs.yaxisnamebordercolor,axisNameAlpha:chartAttrs.yaxisnamealpha,axisNameFontAlpha:chartAttrs.yaxisnamefontalpha,axisNameBgAlpha:chartAttrs.yaxisnamebgalpha,axisNameBorderAlpha:chartAttrs.yaxisnameborderalpha,axisNameBorderPadding:chartAttrs.yaxisnameborderpadding,axisNameBorderRadius:chartAttrs.yaxisnameborderradius,axisNameBorderThickness:chartAttrs.yaxisnameborderthickness,axisNameBorderDashed:chartAttrs.yaxisnameborderdashed,axisNameBorderDashLen:chartAttrs.yaxisnameborderdashlen,axisNameBorderDashGap:chartAttrs.yaxisnameborderdashgap};leftAxes={side:"l",axesConf:[]};rightAxes={side:"r",axesConf:[]};axes=dataObj.axis||[];for(i=0,len=axes.length;i<len;i++){setAxisConfig={};axisJson=axes[i];setAxisConfig.checkBoxChecked=false;for(j=0,jlen=axisJson.dataset?axisJson.dataset.length:0;j<jlen;j+=1){if(Number(axisJson.dataset[j].visible)!==0){setAxisConfig.checkBoxChecked=true}}plotColor=colorM.getPlotColor(i);axisHEXColor=(0,_lib.pluck)(axisJson.color,chartAttrs.axiscolor,plotColor);gridLineWidth=(0,_lib.pluckNumber)(axisJson.divlinethickness,chartAttrs.divlinethickness,1);tickWidth=(0,_lib.pluckNumber)(axisJson.tickwidth,chartAttrs.axistickwidth,2);axisLineThickness=(0,_lib.pluckNumber)(axisJson.axislinethickness,chartAttrs.axislinethickness,2);isOpposit=!(0,_lib.pluckNumber)(axisJson.axisonleft,1);yAxisConf.isVertical=true;yAxisConf.isReverse=true;yAxisConf.isOpposit=isOpposit;yAxisConf.labelStep=(0,_lib.pluckNumber)(axisJson.yaxisvaluesstep,axisJson.yaxisvaluestep,chartAttrs.yaxisvaluesstep,chartAttrs.yaxisvaluestep);yAxisConf.axisMaxValue=axisJson.maxvalue;yAxisConf.axisMinValue=axisJson.minvalue;yAxisConf.setAdaptiveMin=(0,_lib.pluckNumber)(axisJson.setadaptiveymin,chartAttrs.setadaptiveymin);yAxisConf.numDivLines=(0,_lib.pluckNumber)(axisJson.numdivlines,chartAttrs.numdivlines,4);yAxisConf.adjustDiv=(0,_lib.pluckNumber)(axisJson.adjustdiv,chartAttrs.adjustdiv);yAxisConf.showAxisValues=(0,_lib.pluckNumber)(axisJson.showyaxisvalues,axisJson.showyaxisvalue,chartAttrs.showyaxisvalues,chartAttrs.showyaxisvalue,1);yAxisConf.showLimits=(0,_lib.pluckNumber)(axisJson.showlimits,chartAttrs.showyaxislimits,chartAttrs.showlimits,yAxisConf.showAxisValues);yAxisConf.showDivLineValues=(0,_lib.pluckNumber)(axisJson.showdivlinevalue,chartAttrs.showdivlinevalues,axisJson.showdivlinevalues,yAxisConf.showAxisValues);yAxisConf.showZeroPlane=(0,_lib.pluckNumber)(axisJson.showzeroplane,chartAttrs.showzeroplane);yAxisConf.showZeroPlaneValue=(0,_lib.pluckNumber)(axisJson.showzeroplanevalue,chartAttrs.showzeroplanevalue);yAxisConf.zeroPlaneColor=axisJson.zeroplanecolor;yAxisConf.zeroPlaneThickness=(0,_lib.pluckNumber)(axisJson.zeroplanethickness,axisJson.divlinethickness,chartConfig.zeroplanethickness,2);yAxisConf.zeroPlaneAlpha=(0,_lib.pluckNumber)(axisJson.zeroplanealpha,axisJson.divlinealpha,chartConfig.zeroplanealpha);yAxisConf.showZeroPlaneOnTop=chartConfig.showzeroplaneontop;yAxisConf.divLineColor=(0,_lib.pluck)(axisJson.divlinecolor,axisHEXColor);yAxisConf.divLineAlpha=(0,_lib.pluckNumber)(axisJson.divlinealpha,chartAttrs.divlinealpha,colorM.getColor(divLineAlphaStr),100);yAxisConf.divLineThickness=gridLineWidth;yAxisConf.divLineIsDashed=Boolean((0,_lib.pluckNumber)(axisJson.divlinedashed,axisJson.divlineisdashed,chartAttrs.divlinedashed,chartAttrs.divlineisdashed,0));yAxisConf.divLineDashLen=(0,_lib.pluckNumber)(axisJson.divlinedashlen,chartAttrs.divlinedashlen,4);yAxisConf.divLineDashGap=(0,_lib.pluckNumber)(axisJson.divlinedashgap,chartAttrs.divlinedashgap,2);yAxisConf.showAxisLine=1;yAxisConf.axisLineThickness=axisLineThickness;yAxisConf.axisLineAlpha=100;yAxisConf.axisLineColor=axisHEXColor;yAxisConf.tickLength=tickWidth;yAxisConf.tickColor=axisHEXColor;yAxisConf.tickAlpha=100;yAxisConf.tickWidth=axisLineThickness;yAxisConf.axisName=axisJson.title;yAxisConf.rotateAxisName=1;yAxisConf.axisNameAlignCanvas=true;yAxisConf.drawAxisNameFromBottom=true;(0,_lib.extend2)(setAxisConfig,yAxisConf);numberFormatter.parseMLAxisConf(axisJson,i);if((0,_lib.pluckNumber)(axisJson.showaxis)===0){(0,_lib.extend2)(setAxisConfig,{axisIndex:i,drawAxisLineWRTCanvas:false,drawLabels:false,drawPlotlines:false,drawAxisLine:false,drawPlotBands:false,drawAxisName:false,drawTrendLines:false,drawTrendLabels:false,drawTick:false,drawTickMinor:false,showAxis:0})}else{(0,_lib.extend2)(setAxisConfig,{axisIndex:i,drawAxisLineWRTCanvas:false,drawLabels:true,drawPlotlines:true,drawAxisLine:true,drawPlotBands:true,drawAxisName:true,drawTrendLines:true,drawTrendLabels:true,drawTick:true,drawTickMinor:true,showAxis:1})}if(isOpposit){rightAxes.axesConf.push(setAxisConfig)}else{leftAxes.axesConf.push(setAxisConfig)}}leftAxes.axesConf.length&&yAxisConfigure.push(leftAxes);rightAxes.axesConf.length&&yAxisConfigure.push(rightAxes);return{xAxisConfigure:xAxisConfigure,yAxisConfigure:yAxisConfigure}};MultiAxisLine.prototype._postSpaceManagement=function _postSpaceManagement(){var iapi=this,legend=iapi.getFromEnv("legend"),showlegend=iapi.config.showLegend,axisSelectorUI=iapi.getChildren("yAxisSelectorUI"),canvas=iapi.getChildren("canvas")[0];iapi.setAxisDimention();axisSelectorUI.forEach(function(comp){comp.setAxisDimention()});canvas.setCanvasPadding();iapi.setAxisDimention();showlegend&&legend.postSpaceManager()};MultiAxisLine.prototype.setAxisDimention=function setAxisDimention(){var iapi=this,config=iapi.config,xAxis=iapi.getChildren("xAxis")[0],xDepth=config.xDepth,canvas=iapi.getChildren("canvas")[0],canvasConfig=canvas.config,canvasBorderWidth=canvasConfig.canvasBorderWidth,canvasPadding=canvasConfig.canvasPadding,canvasPaddingLeft=canvasConfig.canvasPaddingLeft,canvasPaddingRight=canvasConfig.canvasPaddingRight;xAxis&&xAxis.setAxisDimention({x:config.canvasLeft+(xDepth||0)+Math.max(canvasPaddingLeft,canvasPadding),y:config.canvasBottom+(config.shift||0)+canvasBorderWidth,opposite:config.canvasTop-canvasBorderWidth,axisLength:config.canvasWidth-(xDepth||0)-Math.max(canvasPaddingLeft,canvasPadding)-Math.max(canvasPaddingRight,canvasPadding)})};MultiAxisLine.prototype._spaceManager=function _spaceManager(){var spaceForActionBar,actionBarSpace,availableWidth,availableHeight,iapi=this,canvas=iapi.getChildren("canvas")[0],config=iapi.config,showLegend=config.showLegend,legendPosition=config.legendPosition,xAxis=iapi.getChildren("xAxis"),axisSelectorUI=iapi.getChildren("yAxisSelectorUI"),hasLegend=config.hasLegend,yDepth=config.yDepth,legend=iapi.getFromEnv("legend"),rightPadding=0,leftPadding=0,length=axisSelectorUI.length||0,i,yAxisSpaceUsed,allotedSpace,is3D=iapi.config.is3D,chartAttrs=iapi.getFromEnv("dataSource").chart,showBorder=(0,_lib.pluckNumber)(chartAttrs.showborder,is3D?0:1),canvasBorderWidth=iapi.getChildren("canvas")[0].config.canvasBorderWidth,chartBorderWidth=config.borderWidth=showBorder?(0,_lib.pluckNumber)(chartAttrs.borderthickness,1):0,canvasMarginTop=config.canvasMarginTop,canvasMarginBottom=config.canvasMarginBottom,canvasMarginLeft=config.canvasMarginLeft,canvasMarginRight=config.canvasMarginRight,minCanvasHeight=config.minCanvasHeight,minCanvasWidth=config.minCanvasWidth,height=config.height,width=config.width,diff,heightAdjust=false,widthAdjust=false,top,bottom,left,right,currentCanvasHeight,currentCanvasWidth,origCanvasTopMargin=config.origCanvasTopMargin,origCanvasBottomMargin=config.origCanvasBottomMargin,origCanvasLeftMargin=config.origCanvasLeftMargin,origCanvasRightMargin=config.origCanvasRightMargin,sum;iapi._allocateSpace({top:chartBorderWidth,bottom:chartBorderWidth,left:chartBorderWidth,right:chartBorderWidth});iapi._allocateSpace({left:config.canvasMarginLeft,right:config.canvasMarginRight});if(legendPosition==="right"){allotedSpace=config.canvasWidth*.3}else{allotedSpace=config.canvasHeight*.3}hasLegend!==false&&xAxis&&showLegend&&iapi._allocateSpace(legend._manageLegendPosition(allotedSpace));for(i=0;i<length;i++){yAxisSpaceUsed=axisSelectorUI[i].placeAxis(config.canvasWidth);rightPadding+=yAxisSpaceUsed.rightPadding;leftPadding+=yAxisSpaceUsed.leftPadding;iapi._allocateSpace(yAxisSpaceUsed.dimension)}spaceForActionBar=config.availableHeight*.225;actionBarSpace=iapi._manageActionBarSpace&&iapi._manageActionBarSpace(spaceForActionBar)||{};iapi._allocateSpace(actionBarSpace);availableHeight=legendPosition===POSITION_BOTTOM?config.canvasHeight*.6:config.canvasWidth*.6;iapi._manageChartMenuBar(availableHeight);availableWidth=config.canvasWidth*.7;if(availableWidth>rightPadding+leftPadding){iapi._allocateSpace({left:leftPadding,right:rightPadding})}availableHeight=config.canvasHeight*.6;xAxis[0]&&iapi._allocateSpace(xAxis[0].placeAxis(availableHeight));availableHeight=config.canvasHeight*.325;iapi._getDSspace&&iapi._allocateSpace(iapi._getDSspace(availableHeight));if(yDepth){iapi._allocateSpace({bottom:yDepth})}iapi._allocateSpace({top:canvasBorderWidth,bottom:canvasBorderWidth,left:canvasBorderWidth,right:canvasBorderWidth});top=canvasMarginTop>config.canvasTop?canvasMarginTop-config.canvasTop:0;bottom=canvasMarginBottom>height-config.canvasBottom?canvasMarginBottom+config.canvasBottom-height:0;left=canvasMarginLeft>config.canvasLeft?canvasMarginLeft-config.canvasLeft:0;right=canvasMarginRight>width-config.canvasRight?canvasMarginRight+config.canvasRight-width:0;iapi._allocateSpace({top:top,bottom:bottom,left:left,right:right});if(heightAdjust){sum=origCanvasTopMargin+origCanvasBottomMargin;currentCanvasHeight=config.canvasHeight;if(currentCanvasHeight>minCanvasHeight){diff=currentCanvasHeight-minCanvasHeight;top=diff*origCanvasTopMargin/sum;bottom=diff*origCanvasBottomMargin/sum}iapi._allocateSpace({top:top,bottom:bottom})}if(widthAdjust){sum=origCanvasLeftMargin+origCanvasRightMargin;currentCanvasWidth=config.canvasWidth;if(currentCanvasWidth>minCanvasWidth){diff=currentCanvasWidth-minCanvasWidth;left=diff*origCanvasLeftMargin/sum;right=diff*origCanvasRightMargin/sum}iapi._allocateSpace({left:left,right:right})}config.actualCanvasMarginTop=top;config.actualCanvasMarginLeft=left;config.actualCanvasMarginRight=right;config.actualCanvasMarginBottom=bottom;canvas.setDimension({top:config.canvasTop,left:config.canvasLeft,width:config.canvasWidth,height:config.canvasHeight})};MultiAxisLine.prototype.configure=function configure(dataObj){_AreaBase.prototype.configure.call(this,dataObj);var iapi=this,conf=iapi.config,chartAttr=iapi.getFromEnv("dataSource").chart;conf.axesPadding=5;conf.allowAxisShift=(0,_lib.pluckNumber)(chartAttr.allowaxisshift,1);conf.allowSelection=(0,_lib.pluckNumber)(chartAttr.allowselection,1);conf.checkBoxColor=(0,_lib.pluck)(chartAttr.checkboxcolor,"#2196f3");conf.axisConfigured=true};return MultiAxisLine}(_areabase2["default"]);exports["default"]=MultiAxisLine},515:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=function(chart){var canvas=chart.getChildren("canvas")[0],axisRefVisualCartesian=canvas.getChildren("axisRefVisualCartesian")[0],configure=void 0,xAxis=void 0,redraw=function redraw(){return axisRefVisualCartesian.asyncDraw()};configure=chart._feedAxesRawData();_axisSelectorUi2["default"].resetAxisCount();(0,_lib.componentFactory)(chart,_axisSelectorUi2["default"],"yAxisSelectorUI",configure.yAxisConfigure&&configure.yAxisConfigure.length,configure.yAxisConfigure);(0,_lib.componentFactory)(chart,_category2["default"],"xAxis",1,configure.xAxisConfigure);xAxis=chart.getChildren("xAxis")[0];xAxis.setLinkedItem("canvas",canvas);axisRefVisualCartesian.setLinkedItem(xAxis.getId(),xAxis);axisRefVisualCartesian.addExtEventListener("visiblerangeset",redraw,xAxis);canvas.attachAxis(xAxis,false);canvas.setPrimaryAxis("xAxis",xAxis);chart._setCategories()};var _lib=__webpack_require__(118);var _category=__webpack_require__(321);var _category2=_interopRequireDefault(_category);var _axisSelectorUi=__webpack_require__(516);var _axisSelectorUi2=_interopRequireDefault(_axisSelectorUi);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}},516:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);var _lib=__webpack_require__(118);var _numeric=__webpack_require__(292);var _numeric2=_interopRequireDefault(_numeric);var _map=__webpack_require__(517);var _map2=_interopRequireDefault(_map);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var BLANKSTRING="",swap=function swap(a,b,map){var e1=[a,map.get(a)],e2=[b,map.get(b)],mapArray=Array.from(map.entries()),newMapArray=mapArray.map(function(_ref){var key=_ref[0],value=_ref[1];if(key===a){return e2}else if(key===b){return e1}else{return[key,value]}});return new _map2["default"](newMapArray)},factoryAxis=function factoryAxis(parent){var axesConf=parent.config.axesConf,axes=void 0,axisMapById=void 0,activeAxis=void 0,exsitingAxisMapById=parent.config.axisMapById,existingAxes=exsitingAxisMapById&&Array.from(exsitingAxisMapById.keys())||[],info=void 0,firstAxis=true,canvas=parent.getFromEnv("chart").getChildren("canvas")[0],axisRefVisualCartesian=canvas.getChildren("axisRefVisualCartesian")[0],redraw=function redraw(){return axisRefVisualCartesian.asyncDraw()},removeId=function removeId(id){var index=existingAxes.indexOf(id);index!==-1&&existingAxes.splice(index,1)},removeInfo=function removeInfo(_existingAxes,_axisMapById){var key=void 0,_info=void 0,i=void 0;for(i=_existingAxes.length-1;i>-1;i--){key=_existingAxes[i];_info=_axisMapById.get(key);_info.checkbox&&_info.checkbox.hide();_info.axis&&_info.axis.hide();_axisMapById["delete"](key)}};(0,_lib.componentFactory)(parent,_numeric2["default"],"yAxis",axesConf.length,axesConf);axes=(parent.getChildren("yAxis")||[]).slice(0);axisMapById=parent.config.axisMapById=new _map2["default"];(parent.config.side==="l"?axes.reverse():axes).forEach(function(axis){if(axis.getState("removed")||axis.config.showaxis===0){return}var axisId=axis.getId();info={};info.axis=axis;axisMapById.set(axisId,info);if(axis.config.showaxis===0){axis.hide()}else{axis.show()}canvas.attachAxis(axis,true);firstAxis&&(parent.config.besideCanvas=axisId);firstAxis=false;if(!axisCount){activeAxis=axis}axis.setLinkedItem("canvas",canvas);axisRefVisualCartesian.setLinkedItem(axis.getId(),axis);axisRefVisualCartesian.addExtEventListener("visiblerangeset",redraw,axis);axisCount++;removeId(axisId)});activeAxis&&canvas.setPrimaryAxis("yAxis",activeAxis);removeInfo(existingAxes,exsitingAxisMapById)},axisCount=0,cbIdCount=0;var AxisSelectorUI=function(_ComponentInterface){_inherits(AxisSelectorUI,_ComponentInterface);function AxisSelectorUI(){_classCallCheck(this,AxisSelectorUI);var _this=_possibleConstructorReturn(this,_ComponentInterface.call(this));_this.registerFactory("axis",factoryAxis);return _this}AxisSelectorUI.resetAxisCount=function resetAxisCount(){axisCount=0};AxisSelectorUI.prototype.configureAttributes=function configureAttributes(){var conf=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var axisSelectorUI=this,config=axisSelectorUI.config;config.axesConf=conf.axesConf||[];config.checkboxesConf=conf.checkboxesConf||[];config.side=conf.side};AxisSelectorUI.prototype.placeAxis=function placeAxis(availableWidth){var axisSelectorUI=this,conf=axisSelectorUI.config,side=conf.side,axisMapById=axisSelectorUI.getAxesDetails(),axesPadding=axisSelectorUI.getFromEnv("chartConfig").axesPadding,rightPadding=0,leftPadding=0,dim=void 0,dimension={right:0,left:0};axisMapById.forEach(function(info){var value=info.value||(info.value={}),axis=info.axis;if(axis.getState("removed")||axis.config.showaxis===0){return}dim=axis.placeAxis(availableWidth*.7);if(side==="r"){availableWidth-=value.width=dim.right;dimension.right+=dim.right;rightPadding+=axesPadding}else{availableWidth-=value.width=dim.left;dimension.left+=dim.left;leftPadding+=axesPadding}});return{dimension:dimension,rightPadding:rightPadding,leftPadding:leftPadding}};AxisSelectorUI.prototype.setAxisDimention=function setAxisDimention(){var axisSelectorUI=this,conf=axisSelectorUI.config,axisMapById=axisSelectorUI.getAxesDetails(),chart=axisSelectorUI.getFromEnv("chart"),axesPadding=axisSelectorUI.getFromEnv("chartConfig").axesPadding,canvasConfig=chart.getChildren("canvas")[0].config,canvasBorderWidth=canvasConfig.canvasBorderWidth,canvasPaddingTop=canvasConfig.canvasPaddingTop,canvasPaddingBottom=canvasConfig.canvasPaddingBottom,canvasLeft=canvasConfig.canvasLeft,canvasTop=canvasConfig.canvasTop,canvasHeight=canvasConfig.canvasHeight,canvasRight=canvasLeft+canvasConfig.canvasWidth,isRight=conf.side==="r",oppositePos=conf.side==="r"?canvasLeft-canvasBorderWidth:canvasRight+canvasBorderWidth,padding=0;axisMapById.forEach(function(info){var value=info.value||(info.value={}),axis=info.axis;if(axis.config.showaxis===0||axis.getState("removed")){return}if(isRight){value.x=canvasRight+canvasBorderWidth+padding+axesPadding}else{value.x=canvasLeft-canvasBorderWidth-padding-axesPadding}value.y=canvasTop+canvasPaddingTop;value.height=canvasHeight-canvasPaddingTop-canvasPaddingBottom;value.opposite=oppositePos;padding+=value.width+axesPadding;axis.setAxisDimention({x:value.x,y:value.y,opposite:value.opposite,axisLength:value.height})})};AxisSelectorUI.prototype.drawHotElements=function drawHotElements(){var axisSelectorUI=this,conf=axisSelectorUI.config,isRight=conf.side==="r",chartConfig=axisSelectorUI.getFromEnv("chartConfig"),allowAxisShift=chartConfig.allowAxisShift,chart=axisSelectorUI.getFromEnv("chart"),paper=axisSelectorUI.getFromEnv("paper"),trackerContainer=chart.getChildContainer("trackerGroup"),axisMapById=conf.axisMapById,axisHotElements=axisSelectorUI.getGraphicalElement("axisHotElement")||[],canvas=chart.getChildren("canvas")[0],k=void 0,length=void 0,counter=-1,attr={cursor:"col-resize",stroke:_lib.TRACKER_FILL,fill:_lib.TRACKER_FILL,visibility:true};if(allowAxisShift){axisMapById.forEach(function(info,key){var hotElement=void 0,value=info.value;attr.x=value.x+(isRight?0:-value.width);attr.y=value.y;attr.width=value.width;attr.height=value.height;if(!(hotElement=axisHotElements[++counter])){hotElement=axisSelectorUI.addGraphicalElement("axisHotElement",paper.rect(trackerContainer),true);if(_lib.hasTouch){hotElement.touchstart(axisSelectorUI._resuffelAxis)}else{hotElement.mousedown(axisSelectorUI._resuffelAxis)}}hotElement.attr(attr).data("axisDetails",{axisSelectorUI:axisSelectorUI,canvas:canvas,axisId:key})})}for(k=counter+1,length=axisHotElements.length;k<length;k++){axisSelectorUI.removeGraphicalElement(axisHotElements[k])}};AxisSelectorUI.prototype.drawCheckBoxes=function drawCheckBoxes(){var axisSelectorUI=this,conf=axisSelectorUI.config,chartId=axisSelectorUI.getFromEnv("chartInstance").id,chartConfig=axisSelectorUI.getFromEnv("chartConfig"),allowSelection=chartConfig.allowSelection,chart=axisSelectorUI.getFromEnv("chart"),checkBoxContainer=chart.getChildContainer("buttonGroup"),toolBoxAPI=axisSelectorUI.getFromEnv("toolBoxAPI"),tb=axisSelectorUI.getFromEnv("toolbox"),CheckboxSymbol=toolBoxAPI.CheckboxSymbol,isRight=conf.side==="r",axisMapById=conf.axisMapById,checkboxTopPadding=4;if(allowSelection){axisMapById.forEach(function(info,key){var value=info.value,currCheckBox=info.checkbox,axis=info.axis,axisConfig=axis.config,state="updating",padding=isRight?info.axis.getAxisConfig("axisNamePadding"):-value.width;if(!currCheckBox){currCheckBox=info.checkbox=new CheckboxSymbol;currCheckBox.configure(BLANKSTRING,true,cbIdCount++,tb.pId,chartId);currCheckBox.config.conf=tb.getDefaultConfiguration();currCheckBox.attachEventHandlers({click:{fn:function fn(key,chart){axisSelectorUI._dolegendInteraction.call(this,key,chart);axisConfig.checkBoxChecked=!axisConfig.checkBoxChecked},args:[key,chart]}});state="appearing"}currCheckBox.draw(value.x+padding,value.y+value.height+checkboxTopPadding,{parentLayer:checkBoxContainer});axisSelectorUI.getFromEnv("animationManager").setAnimation({el:currCheckBox.config.node,attr:{stroke:(0,_lib.toRaphaelColor)({color:chartConfig.checkBoxColor,alpha:100,"stroke-width":[1,2]})},state:state,component:axisSelectorUI});if(axisConfig.checkBoxChecked){currCheckBox.check()}else{currCheckBox.uncheck()}})}};AxisSelectorUI.prototype._createLayers=function _createLayers(){var axisSelectorUI=this,chart=axisSelectorUI.getFromEnv("chart"),parentLayer=chart.getContainer("parentgroup");axisSelectorUI.createContainer("axisBottomGroup",{name:"axis-bottom-group"},parentLayer);axisSelectorUI.createContainer("axisTopGroup",{name:"axis-top-group"},parentLayer)};AxisSelectorUI.prototype.createContainer=function createContainer(containerName,attr,container){var animationManager=this.getFromEnv("animationManager");return this.addChildContainer(containerName,animationManager.setAnimation({container:container,attr:attr,el:this.getChildContainer(containerName)||"group",component:this,label:"group"}))};AxisSelectorUI.prototype.draw=function draw(){this._createLayers();this.drawHotElements();this.drawCheckBoxes()};AxisSelectorUI.prototype._resuffelAxis=function _resuffelAxis(){var data=this.data("axisDetails"),axisSelectorUI=data.axisSelectorUI,conf=axisSelectorUI.config,canvas=data.canvas,axisId=data.axisId,axesDetails=axisSelectorUI.getAxesDetails();if(conf.besideCanvas!==axisId){axesDetails=axisSelectorUI.config.axisMapById=swap(conf.besideCanvas,axisId,axesDetails)}conf.besideCanvas=axisId;canvas.setPrimaryAxis("yAxis",axesDetails.get(axisId).axis);axisSelectorUI.setAxisDimention();axisSelectorUI.asyncDraw();canvas.getChildren("axisRefVisualCartesian")[0].asyncDraw()};AxisSelectorUI.prototype._dolegendInteraction=function _dolegendInteraction(axisId,chart){var checkbox=this,datasets=[],obj,dataset;chart.iterateComponents(function(child){if(child.getType()==="dataset"){datasets.push(child)}});for(obj in datasets){if(datasets.hasOwnProperty(obj)){dataset=datasets[obj];if(dataset.getFromEnv("yAxis").getId()===axisId){if(!dataset.getState("visible")&&checkbox.config.checked){dataset.config.legendInteractivity=true;dataset.show()}else if(dataset.getState("visible")&&!checkbox.config.checked){dataset.config.legendInteractivity=true;dataset.hide()}}}}};AxisSelectorUI.prototype.manipulateCheckBox=function manipulateCheckBox(e){var axisSelectorUI=this,data=e.data,clickedDS=data.dataset,axisId=clickedDS.getFromEnv("yAxis").getId(),vCanvas=clickedDS.getLinkedParent(),allDS=vCanvas.getChildren().dataset,state=data.state,checkboxUncheck=true,i,len,dataset,info,axisMapById=axisSelectorUI.getAxesDetails();if(!(info=axisMapById.get(axisId))){return}if(state==="hide"){for(i=0,len=allDS.length;i<len;i++){dataset=allDS[i];if(dataset.getState("visible")){checkboxUncheck=false}}if(checkboxUncheck){info.checkbox&&info.checkbox.uncheck()}}else{info.checkbox&&info.checkbox.check()}};AxisSelectorUI.prototype.getAxesDetails=function getAxesDetails(){return this.config.axisMapById};AxisSelectorUI.prototype.getType=function getType(){return"customAxisUI"};AxisSelectorUI.prototype.getName=function getName(){return"multiAxisSelectorUI"};AxisSelectorUI.prototype.getAxes=function getAxes(){return Array.from(this.config.axisMapById.values()).map(function(elem){return elem.axis})};return AxisSelectorUI}(_componentInterface2["default"]);exports["default"]=AxisSelectorUI},540:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=function(chart){var canvas=chart.getChildren("canvas")[0],jsonData=chart.getFromEnv("dataSource"),axisSelectorUI=chart.getChildren("yAxisSelectorUI"),axisY=jsonData.axis,vCanvas=void 0,axes=void 0,xAxis=[],yAxis=[],vC=void 0,i=void 0,k=void 0,j=void 0;axes=chart.getChildren("xAxis");for(k=0;k<(axes&&axes.length);k++){if(!axes[k].getState("removed")){xAxis.push(axes[k])}}axisSelectorUI.forEach(function(comp){axes=comp.getChildren("yAxis");for(k=0;k<(axes&&axes.length);k++){if(!axes[k].getState("removed")){yAxis.push(axes[k])}}});(0,_lib.componentFactory)(canvas,_vcanvas2["default"],"vCanvas",xAxis.length*yAxis.length);vCanvas=canvas.getChildren("vCanvas");for(i=0,k=0;i<(xAxis&&xAxis.length);i++){for(j=0;j<(yAxis&&yAxis.length);j++,k++){vC=vCanvas[k];vC.configure();vC.xAxis(xAxis[i]).yAxis(yAxis[j]).canvas(canvas);vC.addToEnv("axisData",axisY[k]);vC.addToEnv("vCanvas",vCanvas[k])}}};var _vcanvas=__webpack_require__(327);var _vcanvas2=_interopRequireDefault(_vcanvas);var _lib=__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}},541:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=function(chart){var datasetsJSON=void 0,length=void 0,indices=void 0,vC=void 0,children=chart.getChildren(),yAxisSelectorUI=children.yAxisSelectorUI,canvas=children.canvas[0],vCanvas=canvas.getChildren("vCanvas");for(var i=0,len=vCanvas.length;i<len;i++){vC=vCanvas[i];if(vC.getState("removed")){continue}datasetsJSON=vC.getFromEnv("axisData").dataset;if(datasetsJSON){length=datasetsJSON.length;indices=Array(length).fill(vC.getFromEnv("yAxis").config.axisIndex).map(function(n,j){return n+Number("."+(j+1))});(0,_lib.datasetFactory)(vC,_multiaxisline2["default"],"dataset",length,datasetsJSON,indices);children=vC.getChildren("dataset");children.forEach(function(dataset){dataset.addEventListener("datasetVisibilityChanged",function(e){yAxisSelectorUI.forEach(function(comp){comp.manipulateCheckBox(e)})})})}}};var _lib=__webpack_require__(118);var _multiaxisline=__webpack_require__(542);var _multiaxisline2=_interopRequireDefault(_multiaxisline);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}},542:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _line=__webpack_require__(346);var _line2=_interopRequireDefault(_line);var _lib=__webpack_require__(118);var _dependencyManager=__webpack_require__(125);var _multiaxisAnimation=__webpack_require__(543);var _multiaxisAnimation2=_interopRequireDefault(_multiaxisAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}(0,_dependencyManager.addDep)({name:"multiAxislineAnimation",type:"animationRule",extension:_multiaxisAnimation2["default"]});var MultiAxisDataset=function(_Line){_inherits(MultiAxisDataset,_Line);function MultiAxisDataset(){_classCallCheck(this,MultiAxisDataset);return _possibleConstructorReturn(this,_Line.apply(this,arguments))}MultiAxisDataset.prototype.getType=function getType(){return"dataset"};MultiAxisDataset.prototype.getName=function getName(){return"multiaxisline"};MultiAxisDataset.prototype.configure=function configure(datasetJSON){if(!datasetJSON){return false}this.trimData(datasetJSON);this.config.JSONData=datasetJSON;var dataSet=this,jsonData=dataSet.config.JSONData,dataSetConfig=dataSet.config,chartAttr=dataSet.getFromEnv("chart-attrib"),axis=dataSet.getFromEnv("axisData"),lineDashStyle,lineDashed;_Line.prototype.configure.call(this,datasetJSON);dataSetConfig.linethickness=(0,_lib.pluckNumber)(jsonData.linethickness,axis.linethickness,chartAttr.linethickness,2);dataSetConfig.lineDashLen=(0,_lib.pluckNumber)(jsonData.linedashlen,axis.linedashlen,chartAttr.linedashlen,5);dataSetConfig.lineDashGap=(0,_lib.pluckNumber)(jsonData.linedashgap,axis.linedashgap,chartAttr.linedashgap,4);dataSetConfig.alpha=(0,_lib.pluckNumber)(jsonData.alpha,axis.linealpha,chartAttr.linealpha,_lib.HUNDREDSTRING);dataSetConfig.linecolor=(0,_lib.pluck)(jsonData.color,axis.linecolor,axis.color,chartAttr.linecolor,dataSetConfig.plotColor);dataSetConfig.legendSymbolColor=dataSet.getName()==="line"?dataSetConfig.lineColor:dataSetConfig.plotFillColor;lineDashed=(0,_lib.pluckNumber)(jsonData.dashed,axis.linedashed,chartAttr.linedashed);lineDashStyle=(0,_lib.getDashStyle)(dataSetConfig.lineDashLen,dataSetConfig.lineDashGap);dataSetConfig.anchorBorderColor=(0,_lib.pluck)(jsonData.anchorbordercolor,chartAttr.anchorbordercolor,dataSetConfig.lineColor,dataSetConfig.plotColor);dataSetConfig.lineDashStyle=lineDashed?lineDashStyle:"none";_Line.prototype._setConfigure.call(this)};return MultiAxisDataset}(_line2["default"]);exports["default"]=MultiAxisDataset},543:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _lineAnimation=__webpack_require__(349);var _lineAnimation2=_interopRequireDefault(_lineAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports["default"]={"*.dataset.multiaxisline":_lineAnimation2["default"]["*.dataset.line"]}},544:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _mscartesian=__webpack_require__(354);var _mscartesian2=_interopRequireDefault(_mscartesian);var _areabase=__webpack_require__(431);var _msstepline=__webpack_require__(545);var _msstepline2=_interopRequireDefault(_msstepline);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var MSStepLine=function(_MSCartesian){_inherits(MSStepLine,_MSCartesian);MSStepLine.getName=function getName(){return"MSStepLine"};function MSStepLine(){_classCallCheck(this,MSStepLine);var _this=_possibleConstructorReturn(this,_MSCartesian.call(this));_this.defaultPlotShadow=1;return _this}MSStepLine.prototype.getName=function getName(){return"MSStepLine"};MSStepLine.prototype.__setDefaultConfig=function __setDefaultConfig(){_MSCartesian.prototype.__setDefaultConfig.call(this);var config=this.config;config.friendlyName="Multi-series Step Line Chart";config.defaultDatasetType="msstepline";config.drawverticaljoins=1;config.useforwardsteps=1;config.zeroplanethickness=1;config.zeroplanealpha=40;config.showzeroplaneontop=0;config.enablemousetracking=true;config.defaultcrosslinethickness=1;_areabase._setDefaultConfig.call(this)};MSStepLine.prototype.getDSGroupdef=function getDSGroupdef(){};MSStepLine.prototype.getDSdef=function getDSdef(){return _msstepline2["default"]};return MSStepLine}(_mscartesian2["default"]);exports["default"]=MSStepLine},545:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _lib=__webpack_require__(118);var _line=__webpack_require__(346);var _line2=_interopRequireDefault(_line);var _dependencyManager=__webpack_require__(125);var _msStepLineAnimation=__webpack_require__(546);var _msStepLineAnimation2=_interopRequireDefault(_msStepLineAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var LINE="line",H="H",V="V",M="M",UNDEF=void 0;(0,_dependencyManager.addDep)({name:"stepLineAnimation",type:"animationRule",extension:_msStepLineAnimation2["default"]});var MSStepLineDataset=function(_LineDataset){_inherits(MSStepLineDataset,_LineDataset);function MSStepLineDataset(){_classCallCheck(this,MSStepLineDataset);return _possibleConstructorReturn(this,_LineDataset.apply(this,arguments))}MSStepLineDataset.prototype.getType=function getType(){return"dataset"};MSStepLineDataset.prototype.getName=function getName(){return"stepLine"};MSStepLineDataset.prototype.__setDefaultConfig=function __setDefaultConfig(){_LineDataset.prototype.__setDefaultConfig.call(this);var config=this.config;config.drawverticaljoins=UNDEF;config.useforwardsteps=UNDEF};MSStepLineDataset.prototype._addLegend=function _addLegend(){var dataset=this,conf=dataset.config,legend=dataset.getFromEnv("legend"),drawAnchors=(0,_lib.pluckNumber)(conf.drawanchors,1),legendItem,config={enabled:conf.includeinlegend,type:LINE,drawLine:(0,_lib.pluck)(conf.drawLine,true),anchorSide:drawAnchors?conf.anchorsides:0,label:(0,_lib.getFirstValue)(dataset.config.JSONData.seriesname)};if(conf.includeinlegend){legendItem=legend.getItem(dataset.config.legendItemId);if(!legendItem){dataset.config.legendItemId=legend.createItem(dataset);legendItem=legend.getItem(dataset.config.legendItemId);dataset.addExtEventListener("click",function(){legendItem.itemClickFn()},legendItem)}legendItem.configure(config);legendItem.setStateCosmetics("default",{symbol:{fill:(0,_lib.toRaphaelColor)({color:conf.anchorbgcolor,alpha:conf.anchorbgalpha}),rawFillColor:conf.anchorbgcolor,rawStrokeColor:conf.anchorbordercolor,stroke:(0,_lib.toRaphaelColor)({color:conf.anchorbordercolor,alpha:"100"}),"stroke-width":conf.anchorborderthickness}});if(!dataset.getState("visible")){legendItem.setLegendState("hidden")}else{legendItem.removeLegendState("hidden")}}else if(dataset.config.legendItemId){legend.disposeItem(dataset.config.legendItemId)}};MSStepLineDataset.prototype.getLinePath=function getLinePath(data,positions){var dataset=this,conf=dataset.config,chartConfig=dataset.getFromEnv("chartConfig"),connectNullData=(0,_lib.pluckNumber)(chartConfig.connectnulldata),obj={},xAxis=dataset.getFromEnv("xAxis"),drawVerticalJoins=(0,_lib.pluckNumber)(conf.drawverticaljoins),useForwardSteps=(0,_lib.pluckNumber)(conf.useforwardsteps),halfStep=(0,_lib.pluckNumber)(chartConfig.stepatmiddle)?xAxis.getPVR()*.5:0,lastValidValue=obj.lastValidValue||false,temp=obj.temp||[],temp2=obj.temp2||[],pathArr=obj.pathArr||[],path2Arr=obj.path2Arr||[],lastXPos,i,config,xPos,yPos,length=data.length,pointsJoined=obj.pointsJoined||0,dataObj,setValue,startPos=positions&&positions.begin||0,endPos=positions&&positions.end||length,step=chartConfig.viewPortConfig.step||1,dataWithRemovedPaths=[];dataWithRemovedPaths=dataWithRemovedPaths.concat(data);for(i=startPos;i<endPos;i+=step){dataObj=dataWithRemovedPaths[i];if(!dataObj){continue}config=dataObj.config;setValue=config.setValue;if(setValue===UNDEF||config&&config.isSkipped===true){config&&delete config.isSkipped;continue}xPos=config._Px;yPos=config._Py;if(setValue===null||setValue.isNull){if(!connectNullData){temp=[];temp2=[];lastValidValue=false}}else{if(lastValidValue){if(temp.length){pathArr=pathArr.concat(temp);temp=[];pointsJoined++}if(useForwardSteps){pathArr.push([H,xPos-halfStep]);if(drawVerticalJoins){pathArr.push([V,yPos])}else{pathArr.push([M,xPos-halfStep,yPos])}if(halfStep){pathArr.push([H,xPos])}}else{if(drawVerticalJoins){pathArr.push([V,yPos])}else{pathArr.push([M,lastXPos,yPos])}pathArr.push([H,xPos]);lastXPos=xPos}}else{temp.push([M,xPos,yPos]);lastXPos=xPos;pointsJoined=0;lastValidValue=true}}}return{pathArr:pathArr,path2Arr:path2Arr,lastValidValue:lastValidValue,pointsJoined:pointsJoined,temp:temp,temp2:temp2,getPathArr:function getPathArr(){var pathObj=this,pathArr=pathObj.pathArr,path2Arr=pathObj.path2Arr;if(pathArr.length||path2Arr.length){return pathArr.concat(path2Arr)}else{return[]}}}};return MSStepLineDataset}(_line2["default"]);exports["default"]=MSStepLineDataset},546:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _lineAnimation=__webpack_require__(349);var _lineAnimation2=_interopRequireDefault(_lineAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports["default"]={"*.dataset.stepLine":_lineAnimation2["default"]["*.dataset.line"]}},547:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.configurer=undefined;var _dragbase=__webpack_require__(487);var _dragbase2=_interopRequireDefault(_dragbase);var _dragnode=__webpack_require__(548);var _dragnode2=_interopRequireDefault(_dragnode);var _connector=__webpack_require__(550);var _connector2=_interopRequireDefault(_connector);var _dragablelabels=__webpack_require__(552);var _dragablelabels2=_interopRequireDefault(_dragablelabels);var _dragnode3=__webpack_require__(554);var _dragnode4=_interopRequireDefault(_dragnode3);var _lib=__webpack_require__(118);var _dependencyManager=__webpack_require__(125);var _dragnodeDataset=__webpack_require__(555);var _dragnodeDataset2=_interopRequireDefault(_dragnodeDataset);var _editableCharts=__webpack_require__(489);var _xyAxis=__webpack_require__(417);var _xyAxis2=_interopRequireDefault(_xyAxis);var _basechart=__webpack_require__(151);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var configurer=void 0;var DragNode=function(_DragBase){_inherits(DragNode,_DragBase);DragNode.getName=function getName(){return"DragNode"};function DragNode(){_classCallCheck(this,DragNode);var _this=_possibleConstructorReturn(this,_DragBase.call(this));var chart=_this;chart.fireGroupEvent=true;chart.usesXYinCategory=true;chart.dontShowLegendByDefault=true;_this.registerFactory("dataset",_dragnodeDataset2["default"],["vCanvas"]);_this.registerFactory("axis",_xyAxis2["default"],["canvas"]);return _this}DragNode.prototype.getName=function getName(){return"DragNode"};DragNode.prototype._checkInvalidSpecificData=function _checkInvalidSpecificData(){var jsonData=this.getFromEnv("dataSource"),datasetsJSON=jsonData.dataset;if(!datasetsJSON){return true}};DragNode.prototype._mouseEvtHandler=function _mouseEvtHandler(e,data){(0,_basechart._mouseEvtHandler)(this,e,data)};DragNode.prototype.parseChartAttr=function parseChartAttr(dataObj){var iapi=this,jsonData=iapi.getFromEnv("dataSource"),chartAttr=jsonData.chart,config,transcoders=(0,_dependencyManager.getDepsByType)("transcoder");_DragBase.prototype.parseChartAttr.call(this,dataObj);config=iapi.config;config.formAction=(0,_lib.getValidValue)(chartAttr.formaction);config.showLegend=(0,_lib.pluckNumber)(chartAttr.showlegend,0);if(chartAttr.submitdataasxml===_lib.ZEROSTRING&&!chartAttr.formdataformat){chartAttr.formdataformat=transcoders.csv().format}config.formDataFormat=(0,_lib.pluck)(chartAttr.formdataformat,transcoders.xml().format);config.formTarget=(0,_lib.pluck)(chartAttr.formtarget,"_self");config.formMethod=(0,_lib.pluck)(chartAttr.formmethod,"POST");config.submitFormAsAjax=(0,_lib.pluckNumber)(chartAttr.submitformusingajax,1);config.viewMode=(0,_lib.pluckNumber)(chartAttr.viewmode,0);config.drawTrendRegion=0};DragNode.prototype.__setDefaultConfig=function __setDefaultConfig(){_DragBase.prototype.__setDefaultConfig.call(this);var chartConf=this.config;chartConf.hasLegend=true;chartConf.friendlyName="Dragable Node Chart";chartConf.defaultDatasetType="dragnode";chartConf.limitUpdaterEnabled=false;chartConf.skipClipping=true;chartConf.numVDivLines=0;chartConf.numDivLines=0;chartConf.setadaptivexmin=1;chartConf.showLimits=0;chartConf.showdivlinevalues=0;chartConf.showzeroplane=0;chartConf.showyaxisvalues=0;chartConf.enablemousetracking=true;chartConf.showzeroplaneontop=0};DragNode.prototype.addConfigureOptions=function addConfigureOptions(){var chart=this,chartConf=chart.config,restore,submit,restoreBtnTitle=chartConf.restoreBtnTitle,submitBtnTitle=chartConf.submitBtnTitle,sListRef=chart.getFromEnv("chartMenuList"),viewMode=chart.config.viewMode,configureTools=[{"Add Node":{handler:function handler(){var manager=chart.getChildren("canvas")[0].getChildren("vCanvas")[0].getChildren("datasetGroup_dragNode")[0];manager.showNodeAddUI()},action:"click"}},{"Add Connector":{handler:function handler(){var manager=chart.getChildren("canvas")[0].getChildren("vCanvas")[0].getChildren("datasetGroup_dragNode")[0];manager.showConnectorAddUI()},action:"click"}},{"Add Label":{handler:function handler(){var manager=chart.getChildren("canvas")[0].getChildren("vCanvas")[0].getChildren("datasetGroup_dragNode")[0];manager.showLabelUpdateUI()},action:"click"}}];if(chartConf.showRestoreBtn){restore={};restore[restoreBtnTitle]={handler:function handler(){var manager=chart.getChildren("canvas")[0].getChildren("vCanvas")[0].getChildren("datasetGroup_dragNode")[0];manager.restoreData()},action:"click"};configureTools.push(restore)}if(chartConf.showFormBtn){submit={};submit[submitBtnTitle]={handler:function handler(){_editableCharts.submitData.call(chart)},action:"click"};configureTools.push(submit)}!viewMode&&sListRef.appendAsList(configureTools)};DragNode.prototype.getDSdef=function getDSdef(dsType){switch(dsType){case"connector":return _connector2["default"];case"dragnode":return _dragnode2["default"];case"dragableLabels":return _dragablelabels2["default"]}};DragNode.prototype.getDSGroupdef=function getDSGroupdef(){return _dragnode4["default"]};DragNode.prototype._setCategories=function _setCategories(){var iapi=this,dataObj=iapi.getFromEnv("dataSource"),xAxis=iapi.getChildren("xAxis"),categories=dataObj.categories&&dataObj.categories[0].category||[],catLen=categories.length,catArr=[],i,catObj;for(i=0;i<catLen;i++){catObj=categories[i]||{};if(catObj.x!==undefined){catArr.push(catObj)}}xAxis&&xAxis[0].setTickValues(catArr)};DragNode.prototype.getJSONData=function getJSONData(){var chart=this,canvas=chart.getChildren("canvas")[0],vCanvas=canvas.getChildren("vCanvas")[0],groupManager=vCanvas.getChildren("datasetGroup_dragNode")[0],rawObj=chart.getFromEnv("dataSource"),datasetsArr={},jsonObj;if(groupManager){datasetsArr=groupManager.getJSONData()}jsonObj=(0,_lib.extend2)({},rawObj);jsonObj.dataset=datasetsArr.dataset;jsonObj.connectors=datasetsArr.connectors;jsonObj.labels=datasetsArr.labels;return jsonObj};return DragNode}(_dragbase2["default"]);exports.configurer=configurer=DragNode.prototype.configure;exports["default"]=DragNode;exports.configurer=configurer},548:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _area=__webpack_require__(347);var _area2=_interopRequireDefault(_area);var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _dependencyManager=__webpack_require__(125);var _dragnodeAnimation=__webpack_require__(549);var _dragnodeAnimation2=_interopRequireDefault(_dragnodeAnimation);var _redraphaelShapes=__webpack_require__(211);var _redraphaelShapes2=_interopRequireDefault(_redraphaelShapes);var _kdtree=__webpack_require__(419);var _kdtree2=_interopRequireDefault(_kdtree);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var Raphael=(0,_dependencyManager.getDep)("redraphael","plugin"),UNDEF=void 0,mathMax=Math.max,mathMin=Math.min,CIRCLE=_lib.preDefStr.CIRCLE,POLYGON=_lib.preDefStr.POLYGON,RECTANGLE=_lib.preDefStr.RECTANGLE,UNDERSCORE=_lib.preDefStr.UNDERSCORE,GROUPID=_lib.preDefStr.GROUPID,EVENTARGS=_lib.preDefStr.EVENTARGS,OBJECTBOUNDINGBOX=_lib.preDefStr.OBJECTBOUNDINGBOX,DATAPLOTCLICK="dataplotclick",DEFAULT_CURSOR=_lib.preDefStr.DEFAULT,COMMA=_lib.preDefStr.COMMA,ROLLOVER="DataPlotRollOver",ROLLOUT="DataPlotRollOut",POSITION_TOP=_lib.preDefStr.POSITION_TOP,isVML=!!_lib.hasSVG,hideFn=function hideFn(){this.hide()},defined=function defined(obj){return obj!==undefined&&obj!==null},createGroup=function createGroup(groupName,animationManager,parentContainer,component){return animationManager.setAnimation({el:"group",attr:{name:groupName},container:parentContainer,component:component})},getPointColor=function getPointColor(color,alpha,shapeType){var colorObj,innerColor,outerColor;color=(0,_libGraphics.getFirstColor)(color);alpha=(0,_libGraphics.getFirstAlpha)(alpha);innerColor=(0,_libGraphics.getLightColor)(color,80);outerColor=(0,_libGraphics.getDarkColor)(color,65);colorObj={FCcolor:{gradientUnits:OBJECTBOUNDINGBOX,color:innerColor+COMMA+outerColor,alpha:alpha+COMMA+alpha,ratio:_lib.BGRATIOSTRING}};if(shapeType){if(shapeType===1){colorObj.FCcolor.angle=0}else{colorObj.FCcolor.angle=180}}else{colorObj.FCcolor.cx=.4;colorObj.FCcolor.cy=.4;colorObj.FCcolor.r="50%";colorObj.FCcolor.radialGradient=true}return colorObj},_configureTooltext=function _configureTooltext(config,datasetConf,chartAttr){var setTooltext=config.setTooltext,formatedVal=config.formatedVal,seriesname=datasetConf.seriesname,label=config.label,xValue=config.xValue,pointLabel=config.pointLabel,tooltipSepChar=datasetConf.tooltipSepChar,toolText;if(setTooltext!==undefined){toolText=(0,_lib.parseTooltext)(setTooltext,[3,4,5,6,8,9,10,11],{yaxisName:(0,_lib.parseUnsafeString)(chartAttr.yaxisname),xaxisName:(0,_lib.parseUnsafeString)(chartAttr.xaxisname),yDataValue:formatedVal,xDataValue:xValue,label:label},config,chartAttr,datasetConf)}else if(pointLabel!==undefined){toolText=label}else{if(formatedVal===null){toolText=false}else{if(datasetConf.seriesNameInToolTip){seriesname=(0,_lib.getFirstValue)(datasetConf.seriesname)}toolText=seriesname?seriesname+tooltipSepChar:_lib.BLANK;toolText+=xValue?xValue+tooltipSepChar:_lib.BLANK;toolText+=formatedVal}}return toolText};(0,_dependencyManager.addDep)({name:"dragNodeAnimation",type:"animationRule",extension:_dragnodeAnimation2["default"]});(0,_redraphaelShapes2["default"])(Raphael);var DragNodeDataset=function(_Areadataset){_inherits(DragNodeDataset,_Areadataset);function DragNodeDataset(){_classCallCheck(this,DragNodeDataset);return _possibleConstructorReturn(this,_Areadataset.apply(this,arguments))}DragNodeDataset.prototype.getName=function getName(){return"dragNode"};DragNodeDataset.prototype.getType=function getType(){return"dataset"};DragNodeDataset.prototype.hide=function hide(){var dataSet=this,parent=dataSet.getLinkedParent(),changeInfo={};changeInfo.hide=true;dataSet.setState("dirty",true);dataSet.setState("visible",false);parent.childChanged(changeInfo);dataSet.getFromEnv("chart").getChildren("legend")[0].getItem(dataSet.config.legendItemId).setLegendState("hidden");dataSet.asyncDraw()};DragNodeDataset.prototype.show=function show(){var dataSet=this,parent=dataSet.getLinkedParent(),legendItem=dataSet.getFromEnv("legend").getItem(dataSet.config.legendItemId),changeInfo={};changeInfo.show=true;dataSet.setState("visible",true);dataSet.setState("dirty",true);parent.childChanged(changeInfo);legendItem&&legendItem.removeLegendState("hidden");dataSet.asyncDraw()};DragNodeDataset.prototype._setDatasetIndex=function _setDatasetIndex(){var dataset=this,chidrenArr=dataset.getLinkedParent().getChildren("dataset");dataset.config.datasetIndex=chidrenArr.indexOf(dataset)};DragNodeDataset.prototype.pointInShape=function pointInShape(x,y,config){var dataset=this,chart=dataset.getFromEnv("chart"),canvas=chart.getChildren("canvas")[0],canvasConfig=canvas.config,symbol=config.symbol,x2,y2,r2,xPos=config._xPos,yPos=config._yPos,width,height;if(x<canvasConfig.canvasLeft||x>canvasConfig.canvasLeft+canvasConfig.canvasWidth||y<canvasConfig.canvasTop||y>canvasConfig.canvasTop+canvasConfig.canvasHeight){return false}if(symbol==="rectangle"){width=config._plotWidth;height=config._plotHeight;xPos-=width/2;yPos-=height/2;if(x>=xPos&&y>=yPos&&x<=xPos+width&&y<=yPos+height){return true}else return false}else{x2=(x-xPos)*(x-xPos);y2=(y-yPos)*(y-yPos);r2=Number(config.radius);r2*=r2;if(x2+y2<=r2){return true}else return false}};DragNodeDataset.prototype._firePlotEvent=function _firePlotEvent(eventType,plotIndex,e){var dataset=this,chart=dataset.getFromEnv("chart"),components=dataset.components,toolTipController=dataset.getFromEnv("toolTipController"),dataStore=components.data,data=dataStore[plotIndex]||{},sharedAnchor=dataset.getGraphicalElement("sharedAnchor"),setElement=data.graphics&&data.graphics.element||(data.config&&data.config.setValue)!==UNDEF&&sharedAnchor,toolTip=this.config.currentToolTip,viewMode=dataset.config.viewMode,groupManager=dataset.getLinkedParent(),config,ele=data.graphics.element,eventArgs,setLink;if(setElement){config=data.config;setLink=config.setLink;eventArgs=config.eventArgs;switch(eventType){case"mouseover":dataset._decideTooltipType(plotIndex,e);dataset._rolloverResponseSetter(chart,data,e);setLink&&(setElement.node.style.cursor=_lib.POINTER);break;case"mouseout":toolTipController.hide(toolTip);dataset._rolloutResponseSetter(chart,data,e);setLink&&(setElement.node.style.cursor=DEFAULT_CURSOR);break;case"click":ele.data("fire_click_event")&&chart.plotEventHandler(setElement,e,DATAPLOTCLICK,eventArgs);break;case"mousemove":groupManager.hideWaitElem();groupManager.clearLongPress();dataset._decideTooltipType(plotIndex,e);break;case"mousedown":clearTimeout(ele._longpressactive);ele.data("fire_click_event",1);if(!viewMode){groupManager.drawWaitingRing(data,dataset.config.datasetIndex)}break;case"mouseup":groupManager.hideWaitElem();groupManager.clearLongPress();break}}};DragNodeDataset.prototype.dragUp=function dragUp(event){var ele=this,data=ele.data("drag-options"),dataset=data.dataset;dataset._dragUp.call(ele,event)};DragNodeDataset.prototype.dragMove=function dragMove(event,customData){var ele=this,data=ele.data("drag-options"),dataset=data.dataset,dx=customData[0],dy=customData[1],px=customData[2],py=customData[3];dataset._dragMove.call(ele,dx,dy,px,py)};DragNodeDataset.prototype.dragStart=function dragStart(event){var ele=this,data=ele.data("drag-options"),dataset=data.dataset;dataset._dragStart.call(ele,event)};DragNodeDataset.prototype._dragStart=function _dragStart(){var element=this,data=element.data("drag-options"),dataObj=data.dataObj,dataGraphics=dataObj.graphics,ele=dataGraphics.element,bBox=ele.getBBox(),config=dataObj.config,dataset=data.dataset,chart=dataset.getFromEnv("chart"),sourceEvent="dataplotdragstart",dragStart=config.dragStart||(config.dragStart={}),cloneGraphic=dataObj.graphics.cloneGraphic,cloneGraphicGroup=dataset.getContainer("cloneGraphicGroup"),cloneText=dataObj.graphics.cloneText,image=dataObj.graphics.image,cloneImage=dataObj.graphics.cloneImage,label=dataObj.graphics.label,eventArgs;if(isVML){ele._.dirty=1}if(config.allowDrag){if(!cloneGraphic&&dataObj.graphics.element){cloneGraphic=dataObj.graphics.cloneGraphic=dataObj.graphics.element.clone();cloneGraphicGroup.appendChild(cloneGraphic)}if(label&&!cloneText){cloneText=dataObj.graphics.cloneText=dataObj.graphics.label.clone();if(cloneText.followers[0]&&cloneText.followers[0].el){cloneGraphicGroup.appendChild(cloneText.followers[0].el)}cloneGraphicGroup.appendChild(cloneText)}if(image&&!cloneImage){cloneImage=dataObj.graphics.cloneImage=dataObj.graphics.image.clone();cloneGraphicGroup.appendChild(cloneImage)}cloneText&&cloneText.show();cloneImage&&cloneImage.show();cloneGraphic&&cloneGraphic.show()}dragStart.xPos=config._xPos;dragStart.yPos=config._yPos;dragStart.x=config.x;dragStart.y=config.y;dragStart.bBox=bBox;dragStart.origX=dragStart.lastDx||(dragStart.lastDx=0);dragStart.origY=dragStart.lastDy||(dragStart.lastDy=0);eventArgs=ele.data(EVENTARGS);chart.fireChartInstanceEvent(sourceEvent,eventArgs);cloneGraphic&&cloneGraphic.show();cloneText&&cloneText.show();cloneImage&&cloneImage.show()};DragNodeDataset.prototype._dragMove=function _dragMove(dx,dy){var element=this,data=element.data("drag-options"),dataObj=data.dataObj,ele=dataObj.graphics.element,cloneGraphic=dataObj.graphics.cloneGraphic,cloneImage=dataObj.graphics.cloneImage,cloneText=dataObj.graphics.cloneText,config=dataObj.config,dragStart=config.dragStart,startX=dragStart.bBox.x+dx,endX=dragStart.bBox.x2+dx,startY=dragStart.bBox.y+dy,endY=dragStart.bBox.y2+dy,dataset=data.dataset,animationManager=dataset.getFromEnv("animationManager"),parent=dataset.getLinkedParent(),chartConfig=dataset.getFromEnv("chartConfig"),canvasLeft=chartConfig.canvasLeft,canvasRight=chartConfig.canvasRight,transform,canvasTop=chartConfig.canvasTop,canvasBottom=chartConfig.canvasBottom;if(startX<canvasLeft){dx+=canvasLeft-startX}if(endX>canvasRight){dx-=endX-canvasRight}if(startY<canvasTop){dy+=canvasTop-startY}if(endY>canvasBottom){dy-=endY-canvasBottom}if(dx||dy){ele.data("fire_click_event",0);parent.hideWaitElem();parent.clearLongPress()}if(config.allowDrag){dragStart.draged=true;dragStart.lastDx=dx;dragStart.lastDy=dy;transform=data._transformObj={transform:"t"+(dragStart.origX+dx)+COMMA+(dragStart.origY+dy)};if(cloneGraphic){animationManager.setAnimation({el:cloneGraphic,attr:transform,component:dataset})}if(cloneImage){animationManager.setAnimation({el:cloneImage,attr:transform,component:dataset})}if(cloneText){animationManager.setAnimation({el:cloneText,attr:{x:config._xPos+dx,y:config._yPos+dy},component:dataset})}}};DragNodeDataset.prototype._getHoveredPlot=function _getHoveredPlot(x,y){var res=this.config.tree.getNeighbour({x:x,y:y},false);if(res){return{pointIndex:res.index||res.i,hovered:true,pointObj:res.data}}};DragNodeDataset.prototype._rolloutResponseSetter=function _rolloutResponseSetter(chart,data,e){var dataset=this,animationManager=dataset.getFromEnv("animationManager"),config=data.config,element=data.graphics.element,dragStart=config.dragStart,unHoverAttr=element.data("unHoverAttr"),keysNo=dragStart&&Object.keys(dragStart).length;if(!keysNo){if(config.shapeType==="poly"||config.shapeType===CIRCLE){unHoverAttr.path=(0,_lib.polyPathToPath)([config.shapeArg.sides,config._xPos,config._yPos,unHoverAttr.r,config.startAngle,0])}config.rollOverProperties.enabled&&animationManager.setAnimation({el:element,attr:unHoverAttr,component:dataset});chart&&chart.plotEventHandler(element,e,ROLLOUT)}};DragNodeDataset.prototype._rolloverResponseSetter=function _rolloverResponseSetter(chart,data,e){var dataset=this,animationManager=dataset.getFromEnv("animationManager"),config=data.config,element=data.graphics.element,dragStart=config.dragStart,hoverAttr=element.data("hoverAttr"),keysNo=dragStart&&Object.keys(dragStart).length;if(!keysNo){if(config.shapeType==="poly"||config.shapeType===CIRCLE){hoverAttr.path=(0,_lib.polyPathToPath)([config.shapeArg.sides,config._xPos,config._yPos,hoverAttr.r,config.startAngle,0])}config.rollOverProperties.enabled&&animationManager.setAnimation({el:element,attr:hoverAttr,component:dataset});chart&&chart.plotEventHandler(element,e,ROLLOVER)}};DragNodeDataset.prototype._dragUp=function _dragUp(event){var element=this,data=element.data("drag-options"),dataset=data.dataset,chart=dataset.getFromEnv("chart"),dataStore=dataset.components.data,dataObj=data.dataObj,ele=dataObj.graphics.element,groupManager=dataset.getLinkedParent(),startConnectors,endConnectors,sourceEvent="dataplotdragend",config=dataObj.config,dragStart=dataObj.config.dragStart||{},yAxis=dataset.getFromEnv("yAxis"),i,setObj,len,eventCord,eventArgs,cloneText=dataObj.graphics.cloneText,xAxis=dataset.getFromEnv("xAxis"),updateObj={},datasetIndex=dataset.config.datasetIndex,cloneGraphic=dataObj.graphics.cloneGraphic,cloneImage=dataObj.graphics.cloneImage;groupManager.hideWaitElem();groupManager.clearLongPress();if(dragStart.draged){dragStart.origX+=dragStart.lastDx;dragStart.origY+=dragStart.lastDy;dataObj.config._xPos=dragStart.xPos+dragStart.lastDx;dataObj.config._yPos=dragStart.yPos+dragStart.lastDy;updateObj.x=xAxis.getValue(dataObj.config._xPos);updateObj.y=yAxis.getValue(dataObj.config._yPos);updateObj.update=true;for(i=0,len=dataStore.length;i<len;i++){setObj=dataStore[i];if(dataObj.config.id===setObj.config.id){break}}dataset.updatePointConfig(updateObj,i);eventArgs=ele.data(EVENTARGS);eventArgs.x=updateObj.x;eventArgs.y=updateObj.y;dataset.parsePlotAttributes(i);dataset._drawNode(i);startConnectors=dataObj.config.startConnectors;endConnectors=dataObj.config.endConnectors;groupManager.drawNodeConnectors(startConnectors,datasetIndex);groupManager.drawNodeConnectors(endConnectors,datasetIndex);eventCord=(0,_lib.getMouseCoordinate)(chart.getFromEnv("chart-container"),event);eventCord.sourceEvent=sourceEvent;chart.fireChartInstanceEvent("chartupdated",(0,_lib.extend2)({sourceEvent:sourceEvent},eventArgs),event);chart.fireChartInstanceEvent(sourceEvent,eventArgs,event);dragStart.draged=false;dataset._setupKdTree()}cloneText&&cloneText.hide();cloneGraphic&&cloneGraphic.hide();cloneImage&&cloneImage.hide();delete config.dragStart};DragNodeDataset.prototype.updatePointConfig=function updatePointConfig(updateConf,index){var dataset=this,dataStore=dataset.components.data,conf=dataset.config,dataObj=dataStore[index]||{},config=dataObj.config,numberFormatter=dataset.getFromEnv("number-formatter"),chartAttr=dataset.getFromEnv("chart-attrib"),xValue;if(config===undefined){return}config.y=numberFormatter.getCleanValue((0,_lib.pluck)(updateConf.y));config.x=numberFormatter.getCleanValue((0,_lib.pluck)(updateConf.x));config._options.x=config.x;config._options.y=config.y;xValue=numberFormatter.xAxis(config.x);config.formatedVal=config.y===null?config.y:numberFormatter.dataLabels(config.y);config.xValue=xValue;if(!conf.showTooltip){config.toolText=false}else{config.toolText=_configureTooltext(config,conf,chartAttr)}config.update=updateConf.update};DragNodeDataset.prototype.getNode=function getNode(id){return id?this.components.nodes[id]:this.components.nodes};DragNodeDataset.prototype.configureAttributes=function configureAttributes(datasetJSON){if(datasetJSON){this.trimData(datasetJSON);this.config.JSONData=datasetJSON}else if(!datasetJSON&&!this.config.JSONData){return false}var dataset=this,dIndex=dataset.config.datasetIndex,JSONData=dataset.config.JSONData,data=JSONData.data||[],chartAttr=dataset.getFromEnv("chart-attrib"),chartConfig=dataset.getFromEnv("chartConfig"),dataLength=data.length,conf=dataset.config,ZERO=_lib.ZEROSTRING,colorM=dataset.getFromEnv("color-manager"),index,plotFillAlpha,showPlotBorder,plotBorderColor,plotBorderThickness,plotBorderAlpha,datasetPlotBorderThickness,useRoundEdges,HUNDRED=_lib.HUNDREDSTRING;conf.context={};dataset.components.nodes={};conf.showValues=(0,_lib.pluckNumber)(JSONData.showvalues,chartAttr.showvalues,1);useRoundEdges=conf.useRoundEdges=(0,_lib.pluckNumber)(chartAttr.useroundedges);conf.zIndex=1;conf.name=(0,_lib.getValidValue)(JSONData.seriesname);conf.viewMode=(0,_lib.pluckNumber)(chartAttr.viewmode,0);conf.id=(0,_lib.pluck)(JSONData.id,dataset.index);if((0,_lib.pluckNumber)(JSONData.includeinlegend)===0||conf.name===undefined){conf.showInLegend=false}conf.seriesname=(0,_lib.parseUnsafeString)(JSONData.seriesname);conf.includeinlegend=(0,_lib.pluckNumber)(JSONData.includeinlegend,conf.seriesname?1:0);conf.showTooltip=(0,_lib.pluckNumber)(chartAttr.showtooltip,1);conf.seriesNameInTooltip=(0,_lib.pluckNumber)(chartAttr.seriesnameintooltip,1);conf.tooltipSepChar=(0,_lib.pluck)(chartAttr.tooltipsepchar," - ");plotFillAlpha=conf.plotFillAlpha=(0,_lib.pluck)(chartAttr.plotfillalpha,HUNDRED);showPlotBorder=conf.showPlotBorder=(0,_lib.pluckNumber)(chartAttr.showplotborder,1);plotBorderColor=conf.plotBorderColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(chartAttr.plotbordercolor,"666666"));plotBorderThickness=conf.plotBorderThickness=(0,_lib.pluckNumber)(chartAttr.plotborderthickness,useRoundEdges?2:1);plotBorderAlpha=conf.plotBorderAlpha=(0,_lib.pluck)(chartAttr.plotborderalpha,chartAttr.plotfillalpha,useRoundEdges?"35":"95");conf.use3DLighting=Boolean((0,_lib.pluckNumber)(chartAttr.use3dlighting,chartAttr.is3d,useRoundEdges?1:0));conf.color=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(JSONData.color,colorM.getPlotColor(dIndex)));conf.alpha=(0,_lib.pluck)(JSONData.plotfillalpha,JSONData.nodeFillAlpha,JSONData.alpha,plotFillAlpha);conf.datasetShowPlotBorder=Boolean((0,_lib.pluckNumber)(JSONData.showplotborder,showPlotBorder));conf.datasetPlotBorderColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(JSONData.plotbordercolor,JSONData.nodebordercolor,plotBorderColor));conf.datasetPlotBorderThickness=(0,_lib.pluckNumber)(JSONData.plotborderthickness,JSONData.nodeborderthickness,plotBorderThickness);conf.datasetPlotBorderAlpha=conf.datasetShowPlotBorder?(0,_lib.pluck)(JSONData.plotborderalpha,JSONData.nodeborderalpha,JSONData.alpha,plotBorderAlpha):ZERO;conf.datasetAllowDrag=Boolean((0,_lib.pluckNumber)(JSONData.allowdrag,1));conf.colorObj={fillColor:(0,_libGraphics.convertColor)(conf.color,conf.alpha),lineColor:{FCcolor:{color:conf.datasetPlotBorderColor,alpha:conf.datasetPlotBorderAlpha}}};conf.lineWidth=datasetPlotBorderThickness;conf.symbol="poly_4";dataset.components.data||(dataset.components.data=[]);dataset.setState("visible",(0,_lib.pluckNumber)(JSONData.visible,!Number(JSONData.initiallyhidden),1)===1);conf.yMin=conf.yMax=conf.xMax=conf.xMin=0;dataset._refreshData=true;for(index=0;index<dataLength;index+=1){this._setConfigure(index)}dataset._refreshData=false;chartConfig.showLegend&&dataset._addLegend();dataset._setDatasetIndex();dataset.setState("dirty",true)};DragNodeDataset.prototype._setConfigure=function _setConfigure(index,updateObj){var dataset=this,JSONData=dataset.config.JSONData,data=JSONData.data,setData=updateObj||data[index],dataStore=dataset.components.data,conf=dataset.config,dataObj=dataStore[index]=dataStore[index]||(dataStore[index]={}),config=dataObj.config=dataObj.config||(dataObj.config={}),datasetId=conf.id,shape,yMin=conf.yMin||+Infinity,yMax=conf.yMax||-Infinity,xMax=conf.xMax||-Infinity,xMin=conf.xMin||+Infinity,itemValueY,itemValueX,label,safeLabel,shapeType,use3DLighting=conf.use3DLighting,datasetPlotBorderThickness=conf.datasetPlotBorderThickness,datasetPlotBorderColor=conf.datasetPlotBorderColor,datasetPlotBorderAlpha=conf.datasetPlotBorderAlpha,chartAttr=dataset.getFromEnv("chart-attrib"),datasetColor=conf.color,datasetAlpha=conf.alpha,datasetAllowDrag=conf.datasetAllowDrag,numberFormatter=dataset.getFromEnv("number-formatter");!dataObj.graphics&&(dataObj.graphics={});config._options=(0,_lib.extend2)({},setData);if(setData||updateObj){itemValueY=config.y=numberFormatter.getCleanValue((0,_lib.pluck)(setData.y));itemValueX=config.x=numberFormatter.getCleanValue((0,_lib.pluck)(setData.x));config.index=index;if(!config.dragStart){config.dragStart={}}yMax=mathMax(yMax,config.y);yMin=mathMin(yMin,config.y);xMax=mathMax(xMax,config.x);xMin=mathMin(xMin,config.x);if(itemValueY===null){config.value=null}else{label=numberFormatter.xAxis(itemValueX);config.formatedVal=itemValueY===null?itemValueY:numberFormatter.dataLabels(itemValueY);config.setTooltext=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(setData.tooltext,JSONData.plottooltext,chartAttr.plottooltext)));config.pointLabel=(0,_lib.pluck)(setData.label,setData.name);safeLabel=(0,_lib.parseUnsafeString)(config.pointLabel);config.label=safeLabel;config.name=safeLabel;config.displayValue=safeLabel;config.xValue=label;if(!updateObj){config.startConnectors={};config.endConnectors={}}if(!conf.showTooltip){config.toolText=false}else{config.toolText=_configureTooltext(config,conf,chartAttr)}config.link=setData.link;config.id=(0,_lib.pluck)(setData.id,datasetId+_lib.preDefStr.UNDERSCORE+index);config.allowDrag=Boolean((0,_lib.pluckNumber)(setData.allowdrag,datasetAllowDrag));shape=config.shape=(0,_lib.getValidValue)((0,_lib.pluck)(setData.shape),_lib.preDefStr.RECTANGLE).toLowerCase();config.height=(0,_lib.getValidValue)((0,_lib.pluck)(setData.height),10);config.width=(0,_lib.getValidValue)((0,_lib.pluck)(setData.width),10);config.radius=(0,_lib.getValidValue)((0,_lib.pluck)(setData.radius),10);config.numSides=(0,_lib.getValidValue)((0,_lib.pluck)(setData.numsides),4);config.color=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(setData.color,datasetColor));config.borderColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(setData.bordercolor,datasetPlotBorderColor));config.alpha=(0,_lib.pluck)(setData.alpha,datasetAlpha);config.imageURL=(0,_lib.getValidValue)(setData.imageurl);config.imageNode=Boolean((0,_lib.pluckNumber)(setData.imagenode));config.imageWidth=setData.imagewidth;config.imageHeight=setData.imageheight;config.imageAlign=(0,_lib.getValidValue)(setData.imagealign,_lib.BLANK).toLowerCase();config.labelAlign=(0,_lib.pluck)(setData.labelalign,config.imageNode&&defined(config.imageURL)?POSITION_TOP:_lib.preDefStr.POSITION_MIDDLE);config.hovercolor=(0,_lib.pluck)(setData.hovercolor,JSONData.hovercolor);config.borderhoveralpha=(0,_lib.pluck)(setData.borderhoveralpha,JSONData.borderhoveralpha);config.borderhovercolor=(0,_lib.pluck)(setData.borderhovercolor,JSONData.borderhovercolor);config.borderhoverthickness=(0,_lib.pluck)(setData.borderhoverthickness,JSONData.borderhoverthickness);config.hoveralpha=(0,_lib.pluck)(setData.hoveralpha,JSONData.hoveralpha);config.hoverheight=(0,_lib.pluck)(setData.hoverheight,JSONData.hoverheight);config.hoverradius=(0,_lib.pluck)(setData.hoverradius,JSONData.hoverradius);config.hoverwidth=(0,_lib.pluck)(setData.hoverwidth,JSONData.hoverwidth);switch(config.shape){case CIRCLE:shapeType=0;break;case POLYGON:shapeType=2;shape=(0,_libGraphics.mapSymbolName)(config.numSides);break;default:shapeType=1;break}config.symbol=shape;if(use3DLighting){config.fillColor=getPointColor(config.color,config.alpha,shapeType);config.cloneFillColor=getPointColor(config.color,50,shapeType)}else{config.fillColor={color:config.color,alpha:config.alpha};config.cloneFillColor=(0,_libGraphics.convertColor)(config.color,50)}config.colorArr=[{FCcolor:{color:config.color,alpha:config.alpha}},{FCcolor:{color:config.borderColor,alpha:datasetPlotBorderAlpha}}];config.rollOverProperties=dataset.pointHoverOptions(dataObj,chartAttr,{shapeType:shapeType,use3D:use3DLighting,height:config.height,width:config.width,radius:config.radius,color:config.color,alpha:config.alpha,borderColor:config.borderColor,borderAlpha:datasetPlotBorderAlpha,borderThickness:datasetPlotBorderThickness})}!config.update&&updateObj&&(config.update=updateObj.update);!config.add&&updateObj&&(config.add=updateObj.add);if(dataset._refreshData===true){delete dataObj.removed}}dataObj.dataset=dataset;conf.xMax=xMax;conf.xMin=xMin;conf.yMin=yMin;conf.yMax=yMax};DragNodeDataset.prototype.pointHoverOptions=function pointHoverOptions(dataObj,chartAttr,defaults){var dataset=this,hoverEffect=(0,_lib.pluckNumber)(dataObj.config.showhovereffect,dataset.config.showhovereffect,chartAttr.plothovereffect,chartAttr.showhovereffect),rolloverProperties={},hoverAttr=!!(0,_lib.pluck)(dataObj.config.hovercolor,dataset.config.hovercolor,chartAttr.plotfillhovercolor,dataObj.config.hoveralpha,dataset.config.hoveralpha,chartAttr.plotfillhoveralpha,dataObj.config.borderhovercolor,dataset.config.borderhovercolor,chartAttr.plotborderhovercolor,dataObj.config.borderhoveralpha,dataset.config.borderhoveralpha,chartAttr.plotborderhoveralpha,dataObj.config.borderhoverthickness,dataset.config.borderhoverthickness,chartAttr.plotborderhoverthickness,dataObj.config.hoverheight,dataset.config.hoverheight,chartAttr.plothoverheight,dataObj.config.hoverwidth,dataset.config.hoverwidth,chartAttr.plothoverwidth,dataObj.config.hoverradius,dataset.config.hoverradius,chartAttr.plothoverradius,hoverEffect),enabled=false,color,alpha,fillColor;if(hoverEffect===undefined&&hoverAttr||hoverEffect){enabled=true;color=(0,_lib.pluck)(dataObj.config.hovercolor,dataset.config.hovercolor,chartAttr.plotfillhovercolor,(0,_libGraphics.getLightColor)(defaults.color,70));alpha=(0,_lib.pluck)(dataObj.config.hoveralpha,dataset.config.hoveralpha,chartAttr.plotfillhoveralpha,defaults.alpha);rolloverProperties={stroke:(0,_libGraphics.convertColor)((0,_lib.pluck)(dataObj.config.borderhovercolor,dataset.config.borderhovercolor,chartAttr.plotborderhovercolor,defaults.borderColor),(0,_lib.pluckNumber)(dataObj.config.borderhoveralpha,dataset.config.borderhoveralpha,chartAttr.plotborderhoveralpha,alpha,defaults.borderAlpha)),"stroke-width":(0,_lib.pluckNumber)(dataObj.config.borderhoverthickness,dataset.config.borderhoverthickness,chartAttr.plotborderhoverthickness,defaults.borderThickness),height:(0,_lib.pluckNumber)(dataObj.config.hoverheight,dataset.config.hoverheight,chartAttr.plothoverheight,defaults.height),width:(0,_lib.pluckNumber)(dataObj.config.hoverwidth,dataset.config.hoverwidth,chartAttr.plothoverwidth,defaults.width),r:(0,_lib.pluckNumber)(dataObj.config.hoverradius,dataset.config.hoverradius,chartAttr.plothoverradius,defaults.radius)};if(defaults.use3D){fillColor=getPointColor((0,_libGraphics.getFirstColor)((0,_lib.pluck)(dataObj.config.hovercolor,dataset.config.hovercolor,chartAttr.plotfillhovercolor,(0,_libGraphics.getLightColor)(defaults.color,70))),(0,_lib.pluck)(dataObj.config.hoveralpha,dataset.config.hoveralpha,chartAttr.plotfillhoveralpha,defaults.alpha),defaults.shapeType)}else{fillColor=(0,_libGraphics.convertColor)(color,alpha)}rolloverProperties.fill=(0,_lib.toRaphaelColor)(fillColor)}return{enabled:enabled,rollOverAttrs:rolloverProperties}};DragNodeDataset.prototype._addLegend=function _addLegend(){var dataset=this,conf=dataset.config,legendItem,legend=dataset.getFromEnv("legend"),config={enabled:conf.includeInLegend,type:dataset.type,anchorSide:4,label:(0,_lib.getFirstValue)(dataset.config.JSONData.seriesname)};if(conf.includeinlegend){legendItem=legend.getItem(dataset.config.legendItemId);if(!legendItem){dataset.config.legendItemId=legend.createItem(dataset);legendItem=legend.getItem(dataset.config.legendItemId);dataset.addExtEventListener("click",function(){legendItem.itemClickFn()},legendItem)}else{legendItem.configure({style:legend.config.itemStyle,hiddenStyle:legend.config.itemHiddenStyle,datasetVisible:legend.config.datasetVisible,hoverStyle:legend.config.itemHoverStyle})}legendItem.configure(config);legendItem.setStateCosmetics("default",{symbol:{fill:(0,_lib.toRaphaelColor)({color:conf.color,alpha:conf.alpha}),rawFillColor:conf.color,stroke:(0,_lib.toRaphaelColor)({color:conf.plotBorderColor,alpha:_lib.HUNDREDSTRING}),"stroke-width":conf.anchorBorderThickness}});if(!dataset.getState("visible")){legendItem.setLegendState("hidden")}else{legendItem.removeLegendState("hidden")}}else if(dataset.config.legendItemId){legend.disposeItem(dataset.config.legendItemId)}};DragNodeDataset.prototype.createContainer=function createContainer(){var dataset=this,animationManager=dataset.getFromEnv("animationManager"),parentContainer=dataset.getLinkedParent().getChildContainer();!dataset.getContainer("nodesGroup")&&dataset.addContainer("nodesGroup",createGroup("nodesGroup",animationManager,parentContainer.defaultVcanvasGroup,dataset));!dataset.getContainer("dataLabelsGroup")&&dataset.addContainer("dataLabelsGroup",createGroup("dataLabelsGroup",animationManager,parentContainer.vcanvasLabelGroup,dataset));!dataset.getContainer("cloneGraphicGroup")&&dataset.addContainer("cloneGraphicGroup",createGroup("cloneGraphicGroup",animationManager,parentContainer.defaultVcanvasGroup,dataset))};DragNodeDataset.prototype.draw=function draw(){var dataset=this,components=dataset.components,smartLabel=dataset.getFromEnv("smartLabel"),data=components.data,removeDataArr=dataset.components.removeDataArr||[],removeDataArrLen=removeDataArr.length,i,ln,group,style=dataset.getFromEnv("dataLabelStyle"),css={fontFamily:style.fontFamily,fontSize:style.fontSize,lineHeight:style.lineHeight,fontWeight:style.fontWeight,fontStyle:style.fontStyle},removed;if(!dataset.getState("dirty")&&!dataset._contextChanged()){return}dataset.createContainer();group=dataset.getContainer("nodesGroup");dataset.getFromEnv("animationManager").setAnimation({el:dataset.getContainer("cloneGraphicGroup"),attr:{opacity:.3},component:dataset});group.css(css);smartLabel.useEllipsesOnOverflow(dataset.getFromEnv("chartConfig").useEllipsesWhenOverflow);for(i=0,ln=data.length;i<ln;i+=1){removed=data[i].removed;!removed&&this._drawNode(i)}dataset.config.drawn=true;for(i=0;i<removeDataArrLen;i++){dataset._removeDataVisuals(removeDataArr.shift())}dataset._setupKdTree()};DragNodeDataset.prototype._setupKdTree=function _setupKdTree(){var dataset=this,conf=dataset.config,data=dataset.components.data,dataLen,i,config,attr,maxRadius=-Infinity,searchDataArr;searchDataArr=conf.searchDataArr=[];dataLen=data.length;for(i=0;i<dataLen;i++){config=data[i].config;if(!data[i].removed&&config._yPos!==undefined&&!isNaN(config._yPos)){attr=config.props.element.attr;maxRadius=Math.max(maxRadius,(0,_lib.pluckNumber)(config.radius,0));searchDataArr.push({x:(0,_lib.pluckNumber)(attr.x,config._xPos),y:(0,_lib.pluckNumber)(attr.y,config._yPos),index:i,data:data[i],shapeInfo:{type:config.shape,radius:(0,_lib.pluck)(config.radius,0),width:(0,_lib.pluckNumber)(config.width),height:(0,_lib.pluckNumber)(config.height),sides:(0,_lib.pluckNumber)(config.numSides)}})}}conf.tree=new _kdtree2["default"](true).buildKdTree(searchDataArr);conf.tree._setSearchLimit(maxRadius,maxRadius)};DragNodeDataset.prototype.drawLabel=function drawLabel(index){var dataset=this,chart=dataset.getFromEnv("chart"),datasetIndex=dataset.config.datasetIndex,animationManager=dataset.getFromEnv("animationManager"),dataStore=dataset.components.data,i,len=dataStore.length,labelAttrs,labelElement,group=dataset.getContainer("nodesGroup"),config,valueString,chartConfig=dataset.getFromEnv("chartConfig"),style=dataset.getFromEnv("dataLabelStyle"),cursor,smartTextObj,labelDisplacement,eventArgs,set,yAdjustment,xPos,labelY,groupId,cloneText,plotWidth,plotHeight,labelAlign,setGraphics,dragUp=dataset.dragUp,dragMove=dataset.dragMove,dragStart=dataset.dragStart,rollOverProperties,shapeType,yPos,smartLabel=dataset.getFromEnv("smartLabel"),setElement,visible=dataset.getState("visible");if(index!==undefined){i=index;len=i+1}else{i=0}for(;i<len;i++){set=dataStore[i];config=set.config;plotWidth=config._plotWidth;plotHeight=config._plotHeight;valueString=config.displayValue;labelAlign=config.labelAlign;setGraphics=set.graphics;cloneText=setGraphics.cloneText;rollOverProperties=set.config.rollOverProperties;shapeType=config.shapeType;if(visible&&(defined(valueString)||valueString!==_lib.BLANK)){smartLabel.useEllipsesOnOverflow(chartConfig.useEllipsesWhenOverflow);smartTextObj=smartLabel.getSmartText(valueString,plotWidth,plotHeight);labelDisplacement=plotHeight*.5-smartTextObj.height*.5;switch(labelAlign){case POSITION_TOP:labelDisplacement=-labelDisplacement;break;case _lib.POSITION_BOTTOM:break;default:labelDisplacement=0;break}xPos=config._xPos;yPos=config._yPos;set._yAdjustment=yAdjustment=labelDisplacement;labelY=yPos+yAdjustment;cursor=config.link?_lib.POINTER:config.allowDrag?"move":_lib.BLANKSTRING;labelAttrs={text:smartTextObj.text,title:smartTextObj.tooltext||_lib.BLANKSTRING,fill:style.color,"text-bound":[style.backgroundColor,style.borderColor,style.borderThickness,style.borderPadding,style.borderRadius,style.borderDash],x:xPos,y:labelY,cursor:cursor};labelElement=setGraphics.label;labelElement=animationManager.setAnimation({el:labelElement||"text",attr:labelAttrs,container:group,component:dataset});if(!setGraphics.label){labelElement=dataset.addGraphicalElement("plotLabel",labelElement,true);setGraphics.label=labelElement;labelElement.drag(dragMove,dragStart,dragUp)}else{labelElement.show()}setElement=setGraphics&&(setGraphics.image||setGraphics.element);setElement&&labelElement.insertAfter(setElement);if(cloneText){animationManager.setAnimation({el:cloneText,attr:{transform:_lib.BLANKSTRING,x:xPos,y:labelY,text:smartTextObj.text,title:smartTextObj.tooltext||_lib.BLANKSTRING,fill:style.color,"text-bound":[style.backgroundColor,style.borderColor,style.borderThickness,style.borderPadding,style.borderRadius,style.borderDash]},component:dataset})}labelElement.data("drag-options",{dataObj:set,dataset:dataset,datasetIndex:datasetIndex,pointIndex:set.config.index,cursor:cursor,chart:chart,link:set.link});eventArgs={index:i,link:config.link,y:config.y,x:config.x,shape:(0,_lib.pluck)(shapeType,"rect"),width:config.width,height:config.height,radius:config.radius,sides:config.numSides,label:config.displayValue,toolText:config.toolText,id:config.id,datasetIndex:datasetIndex,datasetName:dataset.config.JSONData.seriesname,sourceType:"dataplot"};groupId=datasetIndex+"_"+i;labelElement.data(GROUPID,groupId);labelElement.data(EVENTARGS,eventArgs);labelElement.data("hoverAttr",rollOverProperties&&rollOverProperties.rollOverAttrs);labelElement.data("unHoverAttr",setElement.data("unHoverAttr"))}else{setGraphics.label&&setGraphics.label.hide()}}};DragNodeDataset.prototype.parsePlotAttributes=function parsePlotAttributes(i){var dataset=this,datasetIndex=dataset.config.datasetIndex,datasetComponents=dataset.components,nodes=datasetComponents.nodes,xAxis=dataset.getFromEnv("xAxis"),yAxis=dataset.getFromEnv("yAxis"),data=datasetComponents.data,set=data[i],config=set.config,conf=dataset.config,xPos,yPos,setGraphics=set.graphics||(set.graphics={}),symbol=config.symbol,width,height,radius,id,imageNode,confShapeArg,imageURL,imageAlign,lineColor=conf.colorObj.lineColor,lineWidth=conf.datasetPlotBorderThickness,plotWidth,plotHeight,isRectangle,rollOverProperties=set.config.rollOverProperties,imageWidth,imageHeight,imageY,pointAttr,fill,shapeType=config.shape,cursor=config.link?_lib.POINTER:config.allowDrag?"move":_lib.BLANKSTRING,rollOverAttrs,polypath,cloneImage=setGraphics.cloneImage,attr,cloneImageAttr,imageElementAttr;config._yPos=yPos=yAxis.getPixel(config.y);config._xPos=xPos=xAxis.getPixel(config.x);if(yPos!==undefined&&!isNaN(yPos)){config.shapeArg={};confShapeArg=config.shapeArg;height=(0,_lib.pluckNumber)(config.height);width=(0,_lib.pluckNumber)(config.width);radius=(0,_lib.pluckNumber)(config.radius);isRectangle=symbol===RECTANGLE;id=config.id;imageNode=config.imageNode;imageURL=config.imageURL;imageAlign=config.imageAlign;plotWidth=isRectangle?width:radius*1.4;imageWidth=(0,_lib.pluckNumber)(config.imageWidth,plotWidth);plotHeight=isRectangle?height:radius*1.4;imageHeight=(0,_lib.pluckNumber)(config.imageHeight,plotHeight);fill=(0,_lib.toRaphaelColor)(config.fillColor);config._plotWidth=plotWidth;config._plotHeight=plotHeight;pointAttr={fill:fill,"stroke-width":lineWidth,stroke:(0,_lib.toRaphaelColor)(lineColor)};symbol=confShapeArg.symbol=(0,_lib.pluck)(config.symbol,conf.symbol,_lib.BLANK);symbol=symbol.split(UNDERSCORE);polypath=[symbol[1],xPos,yPos,config.radius,config.startAngle,0];if(symbol[0]==="poly"||symbol[0]===CIRCLE){config.shapeType=symbol[0];config.elemType="path";attr={path:(0,_lib.polyPathToPath)(polypath)};confShapeArg.x=xPos;confShapeArg.y=yPos;confShapeArg.radius=config.radius;confShapeArg.sides=symbol[1];pointAttr.r=config.radius;delete pointAttr.width;delete pointAttr.x;delete pointAttr.y;delete pointAttr.height;if(rollOverProperties&&rollOverProperties.enabled){rollOverAttrs=rollOverProperties.rollOverAttrs;delete rollOverAttrs.x;delete rollOverAttrs.y;delete rollOverAttrs.width;delete rollOverAttrs.height}}else{config.shapeType=_lib.SHAPE_RECT;config.elemType="rect";confShapeArg.x=xPos-width/2;confShapeArg.y=yPos-height/2;confShapeArg.r=0;confShapeArg.width=width;confShapeArg.height=height;attr={x:confShapeArg.x,y:confShapeArg.y,width:width,height:height,r:0};pointAttr.width=width;pointAttr.height=height;pointAttr.x=xPos-width/2;pointAttr.y=yPos-height/2;if(rollOverProperties&&rollOverProperties.enabled){rollOverAttrs=rollOverProperties.rollOverAttrs;rollOverAttrs.x=xPos-rollOverAttrs.width/2;rollOverAttrs.y=yPos-rollOverAttrs.height/2;delete rollOverAttrs.r}}attr.fill=fill;attr["stroke-width"]=lineWidth;attr.stroke=(0,_lib.toRaphaelColor)(lineColor);config.eventArgs={index:i,link:config.link,y:config.y,x:config.x,shape:(0,_lib.pluck)(shapeType,"rect"),width:width,height:height,radius:radius,sides:config.numSides,label:config.displayValue,toolText:config.toolText,id:config.id,datasetIndex:datasetIndex,datasetName:dataset.config.JSONData.seriesname,sourceType:"dataplot"};if(imageNode&&imageURL){if(imageHeight>plotHeight){imageHeight=plotHeight}if(imageWidth>plotWidth){imageWidth=plotWidth}switch(imageAlign){case _lib.POSITION_MIDDLE:imageY=yPos-imageHeight/2;break;case _lib.POSITION_BOTTOM:imageY=plotHeight>imageHeight?yPos+plotHeight/2-imageHeight:yPos-imageHeight/2;break;default:imageY=plotHeight>imageHeight?yPos-plotHeight*.5:yPos-imageHeight/2;break}config.imageX=xPos-imageWidth/2;config.imageY=imageY;config.imageWidth=imageWidth;config.imageHeight=imageHeight;imageElementAttr={src:imageURL,x:config.imageX,y:imageY,width:imageWidth,height:imageHeight,cursor:cursor};if(cloneImage){cloneImageAttr={transform:_lib.BLANKSTRING,src:imageURL,x:config.imageX,y:imageY,width:imageWidth,height:imageHeight}}}config.pointAttr=pointAttr;nodes[id]=set;config.props={element:{attr:attr},imageElement:{attr:imageElementAttr},cloneImage:{attr:cloneImageAttr},cloneGraphic:{attr:attr}}}};DragNodeDataset.prototype.allocatePosition=function allocatePosition(index){var dataset=this,data=dataset.components.data,i,len;len=data.length;if(index!==undefined){dataset.parsePlotAttributes(index)}else{for(i=0;i<len;i++){dataset.parsePlotAttributes(i)}}};DragNodeDataset.prototype._drawNode=function _drawNode(i){var dataset=this,chart=dataset.getFromEnv("chart"),datasetIndex=dataset.config.datasetIndex,manager=dataset.getLinkedParent(),datasetComponents=dataset.components,animationManager=dataset.getFromEnv("animationManager"),data=datasetComponents.data,set=data[i],config=set.config,setGraphics=set.graphics||(set.graphics={}),groupId,imageNode=config.imageNode,imageURL=config.imageURL,group=dataset.getContainer("nodesGroup"),rollOverProperties=set.config.rollOverProperties,dragUp=dataset.dragUp,dragMove=dataset.dragMove,dragStart=dataset.dragStart,cursor=config.link?_lib.POINTER:config.allowDrag?"move":_lib.BLANKSTRING,type,setElement=setGraphics.graphic,cloneText=setGraphics.cloneText,cloneGraphic=setGraphics.cloneGraphic,cloneImage=setGraphics.cloneImage,imageElement=setGraphics.image,labelElement=setGraphics.label,visible=dataset.getState("visible");if(config._yPos!==undefined&&!isNaN(config._yPos)){setElement=setGraphics.element;type=setElement&&setElement.type;if(config.elemType.indexOf(type)===-1&&setElement){setElement.remove();setElement=setGraphics.element=null;labelElement&&labelElement.remove();imageElement&&imageElement.remove();delete setGraphics.label;delete setGraphics.image;imageElement=null;labelElement=null}setElement=animationManager.setAnimation({el:setElement||config.elemType,label:"node",attr:config.props.element.attr,container:group,component:dataset});if(!setGraphics.graphic){setElement.drag(dragMove,dragStart,dragUp)}setGraphics.element=setElement;setElement.show();manager.animationDone=true;groupId=datasetIndex+"_"+i;if(cloneGraphic){if(cloneGraphic.type===setElement.type){animationManager.setAnimation({el:cloneGraphic,attr:config.props.element.attr,component:dataset}).transform(_lib.BLANKSTRING)}else{cloneGraphic.remove();delete set.graphics.cloneGraphic;if(cloneText){cloneText.remove();delete set.graphics.cloneText}}}if(imageNode&&imageURL){imageElement=animationManager.setAnimation({el:setGraphics.image||"image",attr:visible&&config.props.imageElement.attr,doNotRemove:true,container:group,component:dataset,callback:!visible&&hideFn});if(!setGraphics.image&&imageElement){imageElement.drag(dragMove,dragStart,dragUp)}setGraphics.image=imageElement;visible&&imageElement.show();imageElement.data("drag-options",{dataObj:set,dataset:dataset,datasetIndex:dataset.index,pointIndex:set.config.index,cursor:cursor,link:set.link});imageElement.data(GROUPID,groupId);imageElement.data(EVENTARGS,config.eventArgs);imageElement.data("hoverAttr",rollOverProperties&&rollOverProperties.rollOverAttrs);imageElement.data("unHoverAttr",config.pointAttr);if(cloneImage){animationManager.setAnimation({el:cloneImage,attr:config.props.cloneImage.attr,component:dataset})}}else if(setGraphics.image){setGraphics.image=animationManager.setAnimation({el:setGraphics.image,component:dataset})}dataset.drawLabel(i);animationManager.setAnimation({el:setElement,attr:{cursor:cursor},component:dataset});setElement.data("drag-options",{dataObj:set,dataset:dataset,datasetIndex:dataset.index,pointIndex:set.config.index,cursor:cursor,chart:chart,link:set.link});setElement.data(GROUPID,groupId);setElement.data(EVENTARGS,config.eventArgs);setElement.data("hoverAttr",rollOverProperties&&rollOverProperties.rollOverAttrs);setElement.data("unHoverAttr",config.pointAttr);visible?setElement.show():setElement.hide()}else{setGraphics.element&&(setGraphics.element=animationManager.setAnimation({el:setGraphics.element,component:dataset}));setGraphics.image&&(setGraphics.image=animationManager.setAnimation({el:setGraphics.image,component:dataset}));setGraphics.label&&(setGraphics.label=animationManager.setAnimation({el:setGraphics.label,component:dataset}))}};DragNodeDataset.prototype.trimData=function trimData(datasetJSON){if(!this.config.JSONData){return}var dataSet=this,prevData=dataSet.components,prevDataLength=prevData.data&&prevData.data.length,currDataLength=datasetJSON.data&&datasetJSON.data.length||0,dataDiff=prevDataLength-currDataLength;if(dataDiff>0){dataSet.removeData(currDataLength,dataDiff)}};DragNodeDataset.prototype.removeData=function removeData(index,stretch){var dataSet=this,components=dataSet.components,manager=dataSet.getLinkedParent(),dataStore=components.data,removeDataArr=components.removeDataArr||(components.removeDataArr=[]);stretch=stretch||1;index=index||0;if(index<0){index=0}components.removeDataArr=removeDataArr=removeDataArr.concat(dataStore.splice(index,stretch));manager._clearConnectors()};DragNodeDataset.prototype._removeDataVisuals=function _removeDataVisuals(dataObj){var dataSet=this,ele,graphics,graphicsObj;if(!dataObj){return}graphics=dataObj.graphics;for(ele in graphics){graphicsObj=graphics[ele];if(graphicsObj.hide&&typeof graphicsObj.hide==="function"){dataSet.getFromEnv("animationManager").setAnimation({el:graphicsObj,attr:{"text-bound":[]},component:dataSet});graphicsObj.hide();graphicsObj.transform&&graphicsObj.transform(_lib.BLANKSTRING)}}};DragNodeDataset.prototype.getJSONData=function getJSONData(){var dataset=this,dataStore=dataset.components.data,len=dataStore.length,jsonData=[],dataObj,i;for(i=0;i<len;i++){dataObj=dataStore[i];if(!dataObj.removed){if(dataObj.config._options){delete dataObj.config._options.update;delete dataObj.config._options.add;jsonData.push(dataObj.config._options)}}}return jsonData};return DragNodeDataset}(_area2["default"]);exports["default"]=DragNodeDataset},549:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]={"initial.dataset.dragNode":function initialDatasetDragNode(){return{"node.appearing":function nodeAppearing(){return[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"axis"}]}}}}},550:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _dragnode=__webpack_require__(548);var _dragnode2=_interopRequireDefault(_dragnode);var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _dependencyManager=__webpack_require__(125);var _connectorAnimation=__webpack_require__(551);var _connectorAnimation2=_interopRequireDefault(_connectorAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var EVENTARGS=_lib.preDefStr.EVENTARGS,L="L",M="M",configStr=_lib.preDefStr.configStr,_getlinePath=function _getlinePath(connector){var config=connector.config,fromPointObj=config.fromPointObj,toPointObj=config.toPointObj,fromX=config.fromX,fromY=config.fromY,toX=config.toX,toY=config.toY,path=[M,fromX,fromY],pointConfig;if(config.arrowAtStart){pointConfig=fromPointObj.config;if(pointConfig.shapeType===_lib.SHAPE_RECT){path=path.concat(DragNodeConnector._drawArrow(fromX,fromY,toX,toY,pointConfig.shapeArg.width,pointConfig.shapeArg.height))}else{path=path.concat(DragNodeConnector._drawArrow(fromX,fromY,toX,toY,pointConfig.shapeArg.radius))}}if(config.arrowAtEnd){pointConfig=toPointObj.config;if(pointConfig.shapeType===_lib.SHAPE_RECT){path=path.concat(DragNodeConnector._drawArrow(toX,toY,fromX,fromY,pointConfig.shapeArg.width,pointConfig.shapeArg.height))}else{path=path.concat(DragNodeConnector._drawArrow(toX,toY,fromX,fromY,pointConfig.shapeArg.radius))}}path.push(L,toX,toY);return path},createGroup=function createGroup(groupName,parentContainer,dataset){var animationManager=dataset.getFromEnv("animationManager");return animationManager.setAnimation({el:"group",attr:{name:groupName},container:parentContainer,component:dataset,label:"group"})};(0,_dependencyManager.addDep)({name:"connectorAnimation",type:"animationRule",extension:_connectorAnimation2["default"]});var DragNodeConnector=function(_DragNodeDataset){_inherits(DragNodeConnector,_DragNodeDataset);function DragNodeConnector(){_classCallCheck(this,DragNodeConnector);return _possibleConstructorReturn(this,_DragNodeDataset.apply(this,arguments))}DragNodeConnector.prototype.getType=function getType(){return"dataset"};DragNodeConnector.prototype.getName=function getName(){return"dragNodeConnector"};DragNodeConnector.prototype._setDatasetIndex=function _setDatasetIndex(){var dataset=this,chidrenArr=dataset.getLinkedParent().getChildren("connector");dataset.config.datasetIndex=chidrenArr.indexOf(dataset)};DragNodeConnector.prototype.configureAttributes=function configureAttributes(datasetJSON){if(datasetJSON){this.trimData(datasetJSON);this.config.JSONData=datasetJSON}else if(!datasetJSON&&!this.config.JSONData){return false}var connectors=this,chartAttr=connectors.getFromEnv("chart-attrib"),conf=connectors.config,connectorsObj=connectors.config.JSONData,connectorsArr=connectorsObj.connector,length=connectorsArr&&connectorsArr.length,index,HUNDRED=_lib.HUNDREDSTRING;conf.connectorsTooltext=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(connectorsObj.connectortooltext,chartAttr.connectortooltext)));conf.stdThickness=(0,_lib.pluckNumber)(connectorsObj.stdthickness,1);conf.conColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(connectorsObj.color,"FF5904"));conf.conAlpha=(0,_lib.pluck)(connectorsObj.alpha,HUNDRED);conf.conDashGap=(0,_lib.pluckNumber)(connectorsObj.dashgap,5);conf.conDashLen=(0,_lib.pluckNumber)(connectorsObj.dashlen,5);conf.conDashed=Boolean((0,_lib.pluckNumber)(connectorsObj.dashed,0));conf.arrowAtStart=Boolean((0,_lib.pluckNumber)(connectorsObj.arrowatstart,1));conf.arrowAtEnd=Boolean((0,_lib.pluckNumber)(connectorsObj.arrowatend,1));conf.conStrength=(0,_lib.pluckNumber)(connectorsObj.strength,1);conf.toolTipSepChar=(0,_lib.pluck)(chartAttr.tooltipsepchar," - ");conf.showTooltip=(0,_lib.pluckNumber)(chartAttr.showtooltip,1);conf.viewMode=(0,_lib.pluckNumber)(chartAttr.viewmode,1);conf._refreshData=true;connectors._setDatasetIndex("connector");for(index=0;index<length;index+=1){this._setConfigure(index,connectorsArr[index])}conf._refreshData=true};DragNodeConnector.prototype._setConfigure=function _setConfigure(index,connectorObj){var connector=this,connectorStore=connector.components.data||(connector.components.data=[]),connObj=connectorStore[index]||(connectorStore[index]=connectorStore[index]={}),conf=connector.config,connectorLabel=(0,_lib.parseUnsafeString)((0,_lib.pluck)(connectorObj.label,connectorObj.name)),setConAlpha=(0,_lib.pluck)(connectorObj.alpha,conf.conAlpha),smartLabel=connector.getFromEnv("smartLabel"),tooltipSepChar=conf.toolTipSepChar,defToolTextMacro="$fromLabel"+tooltipSepChar+"$toLabel",setConColor={FCcolor:{color:(0,_libGraphics.getFirstColor)((0,_lib.pluck)(connectorObj.color,conf.conColor)),alpha:setConAlpha}},toolText,config,labelTextObj,connectorsTooltext=conf.connectorsTooltext,connectorToolText=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(connectorObj.tooltext,connectorsTooltext))),boolCondition=Boolean((0,_lib.pluckNumber)(connectorObj.dashed,conf.conDashed));smartLabel.useEllipsesOnOverflow(connector.getFromEnv("chartConfig").useEllipsesWhenOverflow);labelTextObj=smartLabel.getOriSize(connectorLabel);config=connObj.config=connObj.config||(connObj.config={});!connObj.graphics&&(connObj.graphics={});if(!conf.showTooltip){toolText=false}else{toolText=(0,_lib.pluck)(connectorToolText,connectorLabel?"$label":defToolTextMacro)}config=connObj.config={_options:connectorObj,id:(0,_lib.pluck)(connectorObj.id,index).toString(),from:(0,_lib.pluck)(connectorObj.from,_lib.BLANK),to:(0,_lib.pluck)(connectorObj.to,_lib.BLANK),label:connectorLabel,toolText:toolText,customToolText:connectorToolText,color:setConColor,index:index,dashStyle:boolCondition?(0,_lib.getDashStyle)((0,_lib.pluckNumber)(connectorObj.dashlen,conf.conDashLen),(0,_lib.pluckNumber)(connectorObj.dashgap,conf.conDashGap)):_lib.DASH_DEF,dashed:connectorObj.dashed,dashlen:connectorObj.dashlen,dashgap:connectorObj.dashgap,arrowAtStart:Boolean((0,_lib.pluckNumber)(connectorObj.arrowatstart,conf.arrowAtStart)),arrowAtEnd:Boolean((0,_lib.pluckNumber)(connectorObj.arrowatend,conf.arrowAtEnd)),conStrength:(0,_lib.pluckNumber)(connectorObj.strength,conf.conStrength),link:connectorObj.link,stdThickness:conf.stdThickness,labelWidth:labelTextObj.widht,labelHeight:labelTextObj.height};config.datasetIndex=connector.config.datasetIndex;config.add=connectorObj.add;config.update=connectorObj.update;if(conf._refreshData){delete connObj.removed}};DragNodeConnector.prototype.createContainer=function createContainer(){var dataset=this,parentContainer=dataset.getLinkedParent().getChildContainer();!dataset.getContainer("connectorGroup")&&dataset.addContainer("connectorGroup",createGroup("connectorGroup",parentContainer.connectorGroup,dataset));!dataset.getContainer("connectorDataLabelGroup")&&dataset.addContainer("connectorDataLabelGroup",createGroup("connectorDataLabelGroup",parentContainer.connectorGroup,dataset))};DragNodeConnector.prototype.draw=function draw(){var connectors=this,manager=connectors.getLinkedParent(),conf=connectors.config,connectorStore=connectors.components.data,connector,fromId,toId,fromPointObj,toPointObj,style=connectors.getFromEnv("dataLabelStyle"),i,length=connectorStore.length,removeDataArr=connectors.components.removeDataArr||[],removeDataArrLen=removeDataArr.length,config;connectors.createContainer();conf.cleared=false;connectors.getContainer("connectorDataLabelGroup").css(style);for(i=0;i<length;i++){connector=connectorStore[i];config=connector.config;fromId=config.from;toId=config.to;fromPointObj=manager.getNode(fromId);toPointObj=manager.getNode(toId);if(fromPointObj&&toPointObj&&config.deleted!==true){connectors.drawConnector(connector,fromPointObj,toPointObj,i)}}connectors.config.drawn=true;for(i=0;i<removeDataArrLen;i++){connectors._removeDataVisuals(removeDataArr.shift())}};DragNodeConnector.prototype.parsePlotAttributes=function parsePlotAttributes(connector,fromPointObj,toPointObj){var dataset=this,fromX,toX,fromY,toY,strokeWidth,NumberFormatter=dataset.getFromEnv("number-formatter"),pathArr,startConnectors,endConnectors,config=connector.config,fromConf,toConf,eventArgs=config.eventArgs||(config.eventArgs={}),color,id;config.fromPointObj=fromPointObj;config.toPointObj=toPointObj;fromConf=fromPointObj.config;toConf=toPointObj.config;config.fromX=fromX=fromConf._xPos;config.fromY=fromY=fromConf._yPos;config.toX=toX=toConf._xPos;config.toY=toY=toConf._yPos;config._labelX=(fromX+toX)/2;config._labelY=(fromY+toY)/2;config.strokeWidth=strokeWidth=config.conStrength*config.stdThickness;color=config.color;config.textBgColor=color&&color.FCcolor&&color.FCcolor.color;eventArgs.label=config.label;eventArgs.arrowAtStart=config.arrowAtStart;eventArgs.arrowAtEnd=config.arrowAtEnd;eventArgs.link=config.link;eventArgs.id=config.id;eventArgs.fromNodeId=fromConf.id;eventArgs.toNodeId=toConf.id;config.toolText=(0,_lib.parseTooltext)(config.toolText,[3,83,84,85,86,87,88,89,90,91,92],{label:config.label,fromXValue:NumberFormatter.dataLabels(fromPointObj.config.x),fromYValue:NumberFormatter.dataLabels(fromPointObj.config.y),fromXDataValue:fromPointObj.config.x,fromYDataValue:fromPointObj.config.y,fromLabel:(0,_lib.pluck)(fromPointObj.config.displayValue,fromPointObj.config.id),toXValue:NumberFormatter.dataLabels(toPointObj.config.x),toYValue:NumberFormatter.dataLabels(toPointObj.config.y),toXDataValue:toPointObj.config.x,toYDataValue:toPointObj.config.y,toLabel:(0,_lib.pluck)(toPointObj.config.displayValue,toPointObj.config.id)});fromConf=fromPointObj.config;toConf=toPointObj.config;startConnectors=fromConf.startConnectors||(fromConf.startConnectors={});endConnectors=toConf.endConnectors||(toConf.endConnectors={});id=connector.config.id+"-"+fromConf.id+"-"+toConf.id;startConnectors[id]=connector;endConnectors[id]=connector;pathArr=_getlinePath(connector);config.props={element:{attr:{path:pathArr,"stroke-width":strokeWidth,"stroke-dasharray":config.dashStyle,cursor:config.link?_lib.POINTER:_lib.BLANKSTRING,stroke:(0,_lib.toRaphaelColor)(color)}}}};DragNodeConnector.prototype.allocatePosition=function allocatePosition(){var connectors=this,i,connector,config,fromId,toId,fromPointObj,toPointObj,manager=connectors.getLinkedParent(),connectorStore=connectors.components.data,len=connectorStore.length;for(i=0;i<len;i++){connector=connectorStore[i];config=connector.config;fromId=config.from;toId=config.to;fromPointObj=manager.getNode(fromId);toPointObj=manager.getNode(toId);if(fromPointObj&&toPointObj&&config.deleted!==true){connectors.parsePlotAttributes(connector,fromPointObj,toPointObj,i)}}};DragNodeConnector.prototype.drawConnector=function drawConnector(connector){var dataset=this,toolTipController=dataset.getFromEnv("toolTipController"),animationManager=dataset.getFromEnv("animationManager"),graphics=connector.graphics,element,elementCheck,connectorsGroup=dataset.getContainer("connectorGroup"),config=connector.config,tooltext=config.toolText,eventArgs=config.eventArgs||(config.eventArgs={}),conf=dataset.config,pool=dataset.components.pool||{};if(connector.removed){return}element=elementCheck=graphics.graphic;if(!graphics.graphic){if(pool.graphic&&pool.graphic.path&&pool.graphic.path.length){elementCheck=graphics.graphic=pool.graphic.path.shift()}}element=animationManager.setAnimation({el:elementCheck||"path",container:connectorsGroup,attr:config.props.element.attr,label:"path",component:dataset});if(!elementCheck){graphics.graphic=element;element.mousedown(dataset.mouseDown).mousemove(dataset.mousemove).mouseup(dataset.mouseup).hover(dataset.hoverIn,dataset.hoverOut)}element.show().data(EVENTARGS,eventArgs).data("viewMode",conf.viewMode).data(configStr,config).data("dataset",dataset);conf.showTooltip?toolTipController.enableToolTip(element,tooltext):toolTipController.disableToolTip(element);dataset.drawLabel(connector)};DragNodeConnector.prototype.drawLabel=function drawLabel(connector){var dataset=this,toolTipController=dataset.getFromEnv("toolTipController"),conf=dataset.config,animationManager=dataset.getFromEnv("animationManager"),connectorsGroup=dataset.getContainer("connectorDataLabelGroup"),config,label,tooltext,labelAttrs,style=dataset.getFromEnv("dataLabelStyle"),labelElement,labelElementCheck,graphics,connectorObj,i,labelX,labelY,textBgColor,dataStore=dataset.components.data,pool=dataset.components.pool||{},len=dataStore.length,drawIndividualLabel=function drawIndividualLabel(connector){config=connector.config;tooltext=config.toolText;graphics=connector.graphics;label=config.label;labelX=config._labelX;labelY=config._labelY;textBgColor=config.textBgColor;if(label){labelElementCheck=graphics.text=graphics.text||pool.element&&pool.element.text&&pool.element.text.shift();labelAttrs={text:label,fill:style.color,direction:_lib.BLANKSTRING,cursor:config.link?_lib.POINTER:_lib.BLANKSTRING,"text-bound":[(0,_lib.pluck)(style.backgroundColor,textBgColor),(0,_lib.pluck)(style.borderColor,textBgColor),1,"2"],x:labelX,y:labelY};labelElement=animationManager.setAnimation({el:labelElementCheck||"text",attr:labelAttrs,container:connectorsGroup,label:"text",component:dataset});labelElement.show();if(!labelElementCheck){graphics.text=labelElement;labelElement.mousedown(dataset.mouseDown).mousemove(dataset.mousemove).mouseup(dataset.mouseup).hover(dataset.hoverIn,dataset.hoverOut)}labelElement.data(EVENTARGS,config.eventArgs).data("viewMode",conf.viewMode).data(configStr,config).data("dataset",dataset);conf.showTooltip?toolTipController.enableToolTip(labelElement,tooltext):toolTipController.disableToolTip(labelElement)}else{graphics.text&&graphics.text.hide()}};if(connector){drawIndividualLabel(connector)}else{for(i=0;i<len;i++){connectorObj=dataStore[i];drawIndividualLabel(connectorObj)}}};DragNodeConnector.prototype.mouseDown=function mouseDown(){var ele=this,dataset=ele.data("dataset"),manager=dataset.getLinkedParent();manager.clearLongPress();ele.data("fire_click_event",1);manager.triggerConnectorUI(ele)};DragNodeConnector.prototype.mousemove=function mousemove(){var ele=this,dataset=ele.data("dataset"),manager=dataset.getLinkedParent();ele.data("fire_click_event",0);manager.clearLongPress()};DragNodeConnector.prototype.mouseup=function mouseup(){var ele=this,dataset=ele.data("dataset"),manager=dataset.getLinkedParent();manager.clearLongPress()};DragNodeConnector._drawArrow=function _drawArrow(X1,Y1,X2,Y2,R,H){var tanganent=(Y1-Y2)/(X1-X2),angle=Math.atan(tanganent),PX,PY,RHlf,HHlf,arr=[];if(angle<0){angle=2*Math.PI+angle}if(Y2>Y1){if(X2>=X1&&angle>Math.PI||X2<X1&&angle>Math.PI){angle=angle-Math.PI}}else{if(X2>=X1&&angle<Math.PI&&angle!==0||X2<X1&&angle<Math.PI){angle=angle+Math.PI}}if(typeof H==="undefined"){PX=X1+R*Math.cos(angle);PY=Y1+R*Math.sin(angle)}else{RHlf=Math.abs(R)/2;HHlf=Math.abs(H)/2;PX=X1+(RHlf=X1<X2?RHlf:-RHlf);PY=Y1+RHlf*Math.tan(angle);if(Math.abs(Y1-PY)>Math.abs(HHlf)){PY=Y1+(HHlf=Y1<Y2?HHlf:-HHlf);PX=X1+HHlf/Math.tan(angle)}}arr.push(L,PX,PY,PX+10*Math.cos(angle+.79),PY+10*Math.sin(angle+.79),M,PX+10*Math.cos(angle-.79),PY+10*Math.sin(angle-.79),L,PX,PY);return arr};DragNodeConnector.prototype.removeData=function removeData(index,stretch){var dataset=this,components=dataset.components,dataStore=components.data;if(index<0){index=0}components.removeDataArr=dataStore.splice(index,stretch)};DragNodeConnector.prototype.trimData=function trimData(datasetJSON){if(!this.config.JSONData){return}var dataSet=this,prevData=dataSet.components,prevDataLength=prevData.data&&prevData.data.length,currDataLength=datasetJSON.connector&&datasetJSON.connector.length||0,dataDiff=prevDataLength-currDataLength;if(dataDiff>0){dataSet.removeData(currDataLength,dataDiff)}};return DragNodeConnector}(_dragnode2["default"]);exports["default"]=DragNodeConnector},551:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]={"initial.dataset.dragNodeConnector":function initialDatasetDragNodeConnector(){return{"path.appearing":function pathAppearing(){return[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"plot"}]},"text.appearing":function textAppearing(){return[{initialAttr:{opacity:0,"text-bound":"none"},finalAttr:{opacity:1},slot:"final"}]},"*":null}}}},552:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _dragnode=__webpack_require__(548);var _dragnode2=_interopRequireDefault(_dragnode);var _lib=__webpack_require__(118);var _dependencyManager=__webpack_require__(125);var _draggablelabelAnimation=__webpack_require__(553);var _draggablelabelAnimation2=_interopRequireDefault(_draggablelabelAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var PX=_lib.preDefStr.PX,EVENTARGS="eventArgs",TRACKER_FILL="rgba(192,192,192,"+(_lib.isIE?.002:1e-6)+")";var DragNodeLabels=function(_DragNodeDataset){_inherits(DragNodeLabels,_DragNodeDataset);function DragNodeLabels(){_classCallCheck(this,DragNodeLabels);var _this=_possibleConstructorReturn(this,_DragNodeDataset.call(this));(0,_dependencyManager.addDep)({name:"draggablelabelAnimation",type:"animationRule",extension:_draggablelabelAnimation2["default"]});return _this}DragNodeLabels.prototype.getType=function getType(){return"dataset"};DragNodeLabels.prototype.getName=function getName(){return"dragNodeLabels"};DragNodeLabels.prototype.configure=function configure(datasetJSON){if(datasetJSON){this.trimData(datasetJSON);this.config.JSONData=datasetJSON.label}else if(!datasetJSON&&!this.config.JSONData){return false}var dataset=this,chartAttr=dataset.getFromEnv("chart-attrib"),conf=dataset.config,setDataArr=dataset.config.JSONData||[],len=setDataArr.length,dataStore=dataset.components.data,i;conf.viewMode=(0,_lib.pluckNumber)(chartAttr.viewmode,0);if(!dataStore){dataStore=dataset.components.data=[]}for(i=0;i<len;i++){dataset._setConfigure(i)}};DragNodeLabels.prototype._setConfigure=function _setConfigure(index,updateObj){var dataset=this,setDataArr=dataset.config.JSONData,setData=updateObj||setDataArr[index],dataStore=dataset.components.data,dataObj,text,inCanvasStyle=dataset.getFromEnv("style").inCanvasStyle,inCanFontSize=inCanvasStyle.fontSize,config,labelFontSize;dataObj=dataStore[index];!dataObj&&(dataObj=dataStore[index]={});!dataObj.graphics&&(dataObj.graphics={});config=dataObj.config=dataObj.config||(dataObj.config={});text=(0,_lib.parseUnsafeString)((0,_lib.pluck)(setData.text,setData.label));config._options=setData;config.add=setData.add;if(text){config.text=text;config.x=setData.x||0;config.y=setData.y||0;config.labelFontSize=labelFontSize=(0,_lib.pluckNumber)(setData.fontsize,inCanFontSize);config.labelColor=(0,_lib.hashify)((0,_lib.pluck)(setData.color,inCanvasStyle.color));config.alpha=(0,_lib.pluckNumber)(setData.alpha,100)/100;config.allowDrag=(0,_lib.pluckNumber)(setData.allowdrag,1);config.padding=(0,_lib.pluckNumber)(setData.padding,5);if(setData.fontsize){config.labelCSS={fontSize:labelFontSize+PX}}else{config.labelCSS={}}config.labelBGColor=(0,_lib.pluck)(setData.bgcolor&&setData.bgcolor.replace(_lib.dropHash,_lib.HASHSTRING));config.labelBDColor=(0,_lib.pluck)(setData.bordercolor&&setData.bordercolor.replace(_lib.dropHash,_lib.HASHSTRING));config.link=setData.link;config.borderThickness=setData.borderthickness;config.dashLen=setData.dashlen;config.dashGap=setData.dashgap;config.dashed=setData.dashed;config.radius=setData.radius}};DragNodeLabels.prototype.getJSONData=function getJSONData(){var dataset=this,dataStore=dataset.components.data,len=dataStore.length,jsonData=[],dataObj,i;for(i=0;i<len;i++){dataObj=dataStore[i];if(!dataObj.removed){if(dataObj.config._options){jsonData.push(dataObj.config._options)}}}return jsonData};DragNodeLabels.prototype.createContainer=function createContainer(){var dataset=this,animationManager=dataset.getFromEnv("animationManager"),parentContainer=dataset.getLinkedParent().getChildContainer();!dataset.getContainer("dragLabelGroup")&&dataset.addContainer("dragLabelGroup",animationManager.setAnimation({el:"group",attr:{name:"dragLabelGroup"},label:"group",component:dataset,container:parentContainer.defaultVcanvasGroup}))};DragNodeLabels.prototype.allocatePosition=function allocatePosition(){this.parsePlotAttributes()};DragNodeLabels.prototype.parsePlotAttributes=function parsePlotAttributes(){var dataset=this,dataStore=dataset.components.data,yAxis=dataset.getFromEnv("yAxis"),xAxis=dataset.getFromEnv("xAxis"),SmartLabel=dataset.getFromEnv("smartLabel"),style=dataset.getFromEnv("dataLabelStyle"),dashLen,dashGap,dashed,x,y,color,text,bgColor,borderColor,padding,config,attr,dataObj,allowDrag,fontSize,radius,dim,borderThickness,len=dataStore&&dataStore.length,lStyle,chartConfig=dataset.getFromEnv("chartConfig"),i,labelCSS;for(i=0;i<len;i++){dataObj=dataStore[i];if(dataObj.removed){continue}config=dataObj.config;!dataObj.graphics&&(dataObj.graphics={});config.index=i;x=xAxis.getPixel(config.x);y=yAxis.getPixel(config.y);text=config.text;bgColor=config.labelBGColor;borderColor=config.labelBDColor;padding=config.padding;allowDrag=config.allowDrag;fontSize=config.labelFontSize;color=config.labelColor;radius=config.radius;dashed=config.dashed;borderThickness=config.borderThickness;dashLen=config.dashLen;dashGap=config.dashGap;borderThickness=config.borderThickness;labelCSS=config.labelCSS;attr={x:x,y:y,text:text,align:_lib.POSITION_CENTER,fill:color,"text-bound":[bgColor||_lib.BLANKSTRING,borderColor||_lib.BLANKSTRING,(0,_lib.pluckNumber)(borderThickness,1),padding,(0,_lib.pluckNumber)(radius,0),(0,_lib.pluckNumber)(dashed,0)?(0,_lib.getDashStyle)((0,_lib.pluckNumber)(dashLen,5),(0,_lib.pluckNumber)(dashGap,4)):_lib.DASH_DEF],visibility:_lib.visibleStr};lStyle={backgroundColor:bgColor,borderColor:borderColor,borderPadding:padding,fontSize:fontSize+_lib.PXSTRING,fontStyle:style.fontStyle,fontWeight:style.fontWeight,borderRadius:0,borderDash:_lib.DASH_DEF,fontFamily:style.fontFamily};(0,_lib.setLineHeight)(lStyle);SmartLabel.useEllipsesOnOverflow(chartConfig.useEllipsesWhenOverflow);SmartLabel.setStyle(lStyle);labelCSS["line-height"]=lStyle.lineHeight;config.eventArgs={link:config.link,text:text,x:x,y:y,allowdrag:allowDrag,sourceType:"labelnode"};config.props={element:{attr:attr}};config.labelCSSApplied=labelCSS;dim=SmartLabel.getOriSize(text);config.width=dim.width;config.height=dim.height;config.xPos=x;config.yPos=y}};DragNodeLabels.prototype.draw=function draw(){var dataset=this,dataStore=dataset.components.data,animationManager=dataset.getFromEnv("animationManager"),style=dataset.getFromEnv("dataLabelStyle"),config,dataObj,element,elementCheck,len=dataStore&&dataStore.length,removeDataArr=dataset.components.removeDataArr||[],removeDataArrLen=removeDataArr.length,i,dataLabelContainer,labelCSS;dataset.createContainer();dataLabelContainer=dataset.getContainer("dragLabelGroup");dataLabelContainer.css({"font-weight":style.fontWeight,"font-style":style.fontStyle,"font-size":style.fontSize,"font-family":style.fontFamily});for(i=0;i<len;i++){dataObj=dataStore[i];if(dataObj.removed){continue}config=dataObj.config;elementCheck=dataObj.graphics.element;element=animationManager.setAnimation({el:elementCheck||"text",container:dataLabelContainer,css:config.labelCSS,attr:config.props.element.attr,component:dataset});if(!elementCheck){dataObj.graphics.element=element}else{if(config.labelCSSApplied&&!labelCSS){element.removeCSS()}element.show().css(config.labelCSS)}element.data("eventArgs",config.eventArgs)}dataset.drawTracker();for(i=0;i<removeDataArrLen;i++){dataset._removeDataVisuals(removeDataArr.shift())}};DragNodeLabels.prototype.drawTracker=function drawTracker(){var dataset=this,dataStore=dataset.components.data,animationManager=dataset.getFromEnv("animationManager"),chart=dataset.getFromEnv("chart"),manager=dataset.getLinkedParent(),conf=dataset.config,trackerGroup=dataset.getContainer("dragLabelGroup"),len=dataStore&&dataStore.length,dataObj,config,padding,elemMouseDownFN=function elemMouseDownFN(){var ele=this,data=ele.data("drag-options"),dataSet=data.dataset,index=data.index,labelObj=dataSet.components.data[index];ele.data("fire_click_event",1);manager.clearLongPress();manager.triggerLabelUI(ele,labelObj)},elemMouseMoveFN=function elemMouseMoveFN(){var ele=this;if(ele.data("fire_click_event")){ele.data("fire_click_event",0);manager.clearLongPress()}},elemMouseUPFN=function elemMouseUPFN(data){var ele=this,fireClick=ele.data("fire_click_event");manager.clearLongPress();if(fireClick){chart.plotEventHandler(ele,data,"LabelClick")}},elemHoverFN=function elemHoverFN(data){var ele=this;chart.plotEventHandler(ele,data,"LabelRollover")},elemOutFN=function elemOutFN(data){var ele=this;chart.plotEventHandler(ele,data,"LabelRollout")},eventArgs,attr,allowDrag,text,trackerElement,trackerElementCheck,x,y,width,height,dragMove=function dragMove(event,data){var ele=this;dataset._labelDragMove.call(ele,event,data,chart)},dragStart=function dragStart(event){var ele=this;dataset._labelDragStart.call(ele,event,chart)},dragUp=function dragUp(event){var ele=this;dataset._labelDragUp.call(ele,event)},i;for(i=0;i<len;i++){dataObj=dataStore[i];if(dataObj.removed){continue}config=dataObj.config;padding=config.padding||0;width=config.width;height=config.height;x=config.xPos-width/2;y=config.yPos-height/2;allowDrag=config.allowDrag;text=config.text;trackerElementCheck=dataObj.graphics.trackerElement;attr={x:x-padding,y:y-padding,width:width+padding*2,height:height+padding*2,cursor:config.allowDrag?"move":_lib.BLANKSTRING,fill:TRACKER_FILL,stroke:TRACKER_FILL};eventArgs={link:config.link,text:text,x:x,y:y,allowdrag:allowDrag,sourceType:"labelnode"};trackerElement=animationManager.setAnimation({el:trackerElementCheck||"rect",container:trackerGroup,attr:attr,component:dataset});if(!trackerElementCheck){dataObj.graphics.trackerElement=trackerElement;trackerElement.mousedown(elemMouseDownFN).mousemove(elemMouseMoveFN).mouseup(elemMouseUPFN).data("viewMode",conf.viewMode).data(_lib.preDefStr.EVENTARGS,eventArgs).hover(elemHoverFN,elemOutFN);config.allowDrag&&trackerElement.drag(dragMove,dragStart,dragUp)}trackerElement.data("drag-options",{index:i,dataset:dataset})}};DragNodeLabels.prototype._labelDragStart=function _labelDragStart(){var ele=this,bBox=ele.getBBox(),data=ele.data("drag-options"),dataset=data.dataset,manager=dataset.getLinkedParent(),index=data.index,labelObj=dataset.components.data[index],labelElement=labelObj.graphics.element,dragStart=labelObj.dragStart=labelObj.dragStart||(labelObj.dragStart={});data.ox=labelElement.attr("x");data.oy=labelElement.attr("y");data.bBox=bBox;dragStart.xPos=labelObj.config.xPos;dragStart.yPos=labelObj.config.yPos;dragStart.bBox=bBox;ele.data("fire_click_event",1);ele.data("fire_dragend",0);manager.clearLongPress();manager.triggerLabelUI(ele,labelObj)};DragNodeLabels.prototype._labelDragMove=function _labelDragMove(event,positionData){var ele=this,data=ele.data("drag-options"),index=data.index,dataset=data.dataset,chart=dataset.getFromEnv("chart"),chartConfig=dataset.getFromEnv("chartConfig"),canvasLeft=chartConfig.canvasLeft,canvasRight=chartConfig.canvasRight,canvasBottom=chartConfig.canvasBottom,canvasTop=chartConfig.canvasTop,manager=dataset.getLinkedParent(),labelObj=dataset.components.data[index],labelElement=labelObj.graphics.element,dragStart=labelObj.dragStart,bBox=dragStart.bBox,dx=positionData[0],dy=positionData[1],startX=dragStart.bBox.x+dx,endX=dragStart.bBox.x2+dx,startY=dragStart.bBox.y+dy,endY=dragStart.bBox.y2+dy,yAxis=dataset.getFromEnv("yAxis"),xAxis=dataset.getFromEnv("xAxis"),xPos,yPos;if(startX<canvasLeft){dx+=canvasLeft-startX}if(endX>canvasRight){dx-=endX-canvasRight}if(startY<canvasTop){dy+=canvasTop-startY}if(endY>canvasBottom){dy-=endY-canvasBottom}dragStart.draged=true;ele.attr({x:bBox.x+dx,y:bBox.y+dy});xPos=data.ox+dx;yPos=data.oy+dy;labelElement.attr({x:data.ox+dx,y:data.oy+dy});labelObj.config.x=xAxis.getValue(xPos);labelObj.config.y=yAxis.getValue(yPos);if(!ele.data("fire_dragend")){chart.plotEventHandler(ele,event,"LabelDragStart");ele.data("fire_dragend",1)}if(ele.data("fire_click_event")){ele.data("fire_click_event",0);manager.clearLongPress()}};DragNodeLabels.prototype._labelDragUp=function _labelDragUp(event){var ele=this,data=ele.data("drag-options"),index=data.index,dataset=data.dataset,chart=dataset.getFromEnv("chart"),xAxis=chart.getChildren("xAxis")[0],yAxis=chart.getChildren("yAxis")[0],manager=dataset.getLinkedParent(),sourceEvent="labeldragend",labelObj=dataset.components.data[index],dragStart=labelObj.dragStart,eventArgs=ele.data(EVENTARGS);eventArgs.x=xAxis.getValue(ele.attr("x"));eventArgs.y=yAxis.getValue(ele.attr("y"));dragStart.draged=false;if(ele.data("fire_dragend")){chart.fireChartInstanceEvent("chartupdated",(0,_lib.extend2)({sourceEvent:sourceEvent},eventArgs),event);chart.fireChartInstanceEvent("chartupdated",eventArgs,event);chart.plotEventHandler(ele,event,sourceEvent)}manager.clearLongPress()};DragNodeLabels.prototype.removeData=function removeData(index,stretch){var dataset=this,components=dataset.components,dataStore=components.data;components.removeDataArr=dataStore.splice(index,stretch)};DragNodeLabels.prototype.trimData=function trimData(datasetJSON){if(!this.config.JSONData){return}var dataSet=this,prevData=dataSet.config.JSONData,prevDataLength=prevData&&prevData.length,currDataLength=datasetJSON.label&&datasetJSON.label.length||0,dataDiff=prevDataLength-currDataLength;if(dataDiff>0){dataSet.removeData(currDataLength,dataDiff)}};return DragNodeLabels}(_dragnode2["default"]);exports["default"]=DragNodeLabels},553:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]={"initial.dataset.dragNodeLabels":function initialDatasetDragNodeLabels(){return{"group.appearing":function groupAppearing(){return[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"plot"}]}}}}},554:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);var _dragablelabels=__webpack_require__(552);var _dragablelabels2=_interopRequireDefault(_dragablelabels);var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var CLEAR_TIME_1000=1e3,shapesInfo={circle:"circ",rectangle:"rect",polygon:"poly"},UNDEF=void 0,INPUT=_lib.preDefStr.INPUT,BLANKSPACE=_lib.preDefStr.BLANKSPACE,BLANK=_lib.preDefStr.BLANK,COLOR_FFFFFF="ffffff",PX=_lib.preDefStr.PX,COLOR_000000="000000",OPTIONSTR="<option>",OPTIONCLOSESTR="</option>",LABEL=_lib.preDefStr.LABEL,DATASET=_lib.preDefStr.DATASET,COMMA=_lib.preDefStr.COMMA,DATASETSTATE="appearing",defined=function defined(obj){return obj!==UNDEF&&obj!==null},makeShapeSpecificModifications=function makeShapeSpecificModifications(eventArgs,dataObj){switch(eventArgs.shape){case _lib.preDefStr.CIRCLE:eventArgs.radius=dataObj.radius;break;case _lib.preDefStr.POLYGON:eventArgs.radius=dataObj.radius;eventArgs.sides=dataObj.numsides;break;default:eventArgs.width=dataObj.width;eventArgs.height=dataObj.height;break}},_showNodeUpdateUI=function(){var manageShapeFields=function manageShapeFields(){var ui=this.getGraphicalElement("cacheUpdateUI"),fields=ui.fields,ele=fields.shape,shapeFields=["rectWidth","rectHeight","circPolyRadius","polySides"],i=shapeFields.length,key;while(i--){key=shapeFields[i];if(/rect|poly|circ/gi.test(key)){ui.labels[key].hide();ui.fields[key].hide()}if(new RegExp((0,_lib.pluck)(ele.val(),"rect"),"ig").test(key)){ui.labels[key].show();ui.fields[key].show()}}},showGivenColor=function showGivenColor(){var ui=this.getGraphicalElement("cacheUpdateUI"),fields=ui.fields,color=(0,_libGraphics.getValidColor)(fields.color.val());color&&fields.colorOut.css({background:(0,_libGraphics.parseColor)(color)})},manageImageFields=function manageImageFields(animate){var manager=this,ui=manager.getGraphicalElement("cacheUpdateUI"),animationManager=manager.getFromEnv("animationManager"),fields=ui.fields,ele=fields.image,chartHeight=manager.getFromEnv("chartConfig").height,padding=5,isChecked=ele.val(),imgKey=["imgWidth","imgHeight","imgAlign","imgUrl"],dialogHeight,i,key;dialogHeight=isChecked?250:215;if(animate){ui.ok.hide();ui.cancel.hide();ui.removeItem.hide();ui.error.hide()}i=imgKey.length;while(!isChecked&&i--){key=imgKey[i];ui.labels[key].hide();ui.fields[key].hide()}animate&&animationManager.setAnimationState("uichange");animationManager.setAnimation({el:ui.dialog,state:"updating",attr:{top:(chartHeight-dialogHeight)/2,height:dialogHeight},component:manager,label:"uidialog",callback:function callback(){i=imgKey.length;while(i--&&isChecked){key=imgKey[i];ui.labels[key].show();ui.fields[key].show()}ui.ok.attr({y:dialogHeight-23-padding}).show();ui.cancel.attr({y:dialogHeight-23-padding}).show();ui.removeItem.attr({y:dialogHeight-23-padding});ui.error.attr({y:dialogHeight-23-padding+4}).show();if(ui.edit){ui.removeItem.show()}else{ui.removeItem.hide()}}})};return function(config,edit){var manager=this,ui=manager.getGraphicalElement("cacheUpdateUI"),inCanvasStyle=manager.getFromEnv("style").inCanvasStyle||{},paper=manager.getFromEnv("paper"),borderStyle="1px solid #cccccc",inputStyle={width:80+PX,border:borderStyle,fontSize:10+PX,lineHeight:15+PX,padding:2+PX,fontFamily:inCanvasStyle.fontFamily},noUIfound,labelStyle={textAlign:"right"},fields=ui&&ui.fields,labels=ui&&ui.labels,dialog,onSubmit=function onSubmit(event){event.stopPropagation();var fields=ui&&ui.fields,edit=ui.edit,xMin,yMin,shape=fields.shape.val(),idFound,id,submitObj;xMin=manager.getFromEnv("xAxis").getLimit().min;yMin=manager.getFromEnv("yAxis").getLimit().min;if(fields){submitObj={x:(0,_lib.getFirstValue)(fields.x.val(),xMin),y:(0,_lib.getFirstValue)(fields.y.val(),yMin),id:id=fields.id.val(),datasetId:fields.dataset.val(),name:fields.label.val(),tooltext:fields.tooltip.val(),color:fields.color.val(),alpha:fields.alpha.val(),labelalign:fields.labelalign.val(),allowdrag:fields.draggable.val(),imagenode:fields.image.val(),imagewidth:fields.imgWidth.val(),imageheight:fields.imgHeight.val(),imagealign:fields.imgAlign.val(),imageurl:fields.imgUrl.val(),link:fields.link.val()};switch(shape){case"circ":submitObj.shape=_lib.preDefStr.CIRCLE;submitObj.radius=fields.circPolyRadius.val();break;case"poly":submitObj.shape=_lib.preDefStr.POLYGON;submitObj.radius=fields.circPolyRadius.val();submitObj.numsides=fields.polySides.val();break;default:submitObj.shape=_lib.preDefStr.RECTANGLE;submitObj.width=fields.rectWidth.val();submitObj.height=fields.rectHeight.val();break}if(manager.getNode(submitObj.id)){idFound=true}if(!idFound||edit!==UNDEF){id=submitObj.datasetId;if(id!==_lib.BLANKSTRING||edit){id=Number(id);edit?manager.updateNode(submitObj):manager.addNode(submitObj);ui.hide();ui.visible=false}return}else{ui.error.attr({text:"ID already exist."});fields.label.focus()}}ui.enableFields()},onCancel=function onCancel(event){event.stopPropagation();ui.hide();ui.visible=false;ui.enableFields();ui.error.attr({text:BLANK});ui.visible=false},onDelete=function onDelete(event){event.stopPropagation();manager.deleteNode(ui.fields.id.val());ui.hide();ui.visible=false};manager.getFromEnv("animationManager").setAnimationState("uichange");if(!ui){noUIfound=true}ui=manager.addGraphicalElement("cacheUpdateUI",manager.createHtmlDialog(350,215,onSubmit,onCancel,onDelete,ui));if(noUIfound){dialog=ui.dialog;labels=ui.labels={};fields=ui.fields={}}ui.config=config;ui.edit=edit;if(!ui.error){ui.error=paper.html("span",{color:"ff0000",x:30,y:228},UNDEF,dialog)}if(!ui.enableFields){ui.enableFields=function(){var key;for(key in config){if(config[key]&&config[key].disabled&&fields[key]){fields[key].element.removeAttribute("disabled")}}}}if(!ui.clearFields){ui.clearFields=function(){var key,fields=ui.fields;for(key in fields){if(!fields[key].element.disabled){fields[key].element.value=_lib.BLANKSTRING}}}}(0,_lib.fcEach)(this.nodeUpdateUIDefinition,function(def){var field,key=def.key,attrs={},confObj=config[key]||{},innerHTML,value;!labels[key]&&(labels[key]=paper.html(LABEL,{x:def.x,y:def.y,width:def.labelWidth||45,text:def.text},labelStyle,dialog));if(def.noInput){return}field=fields[key];if(!field){inputStyle.border=def.type=="checkbox"?BLANK:borderStyle;field=fields[key]=paper.html(def.inputType||"input",{x:def.labelWidth&&def.labelWidth+5||50,y:-2+(def.inputPaddingTop||0),width:def.inputWidth||50,name:key||_lib.BLANKSTRING},inputStyle);if(def.inputType!=="select"){field.attr({type:def.type||"text"}).on("keyup",ui.handleKeyPress)}field.add(labels[key])}if(defined(innerHTML=(0,_lib.getFirstValue)(confObj.innerHTML,def.innerHTML))){attrs.innerHTML=innerHTML}if(confObj.disabled){attrs.disabled="disabled"}else{field.element&&(field.element.disabled=false)}field.attr(attrs);if(defined(value=(0,_lib.getFirstValue)(confObj.value,def.value))){field.val(value)}key==="shape"&&field.on("change",function(){manageShapeFields.call(manager)});key==="image"&&field.on("click",function(){manageImageFields.call(manager,true)});key==="color"&&field.on("keyup",function(){showGivenColor.call(manager)})});showGivenColor.call(this);manageImageFields.call(this);manageShapeFields.call(this);ui.visible=true;ui.fields[edit?LABEL:"id"].focus()}}();var DragNodeGroup=function(_ComponentInterface){_inherits(DragNodeGroup,_ComponentInterface);function DragNodeGroup(){_classCallCheck(this,DragNodeGroup);var _this=_possibleConstructorReturn(this,_ComponentInterface.call(this));var manager=_this;manager.setState("visible",true);manager.connectorUpdateUIDefinition=[{key:"fromid",text:"Connect From",inputType:"select",x:10,y:15,labelWidth:80,inputWidth:100},{key:"toid",text:"Connect To",inputType:"select",x:10,y:40,labelWidth:80,inputWidth:100},{key:"arratstart",text:"Arrow At Start",x:200,y:15,type:"checkbox",inputPaddingTop:3,labelWidth:80,inputWidth:15},{key:"arratend",text:"Arrow At End",x:200,y:40,type:"checkbox",inputPaddingTop:3,labelWidth:80,inputWidth:15},{key:LABEL,text:"Label",x:10,y:75,labelWidth:40,inputWidth:120},{key:"id",text:"Node ID",x:190,y:75,inputWidth:55},{key:"color",text:"Color",x:10,y:100,labelWidth:40,inputWidth:35},{key:"alpha",text:"Alpha",x:110,y:100,inputWidth:25,labelWidth:35},{key:"strength",text:"Strength",x:190,y:100,inputWidth:55,val:"0.1"},{key:"url",text:"Link",x:10,y:125,labelWidth:40,inputWidth:120},{key:"tooltext",text:"Tooltip",x:190,y:125,labelWidth:40,inputWidth:60},{key:"dashed",text:"Dashed",x:10,y:150,type:"checkbox",inputPaddingTop:3,inputWidth:15,labelWidth:40},{key:"dashgap",text:"Dash Gap",x:85,y:150,labelWidth:60,inputWidth:25},{key:"dashlen",text:"Dash Length",x:190,y:150,labelWidth:70,inputWidth:30}];manager.nodeUpdateUIDefinition=[{key:"id",text:"Id",inputWidth:60,x:10,y:15},{key:DATASET,text:DATASET,inputType:"select",inputWidth:110,innerHTML:UNDEF,x:170,y:15},{key:"x",text:"Value",x:10,y:40,inputWidth:21},{key:"y",text:COMMA,x:88,y:40,inputWidth:21,labelWidth:5},{text:"(x, y)",x:125,y:40,labelWidth:33,noInput:true},{key:"tooltip",text:"Tooltip",inputWidth:105,x:170,y:40},{key:LABEL,text:"Label",inputWidth:92,x:10,y:65},{key:"labelalign",text:"Align",labelWidth:70,inputWidth:110,inputType:"select",innerHTML:'<option></option><option value="top">Top</option><option value="middle">Middle</option>'+'<option value="bottom">Bottom</option>',x:145,y:63},{key:"color",text:"Color",x:10,y:90,inputWidth:60},{key:"colorOut",innerHTML:"&nbsp;",x:85,y:90,inputWidth:15,inputType:"span"},{key:"alpha",text:"Alpha",x:170,y:90,inputWidth:20},{key:"draggable",text:"Allow Drag",value:true,inputWidth:20,x:250,y:90,labelWidth:58,inputPaddingTop:3,type:"checkbox"},{key:"shape",text:"Shape",inputType:"select",inputWidth:97,innerHTML:'<option value="rect">Rectangle</option><option value="circ">Circle</option><option '+'value="poly">Polygon</option>',x:10,y:115},{key:"rectHeight",text:"Height",x:170,y:115,inputWidth:20},{key:"rectWidth",text:"Width",x:255,y:115,inputWidth:20},{key:"circPolyRadius",text:"Radius",x:170,y:115,inputWidth:20},{key:"polySides",text:"Sides",x:255,y:115,inputWidth:20},{key:"link",text:"Link",x:10,y:140,inputWidth:92},{key:"image",text:"Image",type:"checkbox",inputPaddingTop:4,inputWidth:20,x:10,y:170},{key:"imgUrl",text:"URL",inputWidth:105,x:170,y:170},{key:"imgWidth",text:"Width",inputWidth:20,x:10,y:195},{key:"imgHeight",text:"Height",inputWidth:20,x:82,y:195},{key:"imgAlign",text:"Align",inputType:"select",inputWidth:75,innerHTML:'<option value="top">Top</option><option value="middle">Middle</option><option '+'value="bottom">Bottom</option>',x:170,y:195}];manager.labelUpdateUIDefinition=[{key:LABEL,text:"Label*",x:10,y:15,inputWidth:235},{key:"size",text:"Size",x:10,y:40},{key:"padding",text:"Padding",x:10,y:65},{key:"x",text:"Position",x:120,y:65,labelWidth:70,inputWidth:25},{key:"y",text:COMMA,x:225,y:65,labelWidth:10,inputWidth:25},{key:"xy",text:"(x, y)",x:260,y:65,noInput:true},{key:"allowdrag",text:"Allow Drag",x:120,y:40,inputType:"checkbox",inputPaddingTop:3,inputWidth:15,labelWidth:70,val:1},{key:"color",text:"Color",x:10,y:90},{key:"alpha",text:"Alpha",x:145,y:90,inputWidth:30,val:_lib.preDefStr.HUNDREDSTRING},{key:"bordercolor",text:"Border Color",x:10,y:125,labelWidth:100},{key:"bgcolor",text:"Background Color",x:10,y:150,labelWidth:100}];return _this}DragNodeGroup.prototype.configure=function configure(){this.setState("configured",true)};DragNodeGroup.prototype.getType=function getType(){return"group"};DragNodeGroup.prototype.getName=function getName(){return"dragNodeGroup"};DragNodeGroup.prototype.showLabelUpdateUI=function showLabelUpdateUI(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var manager=this,paper=manager.getFromEnv("paper"),inCanvasStyle=manager.getFromEnv("style").inCanvasStyle||{},ui=manager.getGraphicalElement("cacheLabelUpdateUI"),inputStyle={border:"1px solid #cccccc",fontSize:10+PX,lineHeight:15+PX,fontFamily:inCanvasStyle.fontFamily,padding:2+PX},labelStyle={textAlign:"right"},noUIfound,fields=ui&&ui.fields,labels=ui&&ui.labels,field,value,dialog;manager.getFromEnv("animationManager").setAnimationState("uichange");if(!ui){noUIfound=true}ui=manager.addGraphicalElement("cacheLabelUpdateUI",manager.createHtmlDialog(315,205,function(){var fields=ui&&ui.fields,submitObj;if(fields){submitObj={text:fields.label.val(),x:fields.x.val(),y:fields.y.val(),color:fields.color.val(),alpha:fields.alpha.val(),bgcolor:fields.bgcolor.val(),bordercolor:fields.bordercolor.val(),fontsize:fields.size.val(),allowdrag:fields.allowdrag.val(),padding:fields.padding.val()};if(submitObj.text){manager.addLabel&&manager.addLabel(submitObj);ui.hide()}else{ui.error.attr({text:"Label cannot be blank."});fields.label.focus()}}},function(){ui.error.attr({text:_lib.BLANKSTRING});ui.hide()},UNDEF,ui));if(noUIfound){dialog=ui.dialog;labels=ui.labels={};fields=ui.fields={}}(0,_lib.fcEach)(manager.labelUpdateUIDefinition,function(def){var key=def.key;if(!labels[key]){labels[key]=paper.html(LABEL,{x:def.x,y:def.y,width:def.labelWidth||45,text:def.text},labelStyle,dialog)}if(def.noInput){return}if(!(field=fields[key])){field=fields[key]=paper.html(INPUT,{y:-2+(def.inputPaddingTop||0),x:def.labelWidth&&def.labelWidth+5||50,width:def.inputWidth||50,type:def.inputType||"text",name:key||_lib.BLANKSTRING},inputStyle,labels[key]).on("keyup",ui.handleKeyPress)}if(defined(value=(0,_lib.getFirstValue)(options[key],def.val))){field.val(value)}});if(!ui.error){ui.error=paper.html("span",{color:"ff0000",x:10,y:180},UNDEF,dialog)}ui.fields.label.focus()};DragNodeGroup.prototype.restoreData=function restoreData(){var manager=this,datasets=manager.getChildren("dataset"),chart=manager.getFromEnv("chart"),legend=manager.getFromEnv("legend"),showlegend=(0,_lib.pluckNumber)(chart.config.showlegend,0),connectors=manager.getChildren("connector"),jsonData=chart.getFromEnv("dataSource"),datasetsJSON=jsonData.dataset,connectorsJSON=jsonData.connectors,labels=jsonData.labels,i,dataset,dataStore,dataObj,graphics,labelObj,len,labelSet=manager.getChildren("labels"),removeElements=function removeElements(dataStore){var j,ele;for(j=0;j<(dataStore&&dataStore.length);j++){dataObj=dataStore[j];delete dataObj.removed;if(dataObj.config.add){graphics=dataStore[j].graphics;for(ele in graphics){graphics[ele].remove()}dataStore.splice(j,1);j--}}},restoreDatasets=function restoreDatasets(k,datasets,json){dataset=datasets[k];dataStore=dataset.components.data;removeElements(dataStore);dataset.drawn=false;dataset.configure(json[k])};for(i=0,len=datasets&&datasets.length;i<len;i++){restoreDatasets(i,datasets,datasetsJSON)}for(i=0,len=connectors&&connectors.length;i<len;i++){restoreDatasets(i,connectors,connectorsJSON)}if(labelSet&&labelSet.length){labelObj=labelSet[0];dataStore=labelObj.components.data;dataStore&&removeElements(dataStore);labelObj.configure(labels)}chart.fireChartInstanceEvent("dataRestored");manager.asyncDraw();showlegend&&legend.asyncDraw()};DragNodeGroup.prototype.addLabel=function addLabel(labelObj){var manager=this,labelDS=manager.getChildren("labels"),dataStore,sourceEvent="labeladded",eventArgs,chart=manager.getFromEnv("chart"),len;labelObj.add=true;if(labelDS){labelDS=labelDS[0]}else{(0,_lib.componentFactory)(manager,_dragablelabels2["default"],"labels",1,[{}]);labelDS=manager.getChildren("labels")[0]}dataStore=labelDS.components.data||(labelDS.components.data=[]);len=dataStore.length;labelDS._setConfigure(len,labelObj);eventArgs={text:labelObj.text,x:labelObj.x,y:labelObj.y,allowdrag:labelObj.allowdrag,sourceType:"labelnode",link:labelObj.link};chart.fireChartInstanceEvent("chartupdated",(0,_lib.extend2)({sourceEvent:sourceEvent},eventArgs));chart.fireChartInstanceEvent(sourceEvent,eventArgs);labelDS.asyncDraw()};DragNodeGroup.prototype.showNodeAddUI=function showNodeAddUI(){var manager=this,datasets=manager.getChildren("dataset"),datasetDropDownStr=_lib.BLANKSTRING,str1='<option value="',str2='">',str3="</option>",conf,dataset,type,i;for(i=0;i<datasets.length;i++){dataset=datasets[i]||{};conf=dataset.config;type=dataset.getName();if(type==="dragNode"){datasetDropDownStr+=str1+dataset.config.datasetIndex+str2+(conf.name!==BLANK&&conf.name!==UNDEF&&conf.name+_lib.COMMASTRING+BLANKSPACE||BLANK)+dataset.config.datasetIndex+str3}}manager.showNodeUpdateUI({dataset:{innerHTML:datasetDropDownStr}})};DragNodeGroup.prototype.showConnectorAddUI=function showConnectorAddUI(){var manager=this,nodes=manager.getNode(),nodeStr=_lib.BLANKSTRING,str1='<option value="',str2='">',str3="</option>",id,i,config,node;for(i in nodes){node=nodes[i];config=node.config;id=config.id;nodeStr+=str1+id+str2+id+str3}manager.showConnectorUpdateUI({fromid:{innerHTML:nodeStr},toid:{innerHTML:nodeStr}})};DragNodeGroup.prototype.showConnectorUpdateUI=function showConnectorUpdateUI(config,edit){var manager=this,renderer=manager.getFromEnv("paper"),inCanvasStyle=manager.getFromEnv("style").inCanvasStyle||{},uiName="cacheConnectorUpdateUI"+(edit?"edit":"new"),ui=manager.getGraphicalElement(uiName),inputStyle={border:"1px solid #cccccc",fontSize:10+PX,lineHeight:15+PX,fontFamily:inCanvasStyle.fontFamily,padding:2+PX},noUIfound,labelStyle={textAlign:"right"},fields=ui&&ui.fields,labels=ui&&ui.labels,innerHTML,field,value,onDelete=function onDelete(){var fields=ui&&ui.fields,config={from:fields.fromid.val(),to:fields.toid.val(),id:fields.id.val()};manager.deleteConnector(config);ui.hide()},dialog;manager.getFromEnv("animationManager").setAnimationState("uichange");if(!ui){noUIfound=true}ui=manager.addGraphicalElement(uiName,manager.createHtmlDialog(315,215,function(){var fields=ui&&ui.fields,submitObj;if(fields){submitObj={from:fields.fromid.val(),to:fields.toid.val(),id:fields.id.val(),label:fields.label.val(),color:fields.color.val(),alpha:fields.alpha.val(),link:fields.url.val(),tooltext:fields.tooltext.val(),strength:fields.strength.val(),arrowatstart:fields.arratstart.val(),arrowatend:fields.arratend.val(),dashed:fields.dashed.val(),dashlen:fields.dashlen.val(),dashgap:fields.dashgap.val()};if(submitObj.from){if(submitObj.to){if(submitObj.from!=submitObj.to){edit?manager.editConnector(submitObj):manager.addConnector(submitObj);ui.enableFields();ui.hide();ui.clearFields()}else{ui.error.attr({text:"Connector cannot start and end at the same node!"});fields.fromid.focus()}}else{ui.error.attr({text:"Please select a valid connector end."});fields.toid.focus()}}else{ui.error.attr({text:"Please select a valid connector start."});fields.fromid.focus()}}},function(){ui.error.attr({text:_lib.BLANKSTRING});ui.enableFields();ui.hide()},onDelete,ui));if(noUIfound){dialog=ui.dialog;labels=ui.labels={};fields=ui.fields={}}ui.config=config;if(!ui.enableFields){ui.enableFields=function(){var key;for(key in config){if(config[key]&&config[key].disabled&&fields[key]){fields[key].element.removeAttribute("disabled")}}}}if(!ui.clearFields){ui.clearFields=function(){var key,fields=ui.fields;for(key in fields){if(!fields[key].element.disabled){fields[key].element.value=_lib.BLANKSTRING}}}}(0,_lib.fcEach)(manager.connectorUpdateUIDefinition,function(def){var key=def.key,attr=config[key]||{};if(!labels[key]){labels[key]=renderer.html(LABEL,{x:def.x,y:def.y,width:def.labelWidth||45,text:def.text},labelStyle,dialog)}if(def.noInput){return}if(!(field=fields[key])){field=fields[key]=renderer.html(def.inputType||INPUT,{y:-2+(def.inputPaddingTop||0),x:def.labelWidth&&def.labelWidth+5||50,width:def.inputWidth||50,name:key||_lib.BLANKSTRING},inputStyle);if(def.inputType!=="select"){field.attr({type:def.type||"text"}).on("keyup",ui.handleKeyPress)}field.add(labels[key])}if(innerHTML=(0,_lib.pluck)(attr.innerHTML,def.innerHTML)){field.attr({innerHTML:innerHTML})}if((value=(0,_lib.pluck)(attr.val,def.val))!==UNDEF){field.val(value)}if(attr.disabled){field.attr({disabled:"disabled"})}else{field.element&&(field.element.disabled=false)}});ui.checkDash=function(){var checked=fields.dashed&&fields.dashed.val(),showHideFn=checked?"show":"hide";labels.dashgap&&labels.dashgap[showHideFn]();fields.dashgap&&fields.dashgap[showHideFn]();labels.dashlen&&labels.dashlen[showHideFn]();fields.dashlen&&fields.dashlen[showHideFn]()};ui.checkDash();fields.dashed.on("click",ui.checkDash);if(!ui.error){ui.error=renderer.html("span",{color:"ff0000",x:10,y:170},UNDEF,dialog)}ui.removeItem[edit?"show":"hide"]()};DragNodeGroup.prototype.showNodeUpdateUI=function showNodeUpdateUI(){return _showNodeUpdateUI.apply(this,arguments)};DragNodeGroup.prototype.addNode=function addNode(dataObj){var manager=this,datasets=manager.getChildren("dataset"),datasetId=dataObj.datasetId,len=datasets.length,dataset,index,idFound,id,i,eventArgs,sourceEvent="nodeAdded",chart=manager.getFromEnv("chart"),dataStore;for(i=0;i<len;i++){dataset=datasets[i]||{};id=dataset.config.datasetIndex;if(id!==UNDEF){id=id.toString()}if(id===datasetId){idFound=true;break}}if(dataset&&idFound){dataStore=dataset.components.data;dataObj.add=true;index=dataStore.length;eventArgs={index:index,dataIndex:index,link:dataObj.link,y:dataObj.y,x:dataObj.x,shape:dataObj.shape,label:dataObj.name,toolText:dataObj.tooltext,id:dataObj.id,datasetIndex:dataset.config.datasetIndex,datasetName:dataset.config.seriesname,sourceType:"dataplot"};makeShapeSpecificModifications(eventArgs,dataObj);dataset._setConfigure(index,dataObj);dataset.parsePlotAttributes(index);dataset._drawNode(index);dataset.setState("dirty",true);chart.fireChartInstanceEvent("chartupdated",(0,_lib.extend2)({sourceEvent:sourceEvent},eventArgs));chart.fireChartInstanceEvent(sourceEvent,eventArgs);dataset._setupKdTree()}};DragNodeGroup.prototype.updateNode=function updateNode(updateObj){var groupManager=this,datasets=groupManager.getChildren("dataset"),len=datasets.length,dataLen,idFound,dataset,dataObj,i,dataStore,eventArgs,sourceEvent="nodeupdated",chart=groupManager.getFromEnv("chart"),j;updateObj.update=true;for(i=0;i<len;i++){dataset=datasets[i];dataStore=dataset.components.data||[];dataLen=dataStore.length;for(j=0;j<dataLen;j++){dataObj=dataStore[j];if(dataObj.config.id===updateObj.id){idFound=true;break}}}if(dataset&&idFound){eventArgs={index:j,dataIndex:j,link:updateObj.link,y:updateObj.y,x:updateObj.x,shape:updateObj.shape,label:updateObj.name,toolText:updateObj.tooltext,id:updateObj.id,datasetIndex:dataset.config.datasetIndex,datasetName:dataset.config.seriesname,sourceType:"dataplot"};makeShapeSpecificModifications(eventArgs,updateObj);dataset._setConfigure(j,updateObj);dataset.parsePlotAttributes(j);dataset._drawNode(j);dataset.setState("dirty",true);chart.fireChartInstanceEvent("chartupdated",(0,_lib.extend2)({sourceEvent:sourceEvent},eventArgs));chart.fireChartInstanceEvent(sourceEvent,eventArgs);dataset._setupKdTree()}};DragNodeGroup.prototype.deleteNode=function deleteNode(id){var manager=this,node=manager.getNode(id),dataset,dataStore,startConnectors,endConnectors,i,graphics,connector,dataObj,prop,len,eventArgs,config,idFound,sourceEvent="nodedeleted",chart=manager.getFromEnv("chart"),removeElements=function removeElements(graphics){for(var i in graphics){graphics[i].remove()}};if(node){dataset=node.dataset;dataStore=dataset.components.data;startConnectors=node.config.startConnectors;endConnectors=node.config.endConnectors;len=dataStore.length;for(i=0;i<len;i++){dataObj=dataStore[i];if(dataObj.config.id===id){idFound=true;break}}if(idFound===true){graphics=dataObj.graphics;removeElements(graphics);for(prop in startConnectors){connector=startConnectors[prop]||{};graphics=connector.graphics;removeElements(graphics);delete connector.graphics;connector.removed=true}for(prop in endConnectors){connector=endConnectors[prop]||{};graphics=connector.graphics;removeElements(graphics);delete connector.graphics;connector.removed=true}dataObj.removed=true;config=dataObj.config||{};eventArgs={index:i,dataIndex:i,link:config.link,y:config.y,x:config.x,shape:config.shape,label:config.displayValue,toolText:config.toolText,id:config.id,datasetIndex:dataset.config.datasetIndex,datasetName:dataset.config.seriesname,sourceType:"dataplot"};makeShapeSpecificModifications(eventArgs,{width:config.width,height:config.height,radius:config.radius,numsides:config.numSides});chart.fireChartInstanceEvent("chartupdated",(0,_lib.extend2)({sourceEvent:sourceEvent},eventArgs));chart.fireChartInstanceEvent(sourceEvent,eventArgs);dataset._setupKdTree()}}};DragNodeGroup.prototype.addConnector=function addConnector(connectorObj){var manager=this,connectors=manager.getChildren("connector")[0],data=connectors.components.data,sourceEvent="connectoradded",eventArgs,chart=manager.getFromEnv("chart"),length=data.length;connectorObj.add=true;connectors._setConfigure(length,connectorObj);eventArgs={arrowAtEnd:Boolean(connectorObj.arrowatend),arrowAtStart:Boolean(connectorObj.arrowatstart),fromNodeId:connectorObj.from,id:connectorObj.id,label:connectorObj.label,link:connectorObj.connectorLink,sourceType:"connector",toNodeId:connectorObj.to};chart.fireChartInstanceEvent("chartupdated",(0,_lib.extend2)({sourceEvent:sourceEvent},eventArgs));chart.fireChartInstanceEvent(sourceEvent,eventArgs);connectors.asyncDraw()};DragNodeGroup.prototype.editConnector=function editConnector(connectorObj){var manager=this,from=connectorObj.from,to=connectorObj.to,connectorSets=manager.getChildren("connector"),i,conLen,data,dataObj,fromId,toId,j,idFound,connectors,config,eventArgs,chart=manager.getFromEnv("chart"),sourceEvent="connectorupdated",len=connectorSets.length;for(i=0;i<len;i++){connectors=connectorSets[i];data=connectors&&connectors.components.data||[];conLen=data.length;for(j=0;j<conLen;j++){dataObj=data[j];config=dataObj.config;fromId=config.from;toId=config.to;if(fromId===from&&toId===to){idFound=true;break}}}connectorObj.update=true;if(idFound){connectors._setConfigure(j,connectorObj);eventArgs={arrowAtEnd:Boolean(connectorObj.arrowatend),arrowAtStart:Boolean(connectorObj.arrowatstart),fromNodeId:connectorObj.from,id:connectorObj.id,label:connectorObj.label,link:connectorObj.link,sourceType:"connector",toNodeId:connectorObj.to};chart.fireChartInstanceEvent("chartupdated",(0,_lib.extend2)({sourceEvent:sourceEvent},eventArgs));chart.fireChartInstanceEvent(sourceEvent,eventArgs);connectors.asyncDraw()}};DragNodeGroup.prototype.deleteConnector=function deleteConnector(config){var manager=this,from=config.from,to=config.to,connectorSets=manager.getChildren("connector"),i,j,dataObj,dataStore,dataLen,connFound=false,connectors,eventArgs,connConfig,len=connectorSets.length,sourceEvent="connectordeleted",chart=manager.getFromEnv("chart"),removeElements=function removeElements(graphics){var prop;for(prop in graphics){graphics[prop].remove()}};for(i=0;i<len;i++){connectors=connectorSets[i];dataStore=connectors.components.data;dataLen=dataStore.length;for(j=0;j<dataLen;j++){dataObj=dataStore[j];if(dataObj.config.from===from&&dataObj.config.to===to){connFound=true;break}}}if(connFound){connConfig=dataObj.config||{};eventArgs={arrowAtEnd:connConfig.arrowAtEnd,arrowAtStart:connConfig.arrowAtStart,fromNodeId:connConfig.from,id:connConfig.id,label:connConfig.label,link:connConfig.connectorLink,sourceType:"connector",toNodeId:connConfig.to};removeElements(dataObj.graphics);delete dataObj.graphics;dataObj.removed=true;chart.fireChartInstanceEvent("chartupdated",(0,_lib.extend2)({sourceEvent:sourceEvent},eventArgs));chart.fireChartInstanceEvent(sourceEvent,eventArgs)}};DragNodeGroup.prototype.createHtmlDialog=function createHtmlDialog(dialogWidth,dialogHeight,onsubmit,oncancel,onremove,cacheUI){var manager=this,conf=manager.getFromEnv("chartConfig"),container=manager.getFromEnv("chart-container"),inCanvasStyle=manager.getFromEnv("style").inCanvasStyle||{},chartWidth=Number(conf.width),chartHeight=Number(conf.height),animationManager=manager.getFromEnv("animationManager"),padding=5,uiok,uicancel,uiremove,dialogAttrs,okAttrs,cancelAttrs,removeAttrs,buttonStyle={color:(0,_lib.hashify)(inCanvasStyle.color),textAlign:"center",paddingTop:1+PX,border:"1px solid #cccccc",borderRadius:4+PX,cursor:_lib.preDefStr.POINTER,_cursor:"hand",backgroundColor:_lib.HASHSTRING+COLOR_FFFFFF,zIndex:21,"-webkit-border-radius":4+PX},ui=cacheUI,attrObj;attrObj={width:chartWidth,height:chartHeight};if(!cacheUI){attrObj.fill="transparent";attrObj.type="div"}ui=animationManager.setAnimation({el:cacheUI||"html",attr:attrObj,component:manager,label:"ui",state:DATASETSTATE,css:{fontSize:10+PX,lineHeight:15+PX,fontFamily:inCanvasStyle.fontFamily,display:"block"},container:!cacheUI&&container});attrObj={width:chartWidth,height:chartHeight,opacity:.3};if(!ui.veil){attrObj.fill=COLOR_000000;attrObj.type="div"}ui.veil=animationManager.setAnimation({el:ui.veil||"html",attr:attrObj,component:manager,state:DATASETSTATE,label:"uiveil",container:!ui.veil&&ui});dialogAttrs={x:(chartWidth-dialogWidth)/2,y:(chartHeight-dialogHeight)/2,width:dialogWidth,height:dialogHeight};if(!ui.dialog){dialogAttrs.fill="efefef";dialogAttrs.strokeWidth=1;dialogAttrs.stroke=COLOR_000000;dialogAttrs.type="div"}ui.dialog=animationManager.setAnimation({el:ui.dialog||"html",attr:dialogAttrs,component:manager,state:DATASETSTATE,label:"uidialog",container:!ui.dialog&&ui,css:{borderRadius:5+PX,boxShadow:"1px 1px 3px #000000","-webkit-border-radius":5+PX,"-webkit-box-shadow":"1px 1px 3px #000000",filter:'progid:DXImageTransform.Microsoft.Shadow(Strength=4, Direction=135, Color="#000000")'}});okAttrs={x:dialogWidth-70-padding,y:dialogHeight-23-padding,width:65,height:17};if(!ui.ok){okAttrs.text="Submit";okAttrs.tabIndex=1;okAttrs.type="div"}uiok=animationManager.setAnimation({el:ui.ok||"html",state:DATASETSTATE,attr:okAttrs,component:manager,label:"uiok",css:buttonStyle,container:!ui.ok&&ui.dialog});!ui.ok&&(ui.ok=uiok)&&uiok.on("mousedown",onsubmit);cancelAttrs={x:dialogWidth-140-padding,y:dialogHeight-23-padding,width:65,height:17};if(!ui.cancel){cancelAttrs.text="Cancel";cancelAttrs.tabIndex=2;cancelAttrs.type="div"}uicancel=animationManager.setAnimation({el:ui.cancel||"html",state:DATASETSTATE,attr:cancelAttrs,component:manager,label:"uicancel",css:buttonStyle,container:!ui.cancel&&ui.dialog});!ui.cancel&&(ui.cancel=uicancel)&&uicancel.on("mousedown",oncancel);removeAttrs={x:dialogWidth-210-padding,y:dialogHeight-23-padding,width:65,height:17};if(!ui.removeItem){removeAttrs.text="Delete";removeAttrs.tabIndex=3;removeAttrs.type="div"}uiremove=animationManager.setAnimation({el:ui.removeItem||"html",state:DATASETSTATE,attr:removeAttrs,component:manager,label:"uiremove",css:buttonStyle,container:!ui.removeItem&&ui.dialog});!ui.removeItem&&(ui.removeItem=uiremove)&&uiremove.on("mousedown",onremove);if(!ui.handleKeyPress){ui.handleKeyPress=function(e){if(e.keyCode===13){ui.ok.element&&ui.ok.element.onmousedown&&ui.ok.element.onmousedown(e)}else if(e.keyCode===27){ui.cancel.element&&ui.cancel.element.onmousedown&&ui.cancel.element.onmousedown(e)}}}return ui};DragNodeGroup.prototype.getNode=function getNode(nodeId){var manager=this,node,nodes={},datasets=manager.getChildren("dataset");for(var i=0,len=datasets.length;i<len;i++){if(nodeId){if(node=datasets[i].getNode(nodeId)){return node}}else{Object.assign(nodes,datasets[i].getNode())}}return!nodeId&&nodes};DragNodeGroup.prototype.createContainer=function createContainer(){var manager=this,animationManager=manager.getFromEnv("animationManager"),keys=["connectorGroup","defaultVcanvasGroup","vcanvasLabelGroup","cloneGroup"],parent=manager.getLinkedParent(),parentChildContainers=parent.getChildContainer();keys.forEach(function(key){!manager.getChildContainer(key)&&manager.addChildContainer(key,animationManager.setAnimation({el:"group",attr:{name:"manager-"+key},component:manager,container:parentChildContainers[key]||parentChildContainers.defaultVcanvasGroup}))});!manager.getContainer("waitContainer")&&manager.addContainer("waitContainer",animationManager.setAnimation({el:"group",attr:{name:"manager-waitContainer"},container:parentChildContainers.defaultVcanvasGroup,component:manager}))};DragNodeGroup.prototype.draw=function draw(){var manager=this,graphicalMap={cacheUpdateUI:[350,215],cacheLabelDeleteUI:[250,100],cacheLabelUpdateUI:[350,205],cacheConnectorUpdateUIedit:[315,215],cacheConnectorUpdateUInew:[315,215]},graphics,elem;if(!manager.getState("configured")){DATASETSTATE="update";for(graphics in graphicalMap){if((elem=manager.getGraphicalElement(graphics))&&elem.isVisible()){if(graphics==="cacheUpdateUI"){var fields=elem.fields,ele=fields.image,isChecked=ele.val();graphicalMap[graphics][1]=isChecked?250:215}manager.createHtmlDialog(graphicalMap[graphics][0],graphicalMap[graphics][1],UNDEF,UNDEF,UNDEF,elem)}}DATASETSTATE="appearing"}manager.setState("configured",false);manager.createContainer()};DragNodeGroup.prototype.getDataLimits=function getDataLimits(){var manager=this,datasets=manager.getChildren("dataset"),i,yMin=+Infinity,yMax=-Infinity,xMax=-Infinity,xMin=+Infinity,conf;for(i=0;i<datasets.length;i++){conf=datasets[i].config;yMax=Math.max(yMax,conf.yMax);yMin=Math.min(yMin,conf.yMin);xMax=Math.max(xMax,conf.xMax);xMin=Math.min(xMin,conf.xMin)}return{max:yMax,min:yMin,xMax:xMax,xMin:xMin}};DragNodeGroup.prototype.isVisible=function isVisible(){return!this.isNotVisible};DragNodeGroup.prototype.childChanged=function childChanged(){return this};DragNodeGroup.prototype.hideWaitElem=function hideWaitElem(){this.getGraphicalElement("waitElement")&&this.getGraphicalElement("waitElement").hide()};DragNodeGroup.prototype.clearLongPress=function clearLongPress(){var manager=this;clearTimeout(manager.config._longpressactive);delete manager.config._longpressactive};DragNodeGroup.prototype.triggerLabelUI=function triggerLabelUI(ele,labelObj){var manager=this;manager.config._longpressactive=setTimeout(function(){ele.data("fire_click_event",0);if(!ele.data("viewMode")){manager.showLabelDeleteUI(labelObj)}},CLEAR_TIME_1000)};DragNodeGroup.prototype.triggerConnectorUI=function triggerConnectorUI(ele){var manager=this,dataset=ele.data("dataset"),conf=dataset.config,config=ele.data(_lib.preDefStr.configStr),options=config||{};manager.config._longpressactive=setTimeout(function(){ele.data("fire_click_event",0);if(!ele.data("viewMode")){manager.showConnectorUpdateUI({fromid:{val:options.from,innerHTML:OPTIONSTR+options.from+OPTIONCLOSESTR,disabled:true},toid:{val:options.to,innerHTML:OPTIONSTR+options.to+OPTIONCLOSESTR,disabled:true},datasetIndex:dataset.config.datasetIndex,index:config.index,arratstart:{val:Boolean((0,_lib.pluckNumber)(options.arrowatstart,1))},arratend:{val:Boolean((0,_lib.pluckNumber)(options.arrowatend,1))},dashed:{val:(0,_lib.pluckNumber)(options.dashed)},dashgap:{val:options.dashgap},dashlen:{val:options.dashlen},label:{val:options.label},tooltext:{val:options.tooltext},id:{val:conf.id,disabled:true},strength:{val:options.conStrength},alpha:{val:options.alpha},color:{val:options.color.FCcolor.color}},true)}},CLEAR_TIME_1000)};DragNodeGroup.prototype.deleteLabel=function deleteLabel(i){var manager=this,labels=manager.getChildren("labels")[0],index=(0,_lib.pluckNumber)(i,labels.config.lastTappedLabelIndex),dataStore=labels.components.data,labelObj=dataStore[index],labelElement,trackerElement,chart=manager.getFromEnv("chart"),sourceEvent="labeldeleted",eventArgs;labelElement=labelObj.graphics.element;trackerElement=labelObj.graphics.trackerElement;if(labelElement){eventArgs=labelElement.data("eventArgs");labelElement.remove();trackerElement&&trackerElement.remove();delete labelObj.graphics}chart.fireChartInstanceEvent("chartupdated",(0,_lib.extend2)({sourceEvent:sourceEvent},eventArgs));chart.fireChartInstanceEvent(sourceEvent,eventArgs);labelObj.removed=true};DragNodeGroup.prototype.showLabelDeleteUI=function showLabelDeleteUI(label){var manager=this,labels=manager.getChildren("labels")[0],paper=manager.getFromEnv("paper"),ui=manager.getGraphicalElement("cacheLabelDeleteUI");labels.config.lastTappedLabelIndex=label.config.index;if(!ui){ui=manager.addGraphicalElement("cacheLabelDeleteUI",manager.createHtmlDialog(250,100,UNDEF,function(){ui.hide()},function(){manager.deleteLabel();ui.hide()}));ui.message=paper.html("span",{x:10,y:10,width:230,height:80}).add(ui.dialog);ui.ok.hide();ui.removeItem.translate(175).show()}else{ui.show()}ui.message.attr({text:'Would you really like to delete the label: "'+label.config.text+'"?'})};DragNodeGroup.prototype.drawWaitingRing=function drawWaitingRing(dataObj,datasetIndex){var manager=this,managerConfig=manager.config,animationManager=manager.getFromEnv("animationManager"),waitGroup=manager.getContainer("waitContainer"),config=dataObj.config,conf=manager.getChildren("dataset")[datasetIndex].config,waitElement=manager.getGraphicalElement("waitElement");manager.clearLongPress();waitElement=animationManager.setAnimation({el:waitElement||"ringpath",attr:{ringpath:[config._xPos,config._yPos,8,11,0,0],fill:(0,_lib.toRaphaelColor)({alpha:"100,100",angle:120,color:"CCCCCC,FFFFFF",ratio:"30,50"}),"stroke-width":0},container:waitGroup,component:manager});if(!manager.getGraphicalElement("waitElement")){manager.addGraphicalElement("waitElement",waitElement)}waitElement.show().animate({ringpath:[config._xPos,config._yPos,8,11,0,6.28]},CLEAR_TIME_1000);managerConfig._longpressactive=setTimeout(function(){var seriesName=conf.name!==BLANK&&conf.name!==UNDEF?conf.name+_lib.preDefStr.BLANKSPACE:BLANK,seriesId=conf.id!==UNDEF?(seriesName?_lib.COMMASTRING:seriesName)+conf.id:BLANK;waitElement&&waitElement.hide();manager.showNodeUpdateUI({x:{value:config.x},y:{value:config.y},draggable:{value:(0,_lib.getFirstValue)(config.allowdrag,1)},color:{value:config.color},alpha:{value:config.alpha},label:{value:(0,_lib.getFirstValue)(config.label,config.name)},tooltip:{value:config.toolText},shape:{value:shapesInfo[config.shape]},rectWidth:{value:config.width},rectHeight:{value:config.height},circPolyRadius:{value:config.radius},polySides:{value:config.numsides},image:{value:config.imageNode},imgWidth:{value:config.imageWidth},imgHeight:{value:config.imageHeight},imgAlign:{value:config.imageAlign},imgUrl:{value:config.imageURL},id:{value:config.id,disabled:true},link:{value:config.link},dataset:{innerHTML:'<option value="'+seriesId+'">'+seriesName+seriesId+"</option>",disabled:true},datasetIndex:datasetIndex},true)},CLEAR_TIME_1000)};DragNodeGroup.prototype.drawNodeConnectors=function drawNodeConnectors(connectorsObj){var manager=this,connectors=manager.getChildren("connector"),i,datasetIndex,connectorSet,connector,fromObj,toObj;if(!connectorsObj){return}for(i in connectorsObj){connector=connectorsObj[i];if(connector){datasetIndex=connector.config.datasetIndex;fromObj=connector.config.fromPointObj;toObj=connector.config.toPointObj;connectorSet=connectors[datasetIndex];if(connectorSet){connectorSet&&connectorSet.parsePlotAttributes(connector,fromObj,toObj);connectorSet&&connectorSet.drawConnector(connector,fromObj,toObj)}}}};DragNodeGroup.prototype._clearConnectors=function _clearConnectors(){var manager=this,nodes=manager.getNode(),id,startConnectors,endConnectors,graphics,j,node;for(id in nodes){node=nodes[id];if(node){startConnectors=node.config.startConnectors||{};endConnectors=node.config.endConnectors||{};for(j in startConnectors){graphics={graphics:startConnectors[j].graphics||{}};_lib.componentDispose.call(graphics)}for(j in endConnectors){graphics={graphics:endConnectors[j].graphics||{}};_lib.componentDispose.call(graphics)}}}};DragNodeGroup.prototype.getJSONData=function getJSONData(){var manager=this,children=manager.getChildren(),nodeSets=children.dataset,connectorSets=children.connector,labelSets=children.labels,jsonData={},i,len,dataset;jsonData.dataset=[];jsonData.connectors=[];jsonData.labels=[];for(i=0,len=nodeSets&&nodeSets.length;i<len;i++){dataset=nodeSets[i];if(!jsonData.dataset[i]){jsonData.dataset[i]=(0,_lib.extend2)({},dataset.JSONData)}jsonData.dataset[i].data=dataset.getJSONData()}for(i=0,len=connectorSets&&connectorSets.length;i<len;i++){dataset=connectorSets[i];if(!jsonData.connectors[i]){jsonData.connectors[i]=(0,_lib.extend2)({},dataset.JSONData)}jsonData.connectors[i].connector=dataset.getJSONData()}for(i=0,len=labelSets&&labelSets.length;i<len;i++){dataset=labelSets[i];if(!jsonData.labels[i]){jsonData.labels[i]={label:[]}}jsonData.labels[i].label=dataset.getJSONData()}return jsonData};return DragNodeGroup}(_componentInterface2["default"]);exports["default"]=DragNodeGroup},555:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=function(chart){var jsonData=chart.getFromEnv("dataSource"),datasetsJSON=jsonData.dataset,connectorsJSON=jsonData.connectors,labels=jsonData.labels,children=chart.getChildren(),canvas=children.canvas[0],vCanvas=void 0,datasetParent=vCanvas=canvas.getChildren("vCanvas")[0],DsGroupClass=void 0,setType=[],groupManager=void 0;labels&&(labels=[labels]);if(!datasetsJSON&&!connectorsJSON&&!labels){chart.setChartMessage();return}DsGroupClass=chart.getDSGroupdef();(0,_lib.componentFactory)(vCanvas,DsGroupClass,"datasetGroup_dragNode");groupManager=vCanvas.getChildren("datasetGroup_dragNode");groupManager&&(datasetParent=groupManager[0]);if(datasetsJSON&&datasetsJSON.length){(0,_lib.componentFactory)(datasetParent,chart.getDSdef("dragnode"),"dataset",datasetsJSON.length,datasetsJSON)}else{setType.push("dataset")}if(connectorsJSON&&connectorsJSON.length){(0,_lib.componentFactory)(datasetParent,chart.getDSdef("connector"),"connector",connectorsJSON.length,connectorsJSON)}else{setType.push("connector")}if(labels&&labels.length){(0,_lib.componentFactory)(datasetParent,chart.getDSdef("dragableLabels"),"labels",labels.length,labels)}else{setType.push("labels")}setType.length&&removeSets(datasetParent,setType)};var _lib=__webpack_require__(118);var removeSets=function removeSets(parent,set){var children=parent.getChildren(),childArr=void 0,j=void 0,i=void 0;if(set&&set.length){for(i=set.length-1;i>-1;i--){childArr=children[set[i]];for(j=childArr&&childArr.length-1;j>-1;childArr[j].remove(),j--){}}}}},556:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _mscartesian=__webpack_require__(354);var _mscartesian2=_interopRequireDefault(_mscartesian);var _vcanvas=__webpack_require__(326);var _vcanvas2=_interopRequireDefault(_vcanvas);var _candlestickDataset=__webpack_require__(557);var _candlestickDataset2=_interopRequireDefault(_candlestickDataset);var _candlestickAxis=__webpack_require__(563);var _candlestickAxis2=_interopRequireDefault(_candlestickAxis);var _candlestick=__webpack_require__(559);var _candlestick2=_interopRequireDefault(_candlestick);var _candlestickbar=__webpack_require__(564);var _candlestickbar2=_interopRequireDefault(_candlestickbar);var _candlestickline=__webpack_require__(566);var _candlestickline2=_interopRequireDefault(_candlestickline);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var MOUSEOUT="mouseout",BLANKSTRING="";var altHGridColorStr=_lib.preDefStr.altHGridColorStr,altHGridAlphaStr=_lib.preDefStr.altHGridAlphaStr,math=Math,mathMax=math.max,mathRound=math.round,POSITION_BOTTOM=_lib.preDefStr.POSITION_BOTTOM,divLineAlpha3DStr=_lib.preDefStr.divLineAlpha3DStr,defaultFontStr=_lib.preDefStr.defaultFontStr,divLineAlphaStr=_lib.preDefStr.divLineAlphaStr,altVGridColorStr=_lib.preDefStr.altVGridColorStr,altVGridAlphaStr=_lib.preDefStr.altVGridAlphaStr,colorStrings=_lib.preDefStr.colors,COLOR_000000=colorStrings.c000000,chartPaletteStr={chart2D:{bgColor:"bgColor",bgAlpha:"bgAlpha",bgAngle:"bgAngle",bgRatio:"bgRatio",canvasBgColor:"canvasBgColor",canvasBaseColor:"canvasBaseColor",divLineColor:"divLineColor",legendBgColor:"legendBgColor",legendBorderColor:"legendBorderColor",toolTipbgColor:"toolTipbgColor",toolTipBorderColor:"toolTipBorderColor",baseFontColor:"baseFontColor",anchorBgColor:"anchorBgColor"},chart3D:{bgColor:"bgColor3D",bgAlpha:"bgAlpha3D",bgAngle:"bgAngle3D",bgRatio:"bgRatio3D",canvasBgColor:"canvasBgColor3D",canvasBaseColor:"canvasBaseColor3D",divLineColor:"divLineColor3D",divLineAlpha:divLineAlpha3DStr,legendBgColor:"legendBgColor3D",legendBorderColor:"legendBorderColor3D",toolTipbgColor:"toolTipbgColor3D",toolTipBorderColor:"toolTipBorderColor3D",baseFontColor:"baseFontColor3D",anchorBgColor:"anchorBgColor3D"}},isVolumeChartRequired=function isVolumeChartRequired(dataObj){if(!(dataObj&&dataObj.dataset)){return 0}var dataset=dataObj.dataset[0],data=dataset.data;return!!(Array.isArray(data)&&data.filter(function(v){return v.volume})||[]).length};var CandleStick=function(_MSCartesian){_inherits(CandleStick,_MSCartesian);function CandleStick(){_classCallCheck(this,CandleStick);var _this=_possibleConstructorReturn(this,_MSCartesian.call(this));_this.isDual=true;_this.paletteIndex=3;_this.canvasborderthickness=1;_this.hasInteractiveLegend=false;_this.numOfCanvas=2;_this.registerFactory("vCanvas",_vcanvas2["default"],["axis"]);_this.registerFactory("axis",_candlestickAxis2["default"],["canvas"]);_this.registerFactory("dataset",_candlestickDataset2["default"],["vCanvas"]);return _this}CandleStick.prototype.getName=function getName(){return"candlestick"};CandleStick.getName=function getName(){return"candlestick"};CandleStick.prototype.getDSdef=function getDSdef(name){return name==="bar"?_candlestickbar2["default"]:name==="line"?_candlestickline2["default"]:_candlestick2["default"]};CandleStick.prototype.__setDefaultConfig=function __setDefaultConfig(){_MSCartesian.prototype.__setDefaultConfig.call(this);var config=this.config;config.hasLegend=true;config.defaultDatasetType="candlestick";config.drawanchors=0;config.enablemousetracking=true;config.iscandlestick=true};CandleStick.prototype.configureAttributes=function configureAttributes(dataObj){_MSCartesian.prototype.configureAttributes.call(this,dataObj)};CandleStick.prototype.parseChartAttr=function parseChartAttr(dataObj){_MSCartesian.prototype.parseChartAttr.call(this,dataObj);var iapi=this,volumeHeightPercent=void 0,config=iapi.config,chartAttrs=iapi.getFromEnv("chart-attrib"),colorM=iapi.getFromEnv("color-manager");config.showVolumeChart=(0,_lib.pluckNumber)(chartAttrs.showvolumechart,isVolumeChartRequired(dataObj),1);config.rollOverBandColor=(0,_libGraphics.convertColor)((0,_lib.pluck)(chartAttrs.rolloverbandcolor,colorM.getColor(altHGridColorStr)),(0,_lib.pluck)(chartAttrs.rolloverbandalpha,colorM.getColor(altHGridAlphaStr)));config.crosslinecolor=(0,_lib.pluck)(chartAttrs.crosslinecolor,chartAttrs.rolloverbandcolor,colorM.getColor(altHGridColorStr));config.drawcrosslineontop=0;config.crosslinealpha=(0,_lib.pluckNumber)(chartAttrs.crosslinealpha,chartAttrs.rolloverbandalpha,colorM.getColor(altHGridAlphaStr));config.drawcrossline=1;config.skipClipping=true;chartAttrs=iapi.getFromEnv("chart-attrib");config.vplotbordercolor=(0,_lib.getFirstValue)(chartAttrs.vplotbordercolor,BLANKSTRING);config.vplotborderalpha=(0,_lib.getFirstValue)(chartAttrs.vplotborderalpha,BLANKSTRING);config.vplotborderthickness=(0,_lib.pluckNumber)(chartAttrs.vplotborderthickness,1);config.showplotborder=(0,_lib.pluckNumber)(chartAttrs.showvplotborder,1);volumeHeightPercent=(0,_lib.pluckNumber)(chartAttrs.volumeheightpercent,40);config.volumeHeightPercent=volumeHeightPercent<20?20:volumeHeightPercent>80?80:volumeHeightPercent;config.canvasBorderWidth=(0,_lib.pluckNumber)(chartAttrs.canvasborderthickness,1)};CandleStick.prototype._spaceManager=function _spaceManager(){var spaceForActionBar,actionBarSpace,availableWidth,availableHeight,iapi=this,config=iapi.config,components=iapi.getChildren(),legendPosition=config.legendPosition,xAxis=components.xAxis&&components.xAxis[0],yAxis=components.yAxis&&components.yAxis[0],yAxis2=components.yAxis&&components.yAxis[1],hasLegend=config.hasLegend,legend=iapi.getFromEnv("legend"),canvasHeight,xAxisDimensions,showVolumeChart=iapi.config.showVolumeChart,volumeHeightPercent=showVolumeChart?config.volumeHeightPercent:0,canvas=components.canvas[0],canvasConfig=canvas.config,volumeCanvas,volumeCanvasConfig,volumeCanvasY,padding=6,canvasY,yAxisDim,vYAxisDim,width=config.width,height=config.height,actualYDim={},allottedSpace,chartBorderWidth=config.chartBorderWidth,canvasBorderWidth=canvasConfig.canvasBorderWidth,minCanvasHeight=config.minCanvasHeight,minCanvasWidth=config.minCanvasWidth,canvasMarginLeft=config.canvasMarginLeft,canvasMarginRight=config.canvasMarginRight,canvasMarginTop=config.canvasMarginTop,canvasMarginBottom=config.canvasMarginBottom,diff,currentCanvasHeight,currentCanvasWidth,heightAdjust,origCanvasTopMargin=config.origCanvasTopMargin,origCanvasBottomMargin=config.origCanvasBottomMargin,origCanvasLeftMargin=config.origCanvasLeftMargin,origCanvasRightMargin=config.origCanvasRightMargin,left,right,top,bottom,widthAdjust,sum;iapi._allocateSpace({top:chartBorderWidth,bottom:chartBorderWidth,left:chartBorderWidth,right:chartBorderWidth});spaceForActionBar=config.availableHeight*.225;actionBarSpace=iapi._manageActionBarSpace&&iapi._manageActionBarSpace(spaceForActionBar)||{};iapi._allocateSpace(actionBarSpace);if(legendPosition===_lib.POSITION_RIGHT){allottedSpace=config.canvasWidth*.225}else{allottedSpace=config.canvasHeight*.3}hasLegend!==false&&xAxis&&config.showLegend&&iapi._allocateSpace(legend._manageLegendPosition(allottedSpace));availableWidth=config.canvasWidth*.7;yAxisDim=yAxis.placeAxis(availableWidth);vYAxisDim=showVolumeChart?yAxis2.placeAxis(availableWidth):{};actualYDim.left=mathMax(yAxisDim.left,vYAxisDim.left||0);actualYDim.right=mathMax(yAxisDim.right,vYAxisDim.right||0);iapi._allocateSpace(actualYDim);if(minCanvasWidth>width-canvasMarginLeft-canvasMarginRight){widthAdjust=true;diff=config.canvasWidth-minCanvasWidth;sum=canvasMarginLeft+canvasMarginRight;canvasMarginLeft=config.canvasMarginLeft=diff*canvasMarginLeft/sum;canvasMarginRight=config.canvasMarginRight=diff*canvasMarginRight/sum}left=canvasMarginLeft>config.canvasLeft?canvasMarginLeft-config.canvasLeft:0;right=canvasMarginRight>width-config.canvasRight?canvasMarginRight+config.canvasRight-width:0;iapi._allocateSpace({left:left,right:right});if(widthAdjust){sum=origCanvasLeftMargin+origCanvasRightMargin;currentCanvasWidth=config.canvasWidth;if(currentCanvasWidth>minCanvasWidth){diff=currentCanvasWidth-minCanvasWidth;left=diff*origCanvasLeftMargin/sum;right=diff*origCanvasRightMargin/sum}iapi._allocateSpace({left:left,right:right})}availableHeight=config.canvasHeight*.225;availableHeight=legendPosition===POSITION_BOTTOM?config.canvasHeight*.6:config.canvasWidth*.6;iapi._manageChartMenuBar(availableHeight);iapi._allocateSpace({top:config.canvasMarginTop,bottom:config.canvasMarginBottom});availableHeight=config.canvasHeight*.3;xAxisDimensions=xAxis.placeAxis(availableHeight);xAxis&&iapi._allocateSpace(xAxisDimensions);xAxisDimensions.bottom+=padding;canvasConfig.intermediarySpace=xAxisDimensions.bottom;if(showVolumeChart){iapi._allocateSpace({bottom:10})}iapi._allocateSpace({top:canvasBorderWidth,bottom:canvasBorderWidth*2,left:canvasBorderWidth,right:canvasBorderWidth});if(minCanvasHeight>height-canvasMarginTop-canvasMarginBottom){heightAdjust=true;diff=config.canvasHeight-minCanvasHeight;sum=canvasMarginTop+canvasMarginBottom;canvasMarginTop=config.canvasMarginTop=diff*canvasMarginTop/sum;canvasMarginBottom=config.canvasMarginBottom=diff*canvasMarginBottom/sum}top=canvasMarginTop>config.canvasTop?canvasMarginTop-config.canvasTop:0;bottom=canvasMarginBottom>height-config.canvasBottom?canvasMarginBottom+config.canvasBottom-height:0;iapi._allocateSpace({top:top,bottom:bottom});if(heightAdjust){sum=origCanvasTopMargin+origCanvasBottomMargin;currentCanvasHeight=config.canvasHeight;if(currentCanvasHeight>minCanvasHeight){diff=currentCanvasHeight-minCanvasHeight;top=diff*origCanvasTopMargin/sum;bottom=diff*origCanvasBottomMargin/sum}iapi._allocateSpace({top:top,bottom:bottom})}canvasHeight=config.canvasHeight;canvasConfig.canvasHeight=mathRound((100-volumeHeightPercent)/100*canvasHeight);canvasConfig.canvasTop=config.canvasTop;canvasConfig.canvasLeft=config.canvasLeft;canvasConfig.canvasBottom=canvasConfig.canvasTop+canvasConfig.canvasHeight;canvasConfig.canvasWidth=config.canvasWidth;canvasConfig.canvasRight=config.canvasRight;canvasY=config.canvasTop+canvasConfig.canvasHeight+canvasBorderWidth;canvasConfig.canvasY=canvasY;canvas.setDimension({top:canvasConfig.canvasTop,left:canvasConfig.canvasLeft,width:canvasConfig.canvasWidth,height:canvasConfig.canvasHeight});if(showVolumeChart){volumeCanvas=components.canvas[1];volumeCanvasConfig=volumeCanvas.config;volumeCanvasConfig.canvasHeight=volumeHeightPercent/100*canvasHeight;volumeCanvasConfig.canvasTop=canvasConfig.canvasBottom+xAxisDimensions.bottom+canvasBorderWidth*2;volumeCanvasConfig.canvasLeft=config.canvasLeft;volumeCanvasConfig.canvasBottom=volumeCanvasConfig.canvasTop+volumeCanvasConfig.canvasHeight+canvasBorderWidth*2;volumeCanvasConfig.canvasRight=config.canvasRight;volumeCanvasConfig.canvasWidth=config.canvasWidth;volumeCanvasY=config.canvasTop+canvasConfig.canvasHeight+xAxisDimensions.bottom+canvasBorderWidth*2;volumeCanvasConfig.canvasY=volumeCanvasY;volumeCanvas.setDimension({top:volumeCanvasConfig.canvasTop,left:volumeCanvasConfig.canvasLeft,width:volumeCanvasConfig.canvasWidth,height:volumeCanvasConfig.canvasHeight})}};CandleStick.prototype._postSpaceManagement=function _postSpaceManagement(){_MSCartesian.prototype._postSpaceManagement.call(this)};CandleStick.prototype.setAxisDimention=function setAxisDimention(){var iapi=this,components=iapi.getChildren(),showVolumeChart=iapi.config.showVolumeChart,xAxis=components.xAxis&&components.xAxis[0],yAxis=components.yAxis&&components.yAxis[0],vyAxis=components.yAxis&&components.yAxis[1],canvasArr=components.canvas,canvasConfig=canvasArr[0].config,volumeCanvasConfig=void 0,canvasBorderWidth=canvasConfig.canvasBorderWidth;xAxis&&xAxis.setAxisDimention({x:canvasConfig.canvasLeft,y:canvasConfig.canvasY,opposite:canvasConfig.canvasTop-canvasBorderWidth,axisLength:canvasConfig.canvasWidth});yAxis&&yAxis.setAxisDimention({x:canvasConfig.canvasLeft-canvasBorderWidth,y:canvasConfig.canvasTop,opposite:canvasConfig.canvasRight+canvasBorderWidth,axisLength:canvasConfig.canvasHeight});xAxis.setCanvas(canvasConfig);yAxis.setCanvas(canvasConfig);if(showVolumeChart){volumeCanvasConfig=canvasArr[1].config;vyAxis&&vyAxis.setAxisDimention({x:canvasConfig.canvasLeft-canvasBorderWidth,y:volumeCanvasConfig.canvasTop,opposite:volumeCanvasConfig.canvasRight+canvasBorderWidth,axisLength:volumeCanvasConfig.canvasHeight});vyAxis&&vyAxis.setCanvas(volumeCanvasConfig)}};CandleStick.prototype._feedAxesRawData=function _feedAxesRawData(){var iapi=this,colorM=iapi.getFromEnv("color-manager"),dataObj=iapi.getFromEnv("dataSource"),chartAttrs=iapi.getFromEnv("chart-attrib"),xAxisConf,yAxisConf,vYAxisConf,yAxisConfigure=[],xAxisConfigure=[],is3D=iapi.config.is3D,palleteString=is3D?chartPaletteStr.chart3D:chartPaletteStr.chart2D;xAxisConf={isVertical:false,isReverse:false,isOpposit:false,drawTrendLabels:true,outCanfontFamily:(0,_lib.pluck)(chartAttrs.outcnvbasefont,chartAttrs.basefont,defaultFontStr),outCanfontSize:(0,_lib.pluckFontSize)(chartAttrs.outcnvbasefontsize,chartAttrs.basefontsize,10),outCancolor:(0,_lib.pluck)(chartAttrs.outcnvbasefontcolor,chartAttrs.basefontcolor,colorM.getColor(palleteString.baseFontColor)).replace(/^#?([a-f0-9]+)/gi,"#$1"),axisNamePadding:chartAttrs.xaxisnamepadding,axisValuePadding:chartAttrs.labelpadding,axisNameFont:chartAttrs.xaxisnamefont,axisNameFontSize:chartAttrs.xaxisnamefontsize,axisNameFontColor:chartAttrs.xaxisnamefontcolor,axisNameFontBold:chartAttrs.xaxisnamefontbold,axisNameFontItalic:chartAttrs.xaxisnamefontitalic,axisNameBgColor:chartAttrs.xaxisnamebgcolor,axisNameBorderColor:chartAttrs.xaxisnamebordercolor,axisNameAlpha:chartAttrs.xaxisnamealpha,axisNameFontAlpha:chartAttrs.xaxisnamefontalpha,axisNameBgAlpha:chartAttrs.xaxisnamebgalpha,axisNameBorderAlpha:chartAttrs.xaxisnameborderalpha,axisNameBorderPadding:chartAttrs.xaxisnameborderpadding,axisNameBorderRadius:chartAttrs.xaxisnameborderradius,axisNameBorderThickness:chartAttrs.xaxisnameborderthickness,axisNameBorderDashed:chartAttrs.xaxisnameborderdashed,axisNameBorderDashLen:chartAttrs.xaxisnameborderdashlen,axisNameBorderDashGap:chartAttrs.xaxisnameborderdashgap,useEllipsesWhenOverflow:chartAttrs.useellipseswhenoverflow,divLineColor:(0,_lib.pluck)(chartAttrs.vdivlinecolor,chartAttrs.divlinecolor,colorM.getColor(palleteString.divLineColor)),divLineAlpha:(0,_lib.pluck)(chartAttrs.vdivlinealpha,chartAttrs.divlinealpha,is3D?colorM.getColor(divLineAlpha3DStr):colorM.getColor(divLineAlphaStr)),divLineThickness:(0,_lib.pluckNumber)(chartAttrs.vdivlinethickness,chartAttrs.divlinethickness,1),divLineIsDashed:Boolean((0,_lib.pluckNumber)(chartAttrs.vdivlinedashed,chartAttrs.vdivlineisdashed,chartAttrs.divlinedashed,chartAttrs.divlineisdashed,0)),divLineDashLen:(0,_lib.pluckNumber)(chartAttrs.vdivlinedashlen,chartAttrs.divlinedashlen,4),divLineDashGap:(0,_lib.pluckNumber)(chartAttrs.vdivlinedashgap,chartAttrs.divlinedashgap,2),showAlternateGridColor:(0,_lib.pluckNumber)(chartAttrs.showalternatevgridcolor,0),alternateGridColor:(0,_lib.pluck)(chartAttrs.alternatevgridcolor,colorM.getColor(altVGridColorStr)),alternateGridAlpha:(0,_lib.pluck)(chartAttrs.alternatevgridalpha,colorM.getColor(altVGridAlphaStr)),numDivLines:chartAttrs.numvdivlines,labelFont:chartAttrs.labelfont,labelFontSize:chartAttrs.labelfontsize,labelFontColor:chartAttrs.labelfontcolor,labelFontAlpha:chartAttrs.labelalpha,labelFontBold:chartAttrs.labelfontbold,labelFontItalic:chartAttrs.labelfontitalic,axisName:chartAttrs.xaxisname,axisMinValue:chartAttrs.xaxisminvalue,axisMaxValue:chartAttrs.xaxismaxvalue,setAdaptiveMin:chartAttrs.setadaptivexmin,adjustDiv:chartAttrs.adjustvdiv,labelDisplay:chartAttrs.labeldisplay,showLabels:chartAttrs.showlabels,rotateLabels:chartAttrs.rotatelabels,slantLabel:(0,_lib.pluckNumber)(chartAttrs.slantlabels,chartAttrs.slantlabel),labelStep:(0,_lib.pluckNumber)(chartAttrs.labelstep,chartAttrs.xaxisvaluesstep),showAxisValues:(0,_lib.pluckNumber)(chartAttrs.showxaxisvalues,chartAttrs.showxaxisvalue),showLimits:chartAttrs.showvlimits,showDivLineValues:(0,_lib.pluckNumber)(chartAttrs.showvdivlinevalues,chartAttrs.showvdivlinevalues),showZeroPlane:chartAttrs.showvzeroplane,zeroPlaneColor:chartAttrs.vzeroplanecolor,zeroPlaneThickness:chartAttrs.vzeroplanethickness,zeroPlaneAlpha:chartAttrs.vzeroplanealpha,showZeroPlaneValue:chartAttrs.showvzeroplanevalue,trendlineColor:chartAttrs.trendlinecolor,trendlineToolText:chartAttrs.trendlinetooltext,trendlineThickness:chartAttrs.trendlinethickness,trendlineAlpha:chartAttrs.trendlinealpha,showTrendlinesOnTop:chartAttrs.showtrendlinesontop,showAxisLine:(0,_lib.pluckNumber)(chartAttrs.showxaxisline,chartAttrs.showaxislines,chartAttrs.drawAxisLines,0),axisLineThickness:(0,_lib.pluckNumber)(chartAttrs.xaxislinethickness,chartAttrs.axislinethickness,1),axisLineAlpha:(0,_lib.pluckNumber)(chartAttrs.xaxislinealpha,chartAttrs.axislinealpha,100),axisLineColor:(0,_lib.pluck)(chartAttrs.xaxislinecolor,chartAttrs.axislinecolor,COLOR_000000),freezeLimit:true};xAxisConf.vtrendlines=dataObj.vtrendlines;xAxisConfigure.push(xAxisConf);yAxisConf={isVertical:true,isReverse:true,isOpposit:false,drawLabelsOpposit:1,axisNameAlignCanvas:1,outCanfontFamily:(0,_lib.pluck)(chartAttrs.outcnvbasefont,chartAttrs.basefont,defaultFontStr),outCanfontSize:(0,_lib.pluckFontSize)(chartAttrs.outcnvbasefontsize,chartAttrs.basefontsize,10),outCancolor:(0,_lib.pluck)(chartAttrs.outcnvbasefontcolor,chartAttrs.basefontcolor,colorM.getColor(palleteString.baseFontColor)).replace(/^#?([a-f0-9]+)/gi,"#$1"),axisNamePadding:chartAttrs.yaxisnamepadding,axisValuePadding:chartAttrs.yaxisvaluespadding,axisNameFont:chartAttrs.pyaxisnamefont,axisNameFontSize:chartAttrs.pyaxisnamefontsize,axisNameFontColor:chartAttrs.pyaxisnamefontcolor,axisNameFontBold:chartAttrs.pyaxisnamefontbold,axisNameFontItalic:chartAttrs.pyaxisnamefontitalic,axisNameBgColor:chartAttrs.pyaxisnamebgcolor,axisNameBorderColor:chartAttrs.pyaxisnamebordercolor,axisNameAlpha:chartAttrs.pyaxisnamealpha,axisNameFontAlpha:chartAttrs.pyaxisnamefontalpha,axisNameBgAlpha:chartAttrs.pyaxisnamebgalpha,axisNameBorderAlpha:chartAttrs.pyaxisnameborderalpha,axisNameBorderPadding:chartAttrs.pyaxisnameborderpadding,axisNameBorderRadius:chartAttrs.pyaxisnameborderradius,axisNameBorderThickness:chartAttrs.pyaxisnameborderthickness,axisNameBorderDashed:chartAttrs.pyaxisnameborderdashed,axisNameBorderDashLen:chartAttrs.pyaxisnameborderdashlen,axisNameBorderDashGap:chartAttrs.pyaxisnameborderdashgap,axisNameWidth:chartAttrs.yaxisnamewidth,useEllipsesWhenOverflow:chartAttrs.useellipseswhenoverflow,rotateAxisName:(0,_lib.pluckNumber)(chartAttrs.rotateyaxisname,1),axisName:chartAttrs.pyaxisname,divLineColor:(0,_lib.pluck)(chartAttrs.divlinecolor,colorM.getColor(palleteString.divLineColor)),divLineAlpha:(0,_lib.pluck)(chartAttrs.divlinealpha,colorM.getColor(divLineAlphaStr)),divLineThickness:(0,_lib.pluckNumber)(chartAttrs.divlinethickness,1),divLineIsDashed:Boolean((0,_lib.pluckNumber)(chartAttrs.divlinedashed,chartAttrs.divlineisdashed,1)),divLineDashLen:(0,_lib.pluckNumber)(chartAttrs.divlinedashlen,4),divLineDashGap:(0,_lib.pluckNumber)(chartAttrs.divlinedashgap,2),showAlternateGridColor:(0,_lib.pluckNumber)(chartAttrs.showalternatehgridcolor,1),alternateGridColor:(0,_lib.pluck)(chartAttrs.alternatehgridcolor,colorM.getColor(altHGridColorStr)),alternateGridAlpha:(0,_lib.pluck)(chartAttrs.alternatehgridalpha,colorM.getColor(altHGridAlphaStr)),numDivLines:(0,_lib.pluckNumber)(chartAttrs.numpdivlines,5),axisMinValue:chartAttrs.pyaxisminvalue,axisMaxValue:chartAttrs.pyaxismaxvalue,setAdaptiveMin:(0,_lib.pluckNumber)(chartAttrs.setadaptiveymin,1),adjustDiv:chartAttrs.adjustdiv,labelStep:chartAttrs.yaxisvaluesstep,showAxisValues:(0,_lib.pluckNumber)(chartAttrs.showyaxisvalues,chartAttrs.showyaxisvalue),showLimits:(0,_lib.pluckNumber)(chartAttrs.showyaxislimits,chartAttrs.showlimits,iapi.showLimits),showDivLineValues:(0,_lib.pluckNumber)(chartAttrs.showdivlinevalues,chartAttrs.showdivlinevalue),showZeroPlane:chartAttrs.showzeroplane,zeroPlaneColor:chartAttrs.zeroplanecolor,zeroPlaneThickness:chartAttrs.zeroplanethickness,zeroPlaneAlpha:chartAttrs.zeroplanealpha,showZeroPlaneValue:chartAttrs.showzeroplanevalue,trendlineColor:chartAttrs.trendlinecolor,trendlineToolText:chartAttrs.trendlinetooltext,trendlineThickness:chartAttrs.trendlinethickness,trendlineAlpha:chartAttrs.trendlinealpha,showTrendlinesOnTop:chartAttrs.showtrendlinesontop,showAxisLine:(0,_lib.pluckNumber)(chartAttrs.showyaxisline,chartAttrs.showaxislines,chartAttrs.drawAxisLines,0),axisLineThickness:(0,_lib.pluckNumber)(chartAttrs.yaxislinethickness,chartAttrs.axislinethickness,1),axisLineAlpha:(0,_lib.pluckNumber)(chartAttrs.yaxislinealpha,chartAttrs.axislinealpha,100),axisLineColor:(0,_lib.pluck)(chartAttrs.yaxislinecolor,chartAttrs.axislinecolor,COLOR_000000)};yAxisConf.trendlines=dataObj.trendlines;yAxisConfigure.push(yAxisConf);if(iapi.config.showVolumeChart){vYAxisConf={isVertical:true,isReverse:true,isOpposit:false,axisIndex:1,drawLabelsOpposit:1,axisNameAlignCanvas:1,uniqueClassName:1,outCanfontFamily:(0,_lib.pluck)(chartAttrs.outcnvbasefont,chartAttrs.basefont,defaultFontStr),outCanfontSize:(0,_lib.pluckFontSize)(chartAttrs.outcnvbasefontsize,chartAttrs.basefontsize,10),outCancolor:(0,_lib.pluck)(chartAttrs.outcnvbasefontcolor,chartAttrs.basefontcolor,colorM.getColor(palleteString.baseFontColor)).replace(/^#?([a-f0-9]+)/gi,"#$1"),axisNamePadding:chartAttrs.yaxisnamepadding,axisValuePadding:chartAttrs.yaxisvaluespadding,axisNameFont:chartAttrs.vyaxisnamefont,axisNameFontSize:chartAttrs.vyaxisnamefontsize,axisNameFontColor:chartAttrs.vyaxisnamefontcolor,axisNameFontBold:chartAttrs.vyaxisnamefontbold,axisNameFontItalic:chartAttrs.vyaxisnamefontitalic,axisNameBgColor:chartAttrs.vyaxisnamebgcolor,axisNameBorderColor:chartAttrs.vyaxisnamebordercolor,axisNameAlpha:chartAttrs.vyaxisnamealpha,axisNameFontAlpha:chartAttrs.vyaxisnamefontalpha,axisNameBgAlpha:chartAttrs.vyaxisnamebgalpha,axisNameBorderAlpha:chartAttrs.vyaxisnameborderalpha,axisNameBorderPadding:chartAttrs.vyaxisnameborderpadding,axisNameBorderRadius:chartAttrs.vyaxisnameborderradius,axisNameBorderThickness:chartAttrs.vyaxisnameborderthickness,axisNameBorderDashed:chartAttrs.vyaxisnameborderdashed,axisNameBorderDashLen:chartAttrs.vyaxisnameborderdashlen,axisNameBorderDashGap:chartAttrs.vyaxisnameborderdashgap,axisNameWidth:chartAttrs.yaxisnamewidth,useEllipsesWhenOverflow:chartAttrs.useellipseswhenoverflow,rotateAxisName:(0,_lib.pluckNumber)(chartAttrs.rotateyaxisname,1),axisName:chartAttrs.vyaxisname,divLineColor:(0,_lib.pluck)(chartAttrs.divlinecolor,colorM.getColor(palleteString.divLineColor)),divLineAlpha:(0,_lib.pluck)(chartAttrs.divlinealpha,colorM.getColor(divLineAlphaStr)),divLineThickness:(0,_lib.pluckNumber)(chartAttrs.divlinethickness,1),divLineIsDashed:Boolean((0,_lib.pluckNumber)(chartAttrs.divlinedashed,chartAttrs.divlineisdashed,1)),divLineDashLen:(0,_lib.pluckNumber)(chartAttrs.divlinedashlen,4),divLineDashGap:(0,_lib.pluckNumber)(chartAttrs.divlinedashgap,2),showAlternateGridColor:(0,_lib.pluckNumber)(chartAttrs.showalternatehgridcolor,1),alternateGridColor:(0,_lib.pluck)(chartAttrs.alternatehgridcolor,colorM.getColor(altHGridColorStr)),alternateGridAlpha:(0,_lib.pluck)(chartAttrs.alternatehgridalpha,colorM.getColor(altHGridAlphaStr)),numDivLines:chartAttrs.numdivlines,axisMinValue:chartAttrs.vyaxisminvalue,axisMaxValue:chartAttrs.vyaxismaxvalue,setAdaptiveMin:chartAttrs.setadaptiveymin,adjustDiv:chartAttrs.adjustdiv,labelStep:chartAttrs.yaxisvaluesstep,showAxisValues:(0,_lib.pluckNumber)(chartAttrs.showyaxisvalues,chartAttrs.showyaxisvalue),showLimits:(0,_lib.pluckNumber)(chartAttrs.showsecondarylimits,chartAttrs.showlimits),showDivLineValues:(0,_lib.pluckNumber)(chartAttrs.showdivlinevalues,chartAttrs.showdivlinevalue),showZeroPlane:chartAttrs.showzeroplane,zeroPlaneColor:chartAttrs.zeroplanecolor,zeroPlaneThickness:chartAttrs.zeroplanethickness,zeroPlaneAlpha:chartAttrs.zeroplanealpha,showZeroPlaneValue:chartAttrs.showzeroplanevalue,trendlineColor:chartAttrs.trendlinecolor,trendlineToolText:chartAttrs.trendlinetooltext,trendlineThickness:chartAttrs.trendlinethickness,trendlineAlpha:chartAttrs.trendlinealpha,showTrendlinesOnTop:chartAttrs.showtrendlinesontop,showAxisLine:(0,_lib.pluckNumber)(chartAttrs.showyaxisline,chartAttrs.showaxislines,chartAttrs.drawAxisLines,0),axisLineThickness:(0,_lib.pluckNumber)(chartAttrs.yaxislinethickness,chartAttrs.axislinethickness,1),axisLineAlpha:(0,_lib.pluckNumber)(chartAttrs.yaxislinealpha,chartAttrs.axislinealpha,100),axisLineColor:(0,_lib.pluck)(chartAttrs.yaxislinecolor,chartAttrs.axislinecolor,COLOR_000000)};yAxisConfigure.push(vYAxisConf)}return{xAxisConfigure:xAxisConfigure,yAxisConfigure:yAxisConfigure}};CandleStick.prototype.mouseoutHandler=function mouseoutHandler(e,_lastDatasetIndex,_lastPointIndex){var chart=this,datasets=chart.config.datasetOrder||chart.getDatasets(),mouseTracker=chart.getChildren("mouseTracker")[0];datasets[_lastDatasetIndex]._firePlotEvent(MOUSEOUT,_lastPointIndex,e);delete mouseTracker._lastDatasetIndex;delete mouseTracker._lastPointIndex};CandleStick.prototype._mouseEvtHandler=function _mouseEvtHandler(e,data){var iapi=this,mouseTracker=data.mouseTracker,oriEvent=e.originalEvent,canvasArr=iapi.getChildren("canvas"),canvasLen=canvasArr.length,datasets,coordinate=oriEvent&&(0,_lib.getMouseCoordinate)(iapi.getFromEnv("chart-container"),oriEvent,iapi),chartX=coordinate&&coordinate.chartX||0,chartY=coordinate&&coordinate.chartY||0,dataset,hoveredInfo,pointFound=false,i,j,l,derivedEvensInfo,_lastDatasetIndex=mouseTracker._lastDatasetIndex,_lastPointIndex=mouseTracker._lastPointIndex;for(i=0;i<canvasLen;i++){datasets=iapi.getDatasets();j=datasets.length;while(j--&&!pointFound){dataset=datasets[j];if(dataset&&dataset.getState("visible")){hoveredInfo=dataset._getHoveredPlot&&dataset._getHoveredPlot(chartX,chartY);if(hoveredInfo&&hoveredInfo.hovered){pointFound=true;hoveredInfo.datasetIndex=j;derivedEvensInfo=mouseTracker.getMouseEvents(e,hoveredInfo.datasetIndex,hoveredInfo.pointIndex)}}}}if((!pointFound||derivedEvensInfo&&derivedEvensInfo.fireOut)&&typeof _lastDatasetIndex!=="undefined"){if(datasets[_lastDatasetIndex]&&datasets[_lastDatasetIndex]._firePlotEvent){if(derivedEvensInfo&&!derivedEvensInfo.events.length){mouseTracker.mouseoutTimer=setTimeout(function(){iapi.mouseoutHandler(e,_lastDatasetIndex,_lastPointIndex)},20)}else{iapi.mouseoutHandler(e,_lastDatasetIndex,_lastPointIndex)}}}if(pointFound){l=derivedEvensInfo.events&&derivedEvensInfo.events.length;if(l){mouseTracker._lastDatasetIndex=hoveredInfo.datasetIndex;_lastPointIndex=mouseTracker._lastPointIndex=hoveredInfo.pointIndex}for(j=0;j<l;j+=1){dataset&&dataset._firePlotEvent&&dataset._firePlotEvent(derivedEvensInfo.events[j],_lastPointIndex,e,hoveredInfo.datasetIndex)}}};CandleStick.prototype._allocateSpace=function _allocateSpace(dimensions){var iapi=this,canvas=iapi.getChildren("canvas"),canvasConfig=canvas&&canvas[0].config,config=iapi.config,canvasHeight=config.canvasHeight,canvasWidth=config.canvasWidth,canvasTop,canvasLeft,availableHeight=config.availableHeight,availableWidth=config.availableWidth;canvasLeft=config.canvasLeft+=dimensions.left||0;canvasTop=config.canvasTop+=dimensions.top||0;canvasWidth=config.canvasWidth=mathMax(canvasWidth-((dimensions.left||0)+(dimensions.right||0)),0);canvasHeight=config.canvasHeight=mathMax(canvasHeight-((dimensions.top||0)+(dimensions.bottom||0)),0);config.availableHeight=mathMax(availableHeight-((dimensions.top||0)+(dimensions.bottom||0)),0);config.availableWidth=mathMax(availableWidth-((dimensions.left||0)+(dimensions.right||0)),0);config.canvasRight=canvasLeft+canvasWidth;config.canvasBottom=canvasTop+canvasHeight;if(canvasConfig){canvasConfig.canvasPaddingLeft=mathMax(canvasConfig.canvasPaddingLeft,dimensions.paddingLeft||0);canvasConfig.canvasPaddingRight=mathMax(canvasConfig.canvasPaddingRight,dimensions.paddingRight||0);canvasConfig.canvasPaddingTop=mathMax(canvasConfig.canvasPaddingTop,dimensions.paddingTop||0);canvasConfig.canvasPaddingBottom=mathMax(canvasConfig.canvasPaddingBottom,dimensions.paddingBottom||0)}};CandleStick.prototype._checkInvalidSpecificData=function _checkInvalidSpecificData(){var jsonData=this.getFromEnv("dataSource"),datasetsJSON=jsonData.dataset,data=datasetsJSON&&datasetsJSON[0]&&datasetsJSON[0].data;if(!datasetsJSON||!data||!Array.isArray(data)){return true}};return CandleStick}(_mscartesian2["default"]);exports["default"]=CandleStick},557:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=function(chart){var jsonData=chart.getFromEnv("dataSource"),datasetsJSON=jsonData.dataset,trendSet=jsonData.trendset,chartAttrs=chart.getFromEnv("chart-attrib"),showVolumeChart=chart.getFromEnv("chartConfig").showVolumeChart,dsType=(0,_lib.pluck)((0,_lib.parseUnsafeString)(chartAttrs.plotpriceas).toLowerCase(),"candlestick"),children=chart.getChildren(),canvas=children.canvas[0],datasetParent=canvas.getChildren("vCanvas")[0],volumeCanvas=void 0,volumeDatasetParent=void 0,sortedDatasetsJSON=void 0,set=["candlestick","candlestickbar","candlestickline","trendset"],DSClass=void 0;if(!datasetsJSON){chart.setChartMessage();return}sortedDatasetsJSON=datasetsJSON.slice(0);sortedDatasetsJSON[0]&&sortedDatasetsJSON[0].data&&sortedDatasetsJSON[0].data.sort(function(a,b){return a.x-b.x});DSClass=chart.getDSdef(dsType);(0,_lib.datasetFactory)(datasetParent,DSClass,"dataset_"+dsType,datasetsJSON.length,sortedDatasetsJSON);if(dsType==="bar"){arraySpliceByValue(set,"candlestickbar")}else if(dsType==="line"){arraySpliceByValue(set,"candlestickline")}else{arraySpliceByValue(set,"candlestick")}if(showVolumeChart){volumeCanvas=children.canvas[1];volumeDatasetParent=volumeCanvas.getChildren("vCanvas")[0];(0,_lib.datasetFactory)(volumeDatasetParent,_volume2["default"],"dataset_volume",datasetsJSON.length,datasetsJSON)}if(trendSet){(0,_lib.datasetFactory)(datasetParent,_trendset2["default"],"dataset_trendset",trendSet.length,trendSet);arraySpliceByValue(set,"trendset")}removeComponents(datasetParent,set)};var _lib=__webpack_require__(118);var _volume=__webpack_require__(558);var _volume2=_interopRequireDefault(_volume);var _trendset=__webpack_require__(561);var _trendset2=_interopRequireDefault(_trendset);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var arraySpliceByValue=function arraySpliceByValue(array,value){var indexOf=array.indexOf(value);if(indexOf!==-1){array.splice(indexOf,1)}},removeComponents=function removeComponents(component,set){var i=void 0;component&&component.iterateComponents(function(child){for(i=0;i<set.length;i++){if(child.getName()===set[i]){child.remove()}}})}},558:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _column=__webpack_require__(331);var _column2=_interopRequireDefault(_column);var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _candlestick=__webpack_require__(559);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var colorStrings=_lib.preDefStr.colors,COLOR_B90000=colorStrings.B90000,DASH_DEF="none",SHOWSHADOW="showShadow",COLOR_FFFFFF=colorStrings.FFFFFF;var Volume=function(_Column){_inherits(Volume,_Column);function Volume(){_classCallCheck(this,Volume);return _possibleConstructorReturn(this,_Column.apply(this,arguments))}Volume.prototype.configureAttributes=function configureAttributes(datasetJSON){if(!datasetJSON){return false}this.trimData(datasetJSON);this.config.JSONData=datasetJSON;var dataset=this,conf=dataset.config,JSONData=dataset.config.JSONData,dataArr=JSONData.data||[],chartAttr=dataset.getFromEnv("chart-attrib"),chartConfig=dataset.getFromEnv("chartConfig"),dataLength=dataArr.length,colorM=dataset.getFromEnv("color-manager"),setColor,setAlpha,pointShadow,index,dataObj,open,close,volume,x,borderAlpha,numberFormatterAttrs,plotLineDashLen,plotLineDashGap,bearBorderColor=conf.bearBorderColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(chartAttr.bearbordercolor,chartConfig.vplotbordercolor,COLOR_B90000)),bearFillColor=conf.bearFillColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(chartAttr.bearfillcolor,COLOR_B90000)),bullBorderColor=conf.bullBorderColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(chartAttr.bullbordercolor,chartConfig.vplotbordercolor,colorM.getColor("canvasBorderColor"))),bullFillColor=conf.bullFillColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(chartAttr.bullfillcolor,COLOR_FFFFFF)),showVPlotBorder=(0,_lib.pluckNumber)(chartConfig.showplotborder,1),vPlotBorderThickness=showVPlotBorder?(0,_lib.pluckNumber)(chartAttr.vplotborderthickness,1):0,dataStore,setData,config,plotSpacePercent,numberFormatter=dataset.getFromEnv("number-formatter"),yMax=-Infinity,yMin=+Infinity,xMax=-Infinity,xMin=+Infinity,userMaxColWidth,vNumberFormatter=dataset.getFromEnv("number-formatter");dataset.setState("visible",(0,_lib.pluckNumber)(JSONData.visible,1)===1);if(dataset.getState("visible")===true){dataset._conatinerHidden=false}else{dataset._containerHidden=true}conf.parentYAxis=1;conf.volumeToolText=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(JSONData.volumetooltext,chartAttr.volumetooltext,chartAttr.plottooltext)));conf.name=(0,_lib.getValidValue)(JSONData.seriesname);conf.showTooltip=(0,_lib.pluck)(chartAttr.showtooltip,1);conf.showShadow=(0,_lib.pluckNumber)(chartAttr.showshadow,colorM.getColor(SHOWSHADOW));userMaxColWidth=(0,_lib.pluck)(chartAttr.maxcolwidth);conf.maxColWidth=Math.abs((0,_lib.pluckNumber)(userMaxColWidth,50))||1;plotSpacePercent=Math.max((0,_lib.pluckNumber)(chartAttr.plotspacepercent,20)%100,0);conf.plotSpacePercent=conf.groupPadding=plotSpacePercent/200;conf.plotborderthickness=vPlotBorderThickness;dataStore=dataset.components.data=dataset.components.data||(dataset.components.data=[]);numberFormatterAttrs=(0,_lib.extend2)((0,_lib.extend2)({},chartAttr),{sforcedecimals:(0,_lib.getFirstValue)(chartAttr.forcevdecimals,chartAttr.forcedecimals),sforceyaxisvaluedecimals:(0,_lib.getFirstValue)(chartAttr.forcevyaxisvaluedecimals,chartAttr.forceyaxisvaluedecimals),syaxisvaluedecimals:(0,_lib.getFirstValue)(chartAttr.vyaxisvaluedecimals,chartAttr.yaxisvaluedecimals),sformatnumber:(0,_lib.getFirstValue)(chartAttr.vformatnumber,chartAttr.formatnumber),sformatnumberscale:(0,_lib.getFirstValue)(chartAttr.vformatnumberscale,chartAttr.formatnumberscale,"1"),sdefaultnumberscale:(0,_lib.getFirstValue)(chartAttr.vdefaultnumberscale,chartAttr.defaultnumberscale),snumberscaleunit:(0,_lib.getFirstValue)(chartAttr.vnumberscaleunit,chartAttr.numberscaleunit),vnumberscalevalue:(0,_lib.getFirstValue)(chartAttr.vnumberscalevalue,chartAttr.numberscalevalue),sscalerecursively:(0,_lib.getFirstValue)(chartAttr.vscalerecursively,chartAttr.scalerecursively),smaxscalerecursion:(0,_lib.getFirstValue)(chartAttr.vmaxscalerecursion,chartAttr.maxscalerecursion),sscaleseparator:(0,_lib.getFirstValue)(chartAttr.vscaleseparator,chartAttr.scaleseparator),snumberprefix:(0,_lib.getFirstValue)(chartAttr.vnumberprefix,chartAttr.numberprefix),snumbersuffix:(0,_lib.getFirstValue)(chartAttr.vnumbersuffix,chartAttr.numbersuffix),sdecimals:(0,_lib.getFirstValue)(chartAttr.vdecimals,chartAttr.decimals)});plotLineDashLen=conf.plotLineDashLen=(0,_lib.pluckNumber)(chartAttr.plotlinedashlen,5);plotLineDashGap=conf.plotLineDashGap=(0,_lib.pluckNumber)(chartAttr.plotlinedashgap,4);vNumberFormatter.configure(numberFormatterAttrs);for(index=0;index<dataLength;index+=1){setData=dataArr[index];dataObj=dataStore[index];if(!dataObj){dataObj=dataStore[index]={}}!dataObj.config&&(dataObj.config={});!dataObj.graphics&&(dataObj.graphics={});config=dataObj.config;if(setData&&!setData.vline){open=config.open=numberFormatter.getCleanValue(setData.open);close=config.close=numberFormatter.getCleanValue(setData.close);volume=config.volume=numberFormatter.getCleanValue(setData.volume,true);config.high=numberFormatter.getCleanValue(setData.high);config.low=numberFormatter.getCleanValue(setData.low);x=config.x=numberFormatter.getCleanValue(setData.x);yMax=Math.max(yMax,volume);yMin=Math.min(yMin,volume);xMax=Math.max(xMax,x);xMin=Math.min(xMin,x);config.borderColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(setData.bordercolor,close<open?bearBorderColor:bullBorderColor));setAlpha=(0,_lib.pluckNumber)(setData.alpha,100);borderAlpha=(0,_lib.pluckNumber)(chartConfig.vplotborderalpha,setData.alpha,100);setColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(setData.color,close<open?bearFillColor:bullFillColor));pointShadow={opacity:conf.showShadow?setAlpha/100:0};config.color=setColor;config.alpha=setAlpha;config.setLink=setData.link;config.borderWidth=vPlotBorderThickness;config.borderAlpha=borderAlpha;config.y=volume;config.colorArr=[{color:config.color,alpha:config.alpha},{color:config.borderColor,alpha:config.borderAlpha}];config.toolText=dataset._parseToolText(index);config.toolTipValue="";config.setValue=config._y=config.y;config.plotBorderDashStyle=(0,_lib.pluckNumber)(setData.dashed)?(0,_lib.getDashStyle)(plotLineDashLen,plotLineDashGap):DASH_DEF;x=x!==null?x:index+1;config._x=x;config.shadow=pointShadow}}conf.defaultPadding={left:0,right:0};conf.yMax=yMax;conf.yMin=yMin;conf.xMax=xMax;conf.xMin=xMin;dataset.setState("dirty",true)};Volume.prototype._parseToolText=function _parseToolText(i){return _candlestick._parseToolText.call(this,i)};Volume.prototype.getPlotIndices=function getPlotIndices(x){var dataset=this,i,minX=Math.floor(x),maxX=Math.ceil(x),data,returnIndices=[],sortedData=dataset.config.JSONData&&dataset.config.JSONData.data;for(i=sortedData.length;i--;){data=sortedData[i];if(data.x>=minX&&data.x<=maxX){returnIndices.push(i)}}return returnIndices};Volume.prototype._getHoveredPlot=function _getHoveredPlot(chartX,chartY){var dataset=this,xAxis=dataset.getFromEnv("xAxis"),x,i,hoveredInfo,pXs,pX;chartX+=xAxis.getTranslation();x=xAxis.getValue(chartX);pXs=dataset.getPlotIndices(x);for(i=pXs.length-1;i>-1;i--){pX=pXs[i];hoveredInfo=pX-x>0?dataset._checkPointerOverColumn(pX,chartX,chartY)||dataset._checkPointerOverColumn(pX-1,chartX,chartY):dataset._checkPointerOverColumn(pX+1,chartX,chartY)||dataset._checkPointerOverColumn(pX,chartX,chartY);if(hoveredInfo){break}}return hoveredInfo};Volume.prototype.getDataLimits=function getDataLimits(){var conf=this.config;return{max:conf.yMax,min:conf.yMin,xMax:conf.xMax,xMin:conf.xMin}};Volume.prototype.calculateScrollRange=function calculateScrollRange(){var dataset=this,conf=dataset.config,dataLen=dataset.components.data&&dataset.components.data.length;conf.scrollMinVal=0;conf.scrollMaxVal=dataLen;conf.scrollMinValForLabel=conf.scrollMinVal;conf.scrollMaxValForLabel=conf.scrollMaxVal};Volume.prototype.drawLabel=function drawLabel(){};Volume.prototype.getName=function getName(){return"volume"};return Volume}(_column2["default"]);exports["default"]=Volume},559:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports._parseToolText=exports._firePlotEvent=exports.getPlotIndices=undefined;var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _errorbar2d=__webpack_require__(473);var _errorbar2d2=_interopRequireDefault(_errorbar2d);var _dependencyManager=__webpack_require__(125);var _candlestickAnimation=__webpack_require__(560);var _candlestickAnimation2=_interopRequireDefault(_candlestickAnimation);var _column=__webpack_require__(331);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var colorStrings=_lib.preDefStr.colors,COLOR_B90000=colorStrings.B90000,COLOR_FFFFFF=colorStrings.FFFFFF,BLANKSTRING="",UNDEF=void 0,DASH_DEF="none",POINTER="pointer",DEFAULT_CURSOR="default",SHOWSHADOW="showShadow",ROLLOVER="DataPlotRollOver",ROLLOUT="DataPlotRollOut",LINE="line",BOLDSTARTTAG="<b>",BOLDENDTAG="</b>",BLANKSPACE=" ",BREAKSTRING="<br />",_firePlotEvent2=function _firePlotEvent2(eventType,plotIndex,e){var dataset=this,chart=dataset.getFromEnv("chart"),components=dataset.components,dataStore=components.data,data=dataStore[plotIndex],toolText,currentToolTip=dataset.config.currentToolTip,setElement=data.graphics.element,originalEvent=e.originalEvent,style=chart.getFromEnv("paper").canvas.style,toolTipController=dataset.getFromEnv("toolTipController"),config,setLink;if(setElement){config=data.config;toolText=config.toolText;setLink=config.setLink;switch(eventType){case"mouseover":if(toolText){if(currentToolTip){toolTipController.draw(originalEvent,toolText,currentToolTip)}else{currentToolTip=dataset.config.currentToolTip=toolTipController.draw(originalEvent,toolText)}}chart.plotEventHandler(setElement,e,ROLLOVER);setLink&&(style.cursor=POINTER);break;case"mouseout":toolTipController.hide(currentToolTip);chart.plotEventHandler(setElement,e,ROLLOUT);setLink&&(style.cursor=DEFAULT_CURSOR);break;case"click":chart.plotEventHandler(setElement,e);break;case"mousemove":if(toolText){if(currentToolTip){toolTipController.draw(originalEvent,toolText,currentToolTip)}else{currentToolTip=dataset.config.currentToolTip=toolTipController.draw(originalEvent,toolText)}}}}},_getPlotIndices=function _getPlotIndices(x){var dataset=this,i,minX=Math.floor(x),maxX=Math.ceil(x),data,returnIndices=[],sortedData=dataset.config.JSONData&&dataset.config.JSONData.data;for(i=sortedData.length;i--;){data=sortedData[i];if(data.x>=minX&&data.x<=maxX){returnIndices.push(i)}}return returnIndices},__parseToolText=function __parseToolText(i){var dataset=this,conf=dataset.config,setDataArr=conf.JSONData.data,data=dataset.components.data,xAxis=dataset.getFromEnv("xAxis"),chartAttr=dataset.getFromEnv("chart-attrib"),isLine=conf.plotType===LINE?1:0,toolText,BLANK=BLANKSTRING,setData=setDataArr[i],config=data[i].config,label=xAxis.getLabel(config.x).label,open=config.open,close=config.close,yAxis=dataset.getFromEnv("yAxis"),high=config.high,low=config.low,volume=config.volume,volumeToolText=volume!==UNDEF?setData.volumetooltext:UNDEF;if(!conf.showTooltip){toolText=BLANK}else{toolText=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(volumeToolText,setData.tooltext,conf.volumeToolText,conf.toolText)));if(toolText!==UNDEF){toolText=(0,_lib.parseTooltext)(toolText,[3,5,6,10,54,55,56,57,58,59,60,61,81,82],{label:label,yaxisName:(0,_lib.parseUnsafeString)(chartAttr.yaxisname),xaxisName:(0,_lib.parseUnsafeString)(chartAttr.xaxisname),openValue:setData.open,openDataValue:yAxis.dataLabels(open),closeValue:setData.close,closeDataValue:yAxis.dataLabels(close),highValue:setData.high,highDataValue:yAxis.dataLabels(high),lowValue:setData.low,lowDataValue:yAxis.dataLabels(low),volumeValue:setData.volume,volumeDataValue:yAxis.dataLabels(volume)},setData,chartAttr)}else{toolText=open!==null&&!isLine?BOLDSTARTTAG+"Open:"+BOLDENDTAG+BLANKSPACE+yAxis.dataLabels(open)+BREAKSTRING:BLANK;toolText+=close!==null?BOLDSTARTTAG+"Close:"+BOLDENDTAG+BLANKSPACE+yAxis.dataLabels(close)+BREAKSTRING:BLANK;toolText+=high!==null&&!isLine?BOLDSTARTTAG+"High:"+BOLDENDTAG+BLANKSPACE+yAxis.dataLabels(high)+BREAKSTRING:BLANK;toolText+=low!==null&&!isLine?BOLDSTARTTAG+"Low:"+BOLDENDTAG+BLANKSPACE+yAxis.dataLabels(low)+BREAKSTRING:BLANK;toolText+=volume!==null?BOLDSTARTTAG+"Volume:"+BOLDENDTAG+BLANKSPACE+yAxis.dataLabels(volume):BLANK}}return toolText};(0,_dependencyManager.addDep)({name:"candlestickAnimation",type:"animationRule",extension:_candlestickAnimation2["default"]});var CandleStickDataset=function(_ErrorBar2DDataset){_inherits(CandleStickDataset,_ErrorBar2DDataset);function CandleStickDataset(){_classCallCheck(this,CandleStickDataset);return _possibleConstructorReturn(this,_ErrorBar2DDataset.apply(this,arguments))}CandleStickDataset.prototype.trimData=function trimData(datasetJSON){if(!this.components&&this.components.data&&this.components.data.length){return}var dataSet=this,comps=dataSet.components,prevData=comps&&comps.data,prevDataLength=prevData&&prevData.length,data=datasetJSON.data,currDataLength=Array.isArray(data)&&data.filter(function(v){return v.high||v.open||v.close||v.low}).length||0,dataDiff=prevDataLength-currDataLength;if(dataDiff>0){this.removeData(currDataLength,dataDiff,false)}};CandleStickDataset.prototype.removePlots=function removePlots(){var dataset=this,components=dataset.components,removeDataArr=components&&components.removeDataArr;(0,_column._removePlots)(removeDataArr,dataset.__removeElem)};CandleStickDataset.prototype.configureAttributes=function configureAttributes(datasetJSON){if(!datasetJSON){return false}this.trimData(datasetJSON);this.config.JSONData=datasetJSON;var dataset=this,conf=dataset.config,chart=dataset.getFromEnv("chart"),rawDataObj=chart.getFromEnv("dataSource"),JSONData=dataset.config.JSONData,dataArr=JSONData.data||[],chartAttr=rawDataObj.chart,dataLength=dataArr.length,numberFormatter=dataset.getFromEnv("number-formatter"),colorM=dataset.getFromEnv("color-manager"),setColor,setBorderColor,setAlpha,bearBorderColor=conf.bearBorderColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(chartAttr.bearbordercolor,COLOR_B90000)),bearFillColor=conf.bearFillColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(chartAttr.bearfillcolor,COLOR_B90000)),bullBorderColor=conf.bullBorderColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(chartAttr.bullbordercolor,colorM.getColor("canvasBorderColor"))),bullFillColor=conf.bullFillColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(chartAttr.bullfillcolor,COLOR_FFFFFF)),plotLineThickness=conf.linethickness=conf.plotBorderThickness=(0,_lib.pluckNumber)(chartAttr.plotlinethickness,1),plotLineDashLen=conf.plotLineDashLen=(0,_lib.pluckNumber)(chartAttr.plotlinedashlen,5),plotLineDashGap=conf.plotLineDashGap=(0,_lib.pluckNumber)(chartAttr.plotlinedashgap,4),pointShadow,index,dataObj,open,close,high,low,volume,minValue,maxValue,x,closeVal,borderColor,yVal,dataStore,setData,config,isCandleStick=false,plotSpacePercent,yMax=-Infinity,yMin=+Infinity,xMax=-Infinity,xMin=+Infinity,userMaxColWidth;dataset.setState("visible",(0,_lib.pluckNumber)(JSONData.visible,1)===1);dataset._conatinerHidden=!!dataset.getState("visible");conf.defaultPadding={left:.5,right:.5};conf.parentYAxis=0;conf.toolText=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(JSONData.tooltext,chartAttr.plottooltext)));conf.name=(0,_lib.getValidValue)(JSONData.seriesname);conf.showTooltip=(0,_lib.pluck)(chartAttr.showtooltip,1);conf.showShadow=(0,_lib.pluckNumber)(chartAttr.showshadow,colorM.getColor(SHOWSHADOW));conf.showErrorValue=true;conf.errorBarWidthPercent=0;isCandleStick=true;userMaxColWidth=(0,_lib.pluck)(chartAttr.maxcolwidth);conf.maxColWidth=Math.abs((0,_lib.pluckNumber)(userMaxColWidth,50))||1;plotSpacePercent=Math.max((0,_lib.pluckNumber)(chartAttr.plotspacepercent,20)%100,0);conf.plotSpacePercent=conf.groupPadding=plotSpacePercent/200;dataStore=dataset.components.data=dataset.components.data||(dataset.components.data=[]);conf.valuePadding=(0,_lib.pluckNumber)(JSONData.valuepadding,chartAttr.valuepadding,2);conf.plotBorderThickness=plotLineThickness;for(index=0;index<dataLength;index+=1){setData=dataArr[index];dataObj=dataStore[index];if(!dataObj){dataObj=dataStore[index]={}}!dataObj.config&&(dataObj.config={});!dataObj.graphics&&(dataObj.graphics={});config=dataObj.config;if(setData&&!setData.vline){config.setLink=(0,_lib.pluck)(setData.link);open=config.open=numberFormatter.getCleanValue(setData.open);close=config.close=numberFormatter.getCleanValue(setData.close);high=config.high=numberFormatter.getCleanValue(setData.high);low=config.low=numberFormatter.getCleanValue(setData.low);volume=config.volume=numberFormatter.getCleanValue(setData.volume,true);if(volume!==null){chart.config.drawVolume=true}x=config.x=numberFormatter.getCleanValue(setData.x);closeVal=config.closeVal=Math.min(open,close);yVal=config.yVal=Math.max(open,close);minValue=Math.min(open,close,high,low);maxValue=Math.max(open,close,high,low);setBorderColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(setData.bordercolor,close<open?bearBorderColor:bullBorderColor));setAlpha=(0,_lib.pluckNumber)(setData.alpha,100);setColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(setData.color,close<open?bearFillColor:bullFillColor));config.plotBorderDashStyle=(0,_lib.pluckNumber)(setData.dashed)?(0,_lib.getDashStyle)(plotLineDashLen,plotLineDashGap):DASH_DEF;pointShadow={opacity:conf.showShadow?setAlpha/100:0};config.color=isCandleStick?setColor:setBorderColor;config.alpha=setAlpha;config.setColor=config.color;config.setAlpha=config.alpha;config.anchorImageUrl=(0,_lib.pluck)(setData.anchorimageurl,JSONData.anchorimageurl,chartAttr.anchorimageurl);borderColor=config.borderColor=setBorderColor;config.borderAlpha=config.plotLineAlpha;config.colorArr=[{color:config.color,alpha:config.alpha},{color:config.borderColor,alpha:config.borderAlpha}];config.showValue=1;config.hoverEffects={};config.y=Math.abs(close-open);config.previousY=closeVal;config.link=(0,_lib.pluck)(setData.link);config.errorValueArr=[];if(high-yVal>0){config.errorValue=true;config.errorValueArr.push({errorValue:yVal-high,errorStartValue:yVal,errorBarColor:borderColor,errorBarThickness:plotLineThickness,opacity:1})}if(low-closeVal<0){config.errorValue=true;config.errorValueArr.push({errorValue:closeVal-low,errorStartValue:closeVal,errorBarColor:borderColor,errorBarThickness:plotLineThickness,opacity:1})}config.setValue=yVal;if(minValue!==null){yMax=Math.max(yMax,minValue);yMin=Math.min(yMin,minValue)}if(maxValue!==null){yMax=Math.max(yMax,maxValue);yMin=Math.min(yMin,maxValue)}if(x!==null){xMax=Math.max(xMax,x);xMin=Math.min(xMin,x)}x=x!==null?x:index+1;config._x=x;config._y=yVal;config._b=closeVal;config.high=Math.max(open,close,high,low);config.low=Math.min(open,close,high,low);config.shadow=pointShadow;config.toolText=dataset._parseToolText(index);config.toolTipValue="";config.displayValue=(0,_lib.parseUnsafeString)((0,_lib.pluck)(setData.displayvalue,setData.valuetext,BLANKSTRING))}}conf.yMax=yMax;conf.yMin=yMin;conf.xMax=xMax;conf.xMin=xMin;dataset.setState("dirty",true)};CandleStickDataset.prototype._parseToolText=function _parseToolText(i){return __parseToolText.call(this,i)};CandleStickDataset.prototype.calculateScrollRange=function calculateScrollRange(){var dataset=this,conf=dataset.config,dataLen=dataset.components.data&&dataset.components.data.length;conf.scrollMinVal=conf.scrollMinValForLabel=0;conf.scrollMaxVal=conf.scrollMaxValForLabel=dataLen};CandleStickDataset.prototype.getPlotIndices=function getPlotIndices(x){return _getPlotIndices.call(this,x)};CandleStickDataset.prototype._getHoveredPlot=function _getHoveredPlot(chartX,chartY){var dataset=this,xAxis=dataset.getFromEnv("xAxis"),x,i,hoveredInfo,pXs,pX;x=xAxis.getValue(chartX);pXs=dataset.getPlotIndices(x);for(i=pXs.length-1;i>-1;i--){pX=pXs[i];hoveredInfo=pX-x>0?dataset._checkPointerOverPlot(pX,chartX,chartY)||dataset._checkPointerOverPlot(pX-1,chartX,chartY):dataset._checkPointerOverPlot(pX+1,chartX,chartY)||dataset._checkPointerOverPlot(pX,chartX,chartY);if(hoveredInfo){break}}return hoveredInfo};CandleStickDataset.prototype._firePlotEvent=function _firePlotEvent(eventType,plotIndex,e){_firePlotEvent2.call(this,eventType,plotIndex,e)};CandleStickDataset.prototype.getDataLimits=function getDataLimits(){var conf=this.config;return{max:conf.yMax,min:conf.yMin,xMax:conf.xMax,xMin:conf.xMin}};CandleStickDataset.prototype.getName=function getName(){return"candlestick"};return CandleStickDataset}(_errorbar2d2["default"]);exports["default"]=CandleStickDataset;exports.getPlotIndices=_getPlotIndices;exports._firePlotEvent=_firePlotEvent2;exports._parseToolText=__parseToolText},560:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]={"initial.dataset.candlestick":function initialDatasetCandlestick(){return{"rect.appearing":function rectAppearing(inputJSON){return[{initialAttr:{y:inputJSON.attr.y+inputJSON.attr.height,height:0},slot:"plot"}]},"group.appearing":function groupAppearing(inputJSON){if(inputJSON.attr.name==="label-group"){return[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}]}else{return[{initialAttr:{opacity:1},finalAttr:{opacity:1},slot:"final"}]}},"*":null}},"initial.dataset.volume":function initialDatasetVolume(){return{"rect.appearing":function rectAppearing(inputJSON){return[{initialAttr:{y:inputJSON.attr.y+inputJSON.attr.height,height:0},slot:"plot"}]},"*":null}}}},561:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _line=__webpack_require__(346);var _line2=_interopRequireDefault(_line);var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _dependencyManager=__webpack_require__(125);var _trendsetAnimation=__webpack_require__(562);var _trendsetAnimation2=_interopRequireDefault(_trendsetAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var HUNDRED="100",DASH_DEF="none";(0,_dependencyManager.addDep)({name:"trendsetAnimation",type:"animationRule",extension:_trendsetAnimation2["default"]});var Trendset=function(_Line){_inherits(Trendset,_Line);function Trendset(){_classCallCheck(this,Trendset);return _possibleConstructorReturn(this,_Line.apply(this,arguments))}Trendset.prototype.__setDefaultConfig=function __setDefaultConfig(){_Line.prototype.__setDefaultConfig.call(this);this.config.drawLine=1};Trendset.prototype.configureAttributes=function configureAttributes(datasetJSON){if(!datasetJSON){return false}this.trimData(datasetJSON);this.config.JSONData=datasetJSON;var dataset=this,chartAttr=dataset.getFromEnv("chart-attrib"),chartConfig=dataset.getFromEnv("chartConfig"),trendset=dataset.config.JSONData,index=dataset.index,setDataArr=trendset.data||trendset.set||[],conf=dataset.config,dataObj,itemValue,dataStore=dataset.components.data,dataStoreObj,config,maxValue=-Infinity,minValue=+Infinity,x,length,xMax=-Infinity,xMin=+Infinity,NumberFormatter=dataset.getFromEnv("number-formatter"),trendSetColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(trendset.color,chartAttr.trendsetcolor,"666666")),trendSetAlpha=(0,_lib.pluck)(trendset.alpha,chartAttr.trendsetalpha,HUNDRED),trendSetThickness=(0,_lib.pluckNumber)(trendset.thickness,chartAttr.trendsetthickness,2),trendSetDashed=Boolean((0,_lib.pluckNumber)(trendset.dashed,chartAttr.trendsetdashed,0)),trendSetDashLen=(0,_lib.pluckNumber)(trendset.dashlen,chartAttr.trendsetdashlen,4),trendSetDashGap=(0,_lib.pluckNumber)(trendset.dashgap,chartAttr.trendsetdashgap,4);conf.includeInLegend=(0,_lib.pluckNumber)(trendset.includeinlegend,1);conf.lineColor=trendSetColor;conf.lineAlpha=trendSetAlpha;conf.connectNullData=(0,_lib.pluckNumber)(chartAttr.connectnulldata,0);conf.linethickness=trendSetThickness;conf.lineDashStyle=trendSetDashed?(0,_lib.getDashStyle)(trendSetDashLen,trendSetDashGap):DASH_DEF;conf.name=(0,_lib.getValidValue)(trendset.name);conf.includeInLegend=(0,_lib.pluckNumber)(trendset.includeinlegend,1);conf.defaultPadding={left:.5,right:.5};if(!dataStore){dataStore=dataset.components.data=[]}for(index=0,length=setDataArr.length;index<length;index+=1){dataObj=setDataArr[index];if(dataObj&&!dataObj.vline){dataStoreObj=dataStore[index]=dataStore[index]||(dataStore[index]={});config=dataStoreObj.config=dataStoreObj.config||(dataStoreObj.config={});itemValue=config._y=config.setValue=NumberFormatter.getCleanValue(dataObj.value);config.setColor=conf.lineColor;config.setAlpha=conf.lineAlpha;x=NumberFormatter.getCleanValue(dataObj.x);x=config._x=config.x=x!==null?x:index+1;maxValue=Math.max(maxValue,itemValue);minValue=Math.min(minValue,itemValue);xMin=Math.min(xMin,x);xMax=Math.max(xMax,x);config.anchorProps=this._parseAnchorProperties(index);config.hoverEffects={};if(!dataStoreObj.graphics){dataStoreObj.graphics={}}}}conf.max=maxValue;conf.min=minValue;conf.xMax=xMax;conf.xMin=xMin;chartConfig.showLegend&&dataset._addLegend();dataset.setState("visible",true);dataset.setState("dirty",true)};Trendset.prototype._addLegend=function _addLegend(){var dataset=this,JSONData=dataset.config.JSONData,conf=dataset.config,legendItem,legend=dataset.getFromEnv("legend"),config={enabled:conf.includeInLegend,interactiveLegend:false,type:dataset.type,drawLine:true,label:(0,_lib.getFirstValue)(JSONData.name)};if(conf.includeinlegend){legendItem=legend.getItem(dataset.config.legendItemId);if(!legendItem){dataset.config.legendItemId=legend.createItem(dataset);legendItem=legend.getItem(dataset.config.legendItemId)}else{legendItem.configure({style:legend.config.itemStyle,hiddenStyle:legend.config.itemHiddenStyle,datasetVisible:legend.config.datasetVisible,hoverStyle:legend.config.itemHoverStyle})}legendItem.configure(config);legendItem.setStateCosmetics("default",{symbol:{stroke:(0,_lib.toRaphaelColor)({color:conf.lineColor,alpha:HUNDRED}),rawFillColor:conf.lineColor}})}else if(dataset.config.legendItemId){legend.disposeItem(dataset.config.legendItemId)}};Trendset.prototype.getDataLimits=function getDataLimits(){var conf=this.config;return{max:conf.max,min:conf.min,xMax:conf.xMax,xMin:conf.xMin}};Trendset.prototype.getType=function getType(){return"trendset"};Trendset.prototype.drawLabel=function drawLabel(){};Trendset.prototype.getName=function getName(){return"trendset"};return Trendset}(_line2["default"]);exports["default"]=Trendset},562:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _lineAnimation=__webpack_require__(349);var _lineAnimation2=_interopRequireDefault(_lineAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports["default"]={"initial.trendset.trendset":_lineAnimation2["default"]["initial.dataset.line"]}},563:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=function(chart){var canvasArr=chart.getChildren("canvas"),canvas=canvasArr[0],canvasVolume=canvasArr[1],showVolumeChart=chart.config.showVolumeChart,zoomObj={zoomable:true,pannable:true},conf=void 0,axisRefVisualCartesian=canvas.getChildren("axisRefVisualCartesian")[0],axisRefVisualCartesianVol=void 0,vYAxis=void 0,yAxis=void 0,xAxis=void 0,redraw=function redraw(){return axisRefVisualCartesian.asyncDraw()},redrawVol=function redrawVol(){return axisRefVisualCartesianVol.asyncDraw()};conf=chart._feedAxesRawData();(0,_lib.componentFactory)(chart,_numeric2["default"],"yAxis",showVolumeChart?2:1,conf.yAxisConfigure);(0,_lib.componentFactory)(chart,_numeric2["default"],"xAxis",1,conf.xAxisConfigure);yAxis=chart.getChildren("yAxis")[0];vYAxis=chart.getChildren("yAxis")[1];yAxis.setAxisConfig({relativeAxis:vYAxis});vYAxis&&vYAxis.setAxisConfig({relativeAxis:yAxis});xAxis=chart.getChildren("xAxis")[0];yAxis.setLinkedItem("canvas",canvas);xAxis.setLinkedItem("canvas",canvas);axisRefVisualCartesian.setLinkedItem(yAxis.getId(),yAxis);axisRefVisualCartesian.setLinkedItem(xAxis.getId(),xAxis);axisRefVisualCartesian.addExtEventListener("visiblerangeset",redraw,yAxis);axisRefVisualCartesian.addExtEventListener("visiblerangeset",redraw,xAxis);canvas.attachAxis(xAxis,false,chart.zoomX?zoomObj:{});canvas.attachAxis(yAxis,true,chart.zoomY?zoomObj:{});if(showVolumeChart){axisRefVisualCartesianVol=canvasVolume.getChildren("axisRefVisualCartesian")[0];canvasVolume.attachAxis(xAxis,false,chart.zoomX?zoomObj:{});vYAxis.setLinkedItem("canvas",canvasVolume);axisRefVisualCartesianVol.setLinkedItem(vYAxis.getId(),vYAxis);axisRefVisualCartesianVol.setLinkedItem(xAxis.getId(),xAxis);axisRefVisualCartesianVol.addExtEventListener("visiblerangeset",redrawVol,vYAxis);axisRefVisualCartesianVol.addExtEventListener("visiblerangeset",redrawVol,xAxis);canvasVolume.attachAxis(vYAxis,true,chart.zoomY?zoomObj:{})}chart._setCategories()};var _lib=__webpack_require__(118);var _numeric=__webpack_require__(292);var _numeric2=_interopRequireDefault(_numeric);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}},564:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _column=__webpack_require__(331);var _column2=_interopRequireDefault(_column);var _errorbar2d=__webpack_require__(473);var _candlestick=__webpack_require__(559);var _dependencyManager=__webpack_require__(125);var _candlestickbarAnimation=__webpack_require__(565);var _candlestickbarAnimation2=_interopRequireDefault(_candlestickbarAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var colorStrings=_lib.preDefStr.colors,COLOR_B90000=colorStrings.B90000,COLOR_FFFFFF=colorStrings.FFFFFF,SHOWSHADOW="showShadow",ROUND=_lib.preDefStr.ROUND,visibleStr=_lib.preDefStr.visibleStr,DASH_DEF="none",POINTER="pointer",BLANKSTRING="",M="M",L="L";(0,_dependencyManager.addDep)({name:"candlestickbarAnimation",type:"animationRule",extension:_candlestickbarAnimation2["default"]});var CandleStickBar=function(_Column){_inherits(CandleStickBar,_Column);function CandleStickBar(){_classCallCheck(this,CandleStickBar);return _possibleConstructorReturn(this,_Column.apply(this,arguments))}CandleStickBar.prototype.trimData=function trimData(datasetJSON){if(!this.components&&this.components.data&&this.components.data.length){return}var dataSet=this,comps=dataSet.components,prevData=comps&&comps.data,prevDataLength=prevData&&prevData.length,data=datasetJSON.data,currDataLength=Array.isArray(data)&&data.filter(function(v){return v.high||v.open||v.close||v.low}).length||0,dataDiff=prevDataLength-currDataLength;if(dataDiff>0){this.removeData(currDataLength,dataDiff,false)}};CandleStickBar.prototype.configureAttributes=function configureAttributes(datasetJSON){if(!datasetJSON){return false}this.trimData(datasetJSON);this.config.JSONData=datasetJSON;var dataset=this,conf=dataset.config,chart=dataset.getFromEnv("chart"),rawDataObj=chart.getFromEnv("dataSource"),JSONData=dataset.config.JSONData,dataArr=JSONData.data||[],chartAttr=rawDataObj.chart,dataLength=dataArr.length,numberFormatter=dataset.getFromEnv("number-formatter"),colorM=dataset.getFromEnv("color-manager"),setColor,setBorderColor,setAlpha,bearBorderColor=conf.bearBorderColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(chartAttr.bearbordercolor,COLOR_B90000)),bearFillColor=conf.bearFillColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(chartAttr.bearfillcolor,COLOR_B90000)),bullBorderColor=conf.bullBorderColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(chartAttr.bullbordercolor,colorM.getColor("canvasBorderColor"))),bullFillColor=conf.bullFillColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(chartAttr.bullfillcolor,COLOR_FFFFFF)),index,dataObj,open,close,high,low,minValue,maxValue,x,plotLineDashLen,plotLineDashGap,dataStore,setData,config,isCandleStick=false,yMax=-Infinity,yMin=+Infinity,xMax=-Infinity,xMin=+Infinity,userMaxColWidth,enableAnimation;dataset.setState("visible",(0,_lib.pluckNumber)(JSONData.visible,1)===1);dataset._conatinerHidden=!!dataset.getState("visible");conf.defaultPadding={left:.5,right:.5};conf.linethickness=(0,_lib.pluckNumber)(chartAttr.plotlinethickness,2);conf.toolText=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(JSONData.tooltext,chartAttr.plottooltext)));conf.name=(0,_lib.getValidValue)(JSONData.seriesname);conf.showTooltip=(0,_lib.pluck)(chartAttr.showtooltip,1);conf.showErrorValue=true;conf.errorBarWidthPercent=0;isCandleStick=true;userMaxColWidth=(0,_lib.pluck)(chartAttr.maxcolwidth);conf.maxColWidth=Math.abs((0,_lib.pluckNumber)(userMaxColWidth,50))||1;conf.enableAnimation=enableAnimation=(0,_lib.pluckNumber)(chartAttr.animation,chartAttr.defaultanimation,1);conf.animation=!enableAnimation?false:{duration:(0,_lib.pluckNumber)(chartAttr.animationduration,1)*1e3};plotLineDashLen=conf.plotLineDashLen=(0,_lib.pluckNumber)(chartAttr.plotlinedashlen,5);plotLineDashGap=conf.plotLineDashGap=(0,_lib.pluckNumber)(chartAttr.plotlinedashgap,4);dataStore=dataset.components.data=dataset.components.data||(dataset.components.data=[]);conf.valuePadding=(0,_lib.pluckNumber)(JSONData.valuepadding,chartAttr.valuepadding,2);conf.showShadow=(0,_lib.pluckNumber)(chartAttr.showshadow,colorM.getColor(SHOWSHADOW));for(index=0;index<dataLength;index++){setData=dataArr[index];dataObj=dataStore[index];if(!dataObj){dataObj=dataStore[index]={}}!dataObj.config&&(dataObj.config={});!dataObj.graphics&&(dataObj.graphics={});config=dataObj.config;if(setData&&!setData.vline){config.setLink=(0,_lib.pluck)(setData.link);open=config.open=numberFormatter.getCleanValue(setData.open);close=config.close=numberFormatter.getCleanValue(setData.close);high=numberFormatter.getCleanValue(setData.high);low=numberFormatter.getCleanValue(setData.low);config.volume=numberFormatter.getCleanValue(setData.volume,true);x=config.x=numberFormatter.getCleanValue(setData.x);config.high=Math.max(open,close,high,low);config.low=Math.min(open,close,high,low);config.yVal=Math.max(open,close);minValue=Math.min(open,close,high,low);maxValue=Math.max(open,close,high,low);setBorderColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(setData.bordercolor,close<open?bearBorderColor:bullBorderColor));setAlpha=(0,_lib.pluckNumber)(setData.alpha,100);setColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(setData.color,close<open?bearFillColor:bullFillColor));config.color=isCandleStick?setColor:setBorderColor;config.alpha=setAlpha;config.setColor=config.color;config.setAlpha=config.alpha;config.borderColor=setBorderColor;config.borderAlpha=config.plotLineAlpha;config.colorArr=[{color:config.color,alpha:config.alpha},{color:config.borderColor,alpha:config.borderAlpha}];config.showValue=1;config.hoverEffects={};config.link=(0,_lib.pluck)(setData.link);config.setValue=config.y;if(minValue!==null){yMax=Math.max(yMax,minValue);yMin=Math.min(yMin,minValue)}if(maxValue!==null){yMax=Math.max(yMax,maxValue);yMin=Math.min(yMin,maxValue)}if(x!==null){xMax=Math.max(xMax,x);xMin=Math.min(xMin,x)}config.dashStyle=(0,_lib.pluckNumber)(setData.dashed)?(0,_lib.getDashStyle)(plotLineDashLen,plotLineDashGap):DASH_DEF;config.shadow={opacity:conf.showShadow?setAlpha/100:0};x=x!==null?x:index+1;config.toolText=dataset._parseToolText(index);config.toolTipValue="";config._x=x;config.y=open;config.previousY=close}}conf.yMax=yMax;conf.yMin=yMin;conf.xMax=xMax;conf.xMin=xMin;dataset.setState("dirty",true)};CandleStickBar.prototype.drawPlots=function drawPlots(){var dataset=this,config,animationManager=dataset.getFromEnv("animationManager"),conf=dataset.config,components=dataset.components,data=components.data,length=data.length,xAxis=dataset.getFromEnv("xAxis"),yAxis=dataset.getFromEnv("yAxis"),xPosOffset,i,set,setLink,x,y,previousY,xPos,yPos,previousYPos,setElem,bars,applyShadow=function applyShadow(shadow){return function(){this.shadow(shadow)}},trackerTolerance=conf.linethickness>5?conf.linethickness/2:2.5,container=dataset.getContainer("plotGroup"),visible=dataset.getState("visible"),highPos,lowPos,halfW,path,graphics;animationManager.setAnimation({el:container,attr:{opacity:visible?1:0},component:dataset});dataset.setColumnPosition();xPosOffset=dataset.getFromEnv("columnXShift");for(i=0;i<length;i+=1){set=data[i];config=set.config;graphics=set.graphics;y=config.y;setElem=null;if(y===null){setElem=graphics.element}else{x=config._x;setLink=config.link;config.setLink=config.link;xPos=xAxis.getPixel(x);previousY=config.previousY;previousYPos=yAxis.getPixel(previousY);yPos=yAxis.getPixel(y);highPos=yAxis.getPixel(config.high);lowPos=yAxis.getPixel(config.low);halfW=xPosOffset;set.errorBar=[];bars=set.errorBar;bars.push([{_xPos:xPos-trackerTolerance,_yPos:highPos,_height:Math.abs(highPos-lowPos),_width:2*trackerTolerance},{_xPos:xPos+halfW,_yPos:yPos,_height:2*trackerTolerance,_width:Math.abs(halfW)},{_xPos:xPos,_yPos:previousYPos,_height:2*trackerTolerance,_width:Math.abs(halfW)}]);path=[M,xPos,lowPos,L,xPos,highPos,M,xPos,yPos,L,xPos+halfW,yPos,M,xPos,previousYPos,L,xPos-halfW,previousYPos];setElem=graphics.element;setElem=animationManager.setAnimation({el:setElem||"path",container:container,attr:{path:path,cursor:setLink?POINTER:BLANKSTRING,fill:(0,_lib.toRaphaelColor)(config.color),stroke:(0,_lib.toRaphaelColor)(config.borderColor),"stroke-width":conf.linethickness,"stroke-dasharray":config.dashStyle,"stroke-linecap":ROUND,"stroke-linejoin":ROUND,"shape-rendering":"crisp",visibility:visibleStr},label:"path",component:dataset,callback:applyShadow.call(setElem,config.shadow)});graphics.element=setElem}}};CandleStickBar.prototype._parseToolText=function _parseToolText(i){return _candlestick._parseToolText.call(this,i)};CandleStickBar.prototype._firePlotEvent=function _firePlotEvent(eventType,plotIndex,e){_candlestick._firePlotEvent.call(this,eventType,plotIndex,e)};CandleStickBar.prototype._checkPointerOverColumn=function _checkPointerOverColumn(){};CandleStickBar.prototype._getHoveredPlot=function _getHoveredPlot(chartX,chartY){var dataset=this,xAxis=dataset.getFromEnv("xAxis"),x,i,hoveredInfo,pXs,pX;x=xAxis.getValue(chartX);pXs=_candlestick.getPlotIndices.call(dataset,x);for(i=pXs.length-1;i>-1;i--){pX=pXs[i];hoveredInfo=pX-x>0?dataset._checkPointerOverPlot(pX,chartX,chartY)||dataset._checkPointerOverPlot(pX-1,chartX,chartY):dataset._checkPointerOverPlot(pX+1,chartX,chartY)||dataset._checkPointerOverPlot(pX,chartX,chartY);if(hoveredInfo){break}}return hoveredInfo};CandleStickBar.prototype._checkPointerOverPlot=function _checkPointerOverPlot(pX,chartX,chartY){return _errorbar2d._checkPointerOverPlot.call(this,pX,chartX,chartY)};CandleStickBar.prototype._checkPointerOverErrorBar=function _checkPointerOverErrorBar(pX,chartX,chartY){return _errorbar2d._checkPointerOverErrorBar.call(this,pX,chartX,chartY)};CandleStickBar.prototype.drawLabel=function drawLabel(){};CandleStickBar.prototype.getDataLimits=function getDataLimits(){var conf=this.config;return{max:conf.yMax,min:conf.yMin,xMax:conf.xMax,xMin:conf.xMin}};CandleStickBar.prototype.getName=function getName(){return"candlestickbar"};return CandleStickBar}(_column2["default"]);exports["default"]=CandleStickBar},565:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]={"initial.dataset.candlestickbar":function initialDatasetCandlestickbar(){return{"path.appearing":function pathAppearing(){return[{initialAttr:{opacity:1,"stroke-width":1},finalAttr:{opacity:1}}]},"*":null}}}},566:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _line=__webpack_require__(346);var _line2=_interopRequireDefault(_line);var _candlestick=__webpack_require__(559);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var colorStrings=_lib.preDefStr.colors,COLOR_B90000=colorStrings.B90000,COLOR_FFFFFF=colorStrings.FFFFFF,UNDERSCORE="_",BLANK="",SHOWSHADOW="showShadow",ZEROSTRING="0",HUNDRED="100";var CandleStickline=function(_Line){_inherits(CandleStickline,_Line);function CandleStickline(){_classCallCheck(this,CandleStickline);return _possibleConstructorReturn(this,_Line.apply(this,arguments))}CandleStickline.prototype.configureAttributes=function configureAttributes(datasetJSON){if(!datasetJSON){return false}this.trimData(datasetJSON);this.config.JSONData=datasetJSON;var dataset=this,conf=dataset.config,JSONData=dataset.config.JSONData,dataArr=JSONData.data||[],chartAttr=dataset.getFromEnv("chart-attrib"),dataLength=dataArr.length,numberFormatter=dataset.getFromEnv("number-formatter"),colorM=dataset.getFromEnv("color-manager"),setColor,setBorderColor,setAlpha,dashStyle,bearBorderColor=conf.bearBorderColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(chartAttr.bearbordercolor,COLOR_B90000)),bearFillColor=conf.bearFillColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(chartAttr.bearfillcolor,COLOR_B90000)),bullBorderColor=conf.bullBorderColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(chartAttr.bullbordercolor,colorM.getColor("canvasBorderColor"))),bullFillColor=conf.bullFillColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(chartAttr.bullfillcolor,COLOR_FFFFFF)),plotLineThickness=conf.linethickness=conf.plotBorderThickness=(0,_lib.pluckNumber)(chartAttr.plotlinethickness,2),plotLineDashLen=conf.plotLineDashLen=(0,_lib.pluckNumber)(chartAttr.plotlinedashlen,5),plotLineDashGap=conf.plotLineDashGap=(0,_lib.pluckNumber)(chartAttr.plotlinedashgap,4),drawAnchors=!!(0,_lib.pluckNumber)(chartAttr.drawanchors,0),setAnchorAngle=(0,_lib.pluckNumber)(chartAttr.anchorstartangle,90),setAnchorRadius=(0,_lib.pluckNumber)(chartAttr.anchorradius,this.anchorRadius,3),setAnchorBorderColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(chartAttr.anchorbordercolor,bullBorderColor)),setAnchorBorderThickness=(0,_lib.pluckNumber)(chartAttr.anchorborderthickness,this.anchorBorderThickness,1),setAnchorBgColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(chartAttr.anchorbgcolor,colorM.getColor("anchorBgColor"))),setAnchorAlpha=(0,_lib.pluck)(chartAttr.anchoralpha,ZEROSTRING),setAnchorBgAlpha=(0,_lib.pluck)(chartAttr.anchorbgalpha,setAnchorAlpha),pointShadow,index,dataObj,open,close,high,low,minValue,maxValue,x,dataStore,setData,config,isCandleStick=false,plotSpacePercent,yMax=-Infinity,yMin=+Infinity,xMax=-Infinity,xMin=+Infinity,userMaxColWidth,enableAnimation;dataset.setState("visible",(0,_lib.pluckNumber)(JSONData.visible,1)===1);dataset._conatinerHidden=!!dataset.getState("visible");conf.defaultPadding={left:.5,right:.5};conf.plotType="line";conf.parentYAxis=0;conf.toolText=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(JSONData.tooltext,chartAttr.plottooltext)));conf.name=(0,_lib.getValidValue)(JSONData.seriesname);conf.showTooltip=(0,_lib.pluck)(chartAttr.showtooltip,1);userMaxColWidth=(0,_lib.pluck)(chartAttr.maxcolwidth);conf.maxColWidth=Math.abs((0,_lib.pluckNumber)(userMaxColWidth,50))||1;conf.enableAnimation=enableAnimation=(0,_lib.pluckNumber)(chartAttr.animation,chartAttr.defaultanimation,1);conf.animation=!enableAnimation?false:{duration:(0,_lib.pluckNumber)(chartAttr.animationduration,1)*1e3};conf.lineAlpha=(0,_lib.pluck)(chartAttr.plotlinealpha,HUNDRED);plotSpacePercent=Math.max((0,_lib.pluckNumber)(chartAttr.plotspacepercent,20)%100,0);conf.plotSpacePercent=conf.groupPadding=plotSpacePercent/200;dataStore=dataset.components.data=dataset.components.data||(dataset.components.data=[]);conf.valuePadding=(0,_lib.pluckNumber)(JSONData.valuepadding,chartAttr.valuepadding,2);conf.plotBorderThickness=plotLineThickness;conf.showvalues=1;conf.showShadow=(0,_lib.pluckNumber)(chartAttr.showshadow,colorM.getColor(SHOWSHADOW));for(index=0;index<dataLength;index+=1){setData=dataArr[index];dataObj=dataStore[index];if(!dataObj){dataObj=dataStore[index]={}}!dataObj.config&&(dataObj.config={});!dataObj.graphics&&(dataObj.graphics={});config=dataObj.config;if(setData&&!setData.vline){config.setLink=(0,_lib.pluck)(setData.link);open=config.open=numberFormatter.getCleanValue(setData.open);close=config.close=numberFormatter.getCleanValue(setData.close);high=config.high=numberFormatter.getCleanValue(setData.high);low=config.low=numberFormatter.getCleanValue(setData.low);config.volume=numberFormatter.getCleanValue(setData.volume,true);x=config.x=numberFormatter.getCleanValue(setData.x);config.closeVal=Math.min(open,close);config.yVal=Math.max(open,close);minValue=Math.min(open,close,high,low);maxValue=Math.max(open,close,high,low);setBorderColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(setData.bordercolor,close<open?bearBorderColor:bullBorderColor));setAlpha=(0,_lib.pluck)(setData.alpha,conf.lineAlpha);setColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(setData.color,close<open?bearFillColor:bullFillColor));dashStyle=(0,_lib.pluckNumber)(setData.dashed)?(0,_lib.getDashStyle)(plotLineDashLen,plotLineDashGap):"none";config.dashStyle=dashStyle;pointShadow={opacity:conf.showShadow?setAlpha/100:0};config.color=isCandleStick?setColor:setBorderColor;config.alpha=setAlpha;config.setColor=config.color;config.setAlpha=config.alpha;config.anchorImageUrl=(0,_lib.pluck)(setData.anchorimageurl,JSONData.anchorimageurl,chartAttr.anchorimageurl);config.borderColor=setBorderColor;config.borderAlpha=config.plotLineAlpha;config.colorArr=[{color:config.color,alpha:config.alpha},{color:config.borderColor,alpha:config.borderAlpha}];config.anchorSides=(0,_lib.pluckNumber)(setData.anchorsides,JSONData.anchorsides,chartAttr.anchorsides);config.symbol=(0,_libGraphics.mapSymbolName)(config.anchorSides).split(UNDERSCORE);config.anchorProps={enabled:drawAnchors,bgColor:setAnchorBgColor,symbol:config.symbol,bgAlpha:setAnchorBgAlpha*setAnchorAlpha/100+BLANK,borderColor:setAnchorBorderColor,borderAlpha:setAnchorAlpha,anchorAlpha:setAnchorAlpha,borderThickness:setAnchorBorderThickness,imageUrl:config.anchorImageUrl,radius:setAnchorRadius,imageScale:(0,_lib.pluckNumber)(setData.imagescale,JSONData.imagescale,chartAttr.imagescale,100),imagePadding:(0,_lib.pluckNumber)(setData.anchorimagepadding,JSONData.anchorimagepadding,chartAttr.anchorimagepadding,1),imageAlpha:(0,_lib.pluckNumber)(JSONData.anchorimagealpha,chartAttr.anchorimagealpha,100),startAngle:setAnchorAngle};config.showValue=setData.displayvalue?1:0;config.hoverEffects={};config.anchorSides=(0,_lib.pluckNumber)(setData.anchorsides,JSONData.anchorsides,chartAttr.anchorsides);config.symbol=(0,_libGraphics.mapSymbolName)(config.anchorSides).split(UNDERSCORE);config.hoverEffects={};config.y=close;config.link=(0,_lib.pluck)(setData.link);config.toolText=dataset._parseToolText(index);config.toolTipValue="";config.setValue=config._y=config.y;config.displayValue=(0,_lib.parseUnsafeString)((0,_lib.pluck)(setData.displayvalue,setData.valuetext,BLANK));if(minValue!==null){yMax=Math.max(yMax,minValue);yMin=Math.min(yMin,minValue)}if(maxValue!==null){yMax=Math.max(yMax,maxValue);yMin=Math.min(yMin,maxValue)}if(x!==null){xMax=Math.max(xMax,x);xMin=Math.min(xMin,x)}x=x||index+1;config._x=config.x=x;config.high=Math.max(open,close,high,low);config.low=Math.min(open,close,high,low);config.shadow=pointShadow}}conf.yMax=yMax;conf.yMin=yMin;conf.xMax=xMax;conf.xMin=xMin;dataset.setState("dirty",true)};CandleStickline.prototype.__setDefaultConfig=function __setDefaultConfig(){_Line.prototype.__setDefaultConfig.call(this);this.config.drawLine=1};CandleStickline.prototype.trimData=function trimData(datasetJSON){if(!this.components&&this.components.data&&this.components.data.length){return}var dataSet=this,comps=dataSet.components,prevData=comps&&comps.data,prevDataLength=prevData&&prevData.length,data=datasetJSON.data,currDataLength=Array.isArray(data)&&data.filter(function(v){return v.high||v.open||v.close||v.low}).length||0,dataDiff=prevDataLength-currDataLength;if(dataDiff>0){this.removeData(currDataLength,dataDiff,false)}};CandleStickline.prototype.calculateScrollRange=function calculateScrollRange(){var dataset=this,conf=dataset.config,dataLen=dataset.components.data&&dataset.components.data.length;conf.scrollMinVal=conf.scrollMinValForLabel=0;conf.scrollMaxVal=conf.scrollMaxValForLabel=dataLen};CandleStickline.prototype.getDataLimits=function getDataLimits(){var conf=this.config;return{max:conf.yMax,min:conf.yMin,xMax:conf.xMax,xMin:conf.xMin}};CandleStickline.prototype.getPlotIndices=function getPlotIndices(x){var dataset=this,i,minX=Math.floor(x),maxX=Math.ceil(x),data,returnIndices=[],sortedData=dataset.config.JSONData&&dataset.config.JSONData.data;for(i=sortedData.length;i--;){data=sortedData[i];if(data.x>=minX&&data.x<=maxX){returnIndices.push(i)}}return returnIndices};CandleStickline.prototype._parseToolText=function _parseToolText(i){return _candlestick._parseToolText.call(this,i)};CandleStickline.prototype._getHoveredPlot=function _getHoveredPlot(chartX,chartY){var dataset=this,xAxis=dataset.getFromEnv("xAxis"),components=dataset.components,dataStore=components.data,pointObj,pXs,xMin,xMax,len=dataStore.length,returnValue,conf=dataset.config,i,maxRadius=conf&&conf.radius||0;chartX+=xAxis.getTranslation();pXs=dataset.getPlotIndices(Math.floor(Math.max(xAxis.getValue(chartX-maxRadius),0)));xMin=pXs[0];pXs=dataset.getPlotIndices(Math.ceil(Math.min(xAxis.getValue(chartX+maxRadius),len-1)));xMax=pXs[pXs.length-1];var _ref=xMin>xMax?[xMax,xMin]:[xMin,xMax];xMin=_ref[0];xMax=_ref[1];for(i=xMax;i>=xMin;i--){pointObj=dataStore[i];if(pointObj){returnValue=dataset.isWithinShape(pointObj,i,chartX,chartY);if(returnValue){break}}}return returnValue};CandleStickline.prototype.getName=function getName(){return"candlestickline"};return CandleStickline}(_line2["default"]);exports["default"]=CandleStickline},567:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _mscolumn2d=__webpack_require__(404);var _mscolumn2d2=_interopRequireDefault(_mscolumn2d);var _boxandwhisker2d=__webpack_require__(568);var _boxandwhisker2d2=_interopRequireDefault(_boxandwhisker2d);var _boxandwhisker=__webpack_require__(572);var _boxandwhisker2=_interopRequireDefault(_boxandwhisker);var _lib=__webpack_require__(118);var _boxandwhiskerDataset=__webpack_require__(573);var _boxandwhiskerDataset2=_interopRequireDefault(_boxandwhiskerDataset);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}_lib.setAttribDefs&&(0,_lib.setAttribDefs)({whiskerslimitswidthratio:{type:_lib.attrTypeNum,pAttr:"whiskerslimitswidthratio"},outliersupperrangeratio:{type:_lib.attrTypeNum,pAttr:"outliersupperrangeratio"},outlierslowerrangeratio:{type:_lib.attrTypeNum,pAttr:"outlierslowerrangeratio"},showalloutliers:{type:_lib.attrTypeNum,pAttr:"showalloutliers"},showmean:{type:_lib.attrTypeNum,pAttr:"showmean"},showsd:{type:_lib.attrTypeNum,pAttr:"showsd"},showmd:{type:_lib.attrTypeNum,pAttr:"showmd"},showqd:{type:_lib.attrTypeNum,pAttr:"showqd"},showminvalues:{type:_lib.attrTypeNum,pAttr:"showminvalues"},showmaxvalues:{type:_lib.attrTypeNum,pAttr:"showmaxvalues"},showq1values:{type:_lib.attrTypeNum,pAttr:"showq1values"},showq3values:{type:_lib.attrTypeNum,pAttr:"showq3values"},showmedianvalues:{type:_lib.attrTypeNum,pAttr:"showmedianvalues"}});var UNDEF=void 0,POLYGON=_lib.preDefStr.POLYGON,COLOR_000000=_lib.preDefStr.colors.c000000;var BoxAndWhisker2D=function(_MSStackedColumn2D){_inherits(BoxAndWhisker2D,_MSStackedColumn2D);BoxAndWhisker2D.getName=function getName(){return"BoxAndWhisker2D"};BoxAndWhisker2D.prototype.getName=function getName(){return"BoxAndWhisker2D"};function BoxAndWhisker2D(){_classCallCheck(this,BoxAndWhisker2D);var _this=_possibleConstructorReturn(this,_MSStackedColumn2D.call(this));var iapi=_this;iapi.maxColWidth=+Infinity;iapi.useErrorAnimation=1;iapi.avoidCrispError=0;iapi.plotSpacePercent=20;iapi.useplotgradientcolor=1;iapi.fireGroupEvent=true;_this.registerFactory("dataset",_boxandwhiskerDataset2["default"],["vCanvas"]);return _this}BoxAndWhisker2D.prototype.__setDefaultConfig=function __setDefaultConfig(){_MSStackedColumn2D.prototype.__setDefaultConfig.call(this);var config=this.config;config.decimals=2;config.friendlyName="Box and Whisker iapi";config.defaultDatasetType="boxandwhisker2d";config.showplotborder=1;config.plotborderdashlen=5;config.plotborderdashgap=4;config.plotfillalpha=_lib.HUNDREDSTRING;config.useroundedges=0;config.plotborderthickness=1;config.showvalues=1;config.valuepadding=2;config.decimals=2;config.showtooltip=1;config.maxcolwidth=50;config.rotatevalues=0;config.use3dlighting=1;config.whiskerslimitswidthratio=40;config.outliersupperrangeratio=0;config.outlierslowerrangeratio=0;config.showalloutliers=0;config.showmean=0;config.showsd=0;config.showmd=0;config.showqd=0;config.showminvalues=1;config.showmaxvalues=1;config.showq1values=0;config.showq3values=0;config.showmedianvalues=1;config.tooltipsepchar=": ";config.anchorborderthickness=1;config.anchorimageurl=UNDEF;config.anchorimagepadding=1;config.anchorsides=1;config.anchoralpha=UNDEF;config.anchorbgalpha=_lib.HUNDREDSTRING;config.anchorimagealpha=_lib.HUNDREDSTRING;config.anchorimagescale=100;config.anchorstartangle=90;config.anchorshadow=0;config.anchorbgcolor=UNDEF;config.anchorbordercolor=UNDEF;config.anchorradius=3;config.linedashlen=5;config.linedashgap=4;config.linedashed=UNDEF;config.linealpha=_lib.HUNDREDSTRING;config.linethickness=2;config.drawfullareaborder=1;config.connectnulldata=0};BoxAndWhisker2D.prototype._getLineJSONdata=function _getLineJSONdata(){var iapi=this,bwCalc=iapi.getChildren("BoxAndWhiskerStatisticalCalc")[0],jsonData=iapi.getFromEnv("dataSource"),chartAttrs=jsonData.chart,datasets=jsonData.dataset,len=datasets.length,showMean,dataset,data,dataLen,setData,derivedDS=[],currDerivedDS,requiredSubDs=[],derivedDataValue=[],currDerivedDataVal,subDSLen,currSubDS,showSD,showQD,showMD,outliers,outliersArr,valueMin,valueMax,value,fn=function fn(val){value=Number(val);var _extent=(0,_lib.extent)(bwCalc.values);valueMin=_extent[0];valueMax=_extent[1];(value<valueMin||value>valueMax)&&outliersArr.push({value:value,index:j,anchorbgcolor:setData.outliericoncolor,anchorradius:setData.outliericonradius,anchoralpha:setData.outliericonalpha,anchorbgalpha:setData.outliericonalpha,anchorsides:setData.outliericonsides,dip:setData.outliericonshape})},j,k,i;for(i=0;i<len;i++){dataset=datasets[i];currSubDS=requiredSubDs[i]={};currDerivedDataVal=derivedDataValue[i]={showMean:{seriesname:"Mean",showvalues:0,anchorbgcolor:(0,_lib.pluck)(dataset.meaniconcolor,chartAttrs.meaniconcolor,COLOR_000000),anchorbordercolor:COLOR_000000,anchorradius:(0,_lib.pluckNumber)(dataset.meaniconradius,chartAttrs.meaniconradius,5),anchoralpha:(0,_lib.pluck)(dataset.alpha,dataset.meaniconalpha,chartAttrs.meaniconalpha),linethickness:(0,_lib.pluck)(dataset.linethickness,chartAttrs.linethickness,1),anchorsides:(0,_lib.pluck)(dataset.meaniconsides,chartAttrs.meaniconsides,3),showline:!(0,_lib.pluckNumber)(dataset.drawmeanconnector,chartAttrs.drawmeanconnector),dip:(0,_lib.pluck)(dataset.meaniconshape,chartAttrs.meaniconshape,POLYGON),color:(0,_lib.pluck)(dataset.meaniconcolor,chartAttrs.meaniconcolor,COLOR_000000),data:[]},showSD:{seriesname:"SD",showvalues:0,anchorbgcolor:(0,_lib.pluck)(dataset.sdiconcolor,chartAttrs.sdiconcolor,COLOR_000000),anchorbordercolor:COLOR_000000,anchorradius:(0,_lib.pluckNumber)(dataset.sdiconradius,chartAttrs.sdiconradius,5),anchoralpha:(0,_lib.pluck)(dataset.alpha,dataset.sdiconalpha,chartAttrs.sdiconalpha),anchorbgalpha:(0,_lib.pluck)(dataset.sdiconalpha,chartAttrs.sdiconalpha,100),linethickness:(0,_lib.pluck)(dataset.linethickness,chartAttrs.linethickness,1),anchorsides:(0,_lib.pluck)(dataset.sdiconsides,chartAttrs.sdiconsides,3),showline:!(0,_lib.pluckNumber)(dataset.drawsdconnector,chartAttrs.drawsdconnector),dip:(0,_lib.pluck)(dataset.sdiconshape,chartAttrs.sdiconshape,POLYGON),color:(0,_lib.pluck)(dataset.sdiconcolor,chartAttrs.sdiconcolor,COLOR_000000),data:[]},showQD:{seriesname:"QD",showvalues:0,anchorbgcolor:(0,_lib.pluck)(dataset.qdiconcolor,chartAttrs.qdiconcolor,COLOR_000000),anchorbordercolor:COLOR_000000,anchorradius:(0,_lib.pluckNumber)(dataset.qdiconradius,chartAttrs.qdiconradius,5),anchoralpha:(0,_lib.pluck)(dataset.alpha,dataset.qdiconalpha,chartAttrs.qdiconalpha),anchorbgalpha:(0,_lib.pluck)(dataset.qdiconalpha,chartAttrs.qdiconalpha,100),linethickness:(0,_lib.pluck)(dataset.linethickness,chartAttrs.linethickness,1),anchorsides:(0,_lib.pluck)(dataset.qdiconsides,chartAttrs.qdiconsides,3),showline:!(0,_lib.pluckNumber)(dataset.drawqdconnector,chartAttrs.drawqdconnector),dip:(0,_lib.pluck)(dataset.qdiconshape,chartAttrs.qdiconshape,POLYGON),color:(0,_lib.pluck)(dataset.qdiconcolor,chartAttrs.qdiconcolor,COLOR_000000),data:[]},showMD:{seriesname:"MD",showvalues:0,anchorbgcolor:(0,_lib.pluck)(dataset.mdiconcolor,chartAttrs.mdiconcolor,COLOR_000000),anchorbordercolor:COLOR_000000,anchorradius:(0,_lib.pluckNumber)(dataset.mdiconradius,chartAttrs.mdiconradius,5),anchoralpha:(0,_lib.pluck)(dataset.alpha,dataset.mdiconalpha,chartAttrs.mdiconalpha),anchorbgalpha:(0,_lib.pluck)(dataset.mdiconalpha,chartAttrs.mdiconalpha,100),linethickness:(0,_lib.pluck)(dataset.linethickness,chartAttrs.linethickness,1),anchorsides:(0,_lib.pluck)(dataset.mdiconsides,chartAttrs.mdiconsides,3),showline:!(0,_lib.pluckNumber)(dataset.drawmdconnector,chartAttrs.drawmdconnector),dip:(0,_lib.pluck)(dataset.mdiconshape,chartAttrs.mdiconshape,POLYGON),color:(0,_lib.pluck)(dataset.mdiconcolor,chartAttrs.mdiconcolor,COLOR_000000),data:[]},outliers:{seriesname:"Outliers",showvalues:0,anchorbgcolor:(0,_lib.pluck)(dataset.outliericoncolor,chartAttrs.outliericoncolor,COLOR_000000),anchorbordercolor:COLOR_000000,anchorradius:(0,_lib.pluckNumber)(dataset.outliericonradius,chartAttrs.outliericonradius,5),anchoralpha:(0,_lib.pluck)(dataset.alpha,dataset.outliericonalpha,chartAttrs.outliericonalpha),includeinlegend:dataset.seriesname?1:0,anchorbgalpha:(0,_lib.pluck)(dataset.outliericonalpha,chartAttrs.outliericonalpha,100),linethickness:(0,_lib.pluck)(dataset.linethickness,chartAttrs.linethickness,1),anchorsides:(0,_lib.pluck)(dataset.outliericonsides,chartAttrs.outliericonsides,3),showline:!(0,_lib.pluckNumber)(dataset.drawoutliersconnector,chartAttrs.drawoutliersconnector),color:(0,_lib.pluck)(dataset.outliericoncolor,chartAttrs.outliericoncolor,COLOR_000000),dip:(0,_lib.pluck)(dataset.outliericonshape,chartAttrs.outliericonshape,POLYGON),data:[]}};showMean=(0,_lib.pluckNumber)(dataset.showmean,chartAttrs.showmean,0);showSD=(0,_lib.pluckNumber)(dataset.showsd,chartAttrs.showsd,0);showQD=(0,_lib.pluckNumber)(dataset.showqd,chartAttrs.showqd,0);showMD=(0,_lib.pluckNumber)(dataset.showmd,chartAttrs.showmd,0);data=dataset.data;dataLen=data&&data.length||0;for(j=0;j<dataLen;j++){setData=data[j];bwCalc.setArray(setData.value);bwCalc.getQuartiles();outliers=setData.outliers;showMean=currSubDS.showMean=currSubDS.showMean||(0,_lib.pluckNumber)(setData.showmean,showMean);showSD=currSubDS.showSD=currSubDS.showSD||(0,_lib.pluckNumber)(setData.showsd,showSD);showQD=currSubDS.showQD=currSubDS.showQD||(0,_lib.pluckNumber)(setData.showqd,showQD);showMD=currSubDS.showMD=currSubDS.showMD||(0,_lib.pluckNumber)(setData.showmd,showMD);currDerivedDataVal.showMean.data.push({value:showMean&&bwCalc.getMean(),anchorbgcolor:setData.meaniconcolor,anchorradius:setData.meaniconradius,anchoralpha:setData.meaniconalpha,anchorbgalpha:setData.meaniconalpha,anchorsides:setData.meaniconsides,dip:setData.meaniconshape});currDerivedDataVal.showSD.data.push({value:showSD&&bwCalc.getSD(),anchorbgcolor:setData.sdiconcolor,anchorradius:setData.sdiconradius,anchoralpha:setData.sdiconalpha,anchorbgalpha:setData.sdiconalpha,anchorsides:setData.sdiconsides,dip:setData.sdiconshape});currDerivedDataVal.showQD.data.push({value:showQD&&bwCalc.getQD(),anchorbgcolor:setData.qdiconcolor,anchorradius:setData.qdiconradius,anchoralpha:setData.qdiconalpha,anchorbgalpha:setData.qdiconalpha,anchorsides:setData.qdiconsides,dip:setData.qdiconshape});currDerivedDataVal.showMD.data.push({value:showMD&&bwCalc.getMD(),anchorbgcolor:setData.mdiconcolor,anchorradius:setData.mdiconradius,anchoralpha:setData.mdiconalpha,anchorbgalpha:setData.mdiconalpha,anchorsides:setData.mdiconsides,dip:setData.mdiconshape});if(outliers){outliersArr=currDerivedDataVal.outliers.data;outliers.split(_lib.COMMA).forEach(fn);currSubDS.outliers=true}}}subDSLen=requiredSubDs.length;for(k=0;k<subDSLen;k++){currSubDS=requiredSubDs[k];currDerivedDS=derivedDS[k]=[];for(i in currSubDS){currSubDS[i]&&currDerivedDS.push(derivedDataValue[k][i])}}return derivedDS};BoxAndWhisker2D.prototype.getDSdef=function getDSdef(){return _boxandwhisker2d2["default"]};BoxAndWhisker2D.prototype.getDSGroupdef=function getDSGroupdef(){return _boxandwhisker2["default"]};return BoxAndWhisker2D}(_mscolumn2d2["default"]);exports["default"]=BoxAndWhisker2D},568:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _column=__webpack_require__(331);var _column2=_interopRequireDefault(_column);var _boxandwhiskerline=__webpack_require__(569);var _boxandwhiskerline2=_interopRequireDefault(_boxandwhiskerline);var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _dependencyManager=__webpack_require__(125);var _boxandwhisker2dAnimation=__webpack_require__(571);var _boxandwhisker2dAnimation2=_interopRequireDefault(_boxandwhisker2dAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var PLOTBORDERCOLOR="plotBorderColor",PLOTGRADIENTCOLOR="plotGradientColor",SHOWSHADOW="showShadow",SETROLLOVERATTR="setRolloverAttr",SETROLLOUTATTR="setRolloutAttr",UNDEFINED=void 0,colorStrings=_lib.preDefStr.colors,COLOR_000000=colorStrings.c000000,LABEL=_lib.preDefStr.LABEL,ROLLOVER="DataPlotRollOver",ROLLOUT="DataPlotRollOut",UNDERSCORE=_lib.preDefStr.UNDERSCORE,POINTER=_lib.preDefStr.POINTER,BLANK=_lib.preDefStr.BLANK,ROUND=_lib.preDefStr.ROUND,GROUPID=_lib.preDefStr.GROUPID,POSITION_START=_lib.preDefStr.POSITION_START,POSITION_BOTTOM=_lib.preDefStr.POSITION_BOTTOM,POSITION_TOP=_lib.preDefStr.POSITION_TOP,showHoverEffectStr=_lib.preDefStr.showHoverEffectStr,EVENTARGS=_lib.preDefStr.EVENTARGS,POSITION_END=_lib.preDefStr.POSITION_END,M="M",H="H",V="V",BOLDSTARTTAG="<b>",BOLDENDTAG="</b>",BREAKSTRING="<br />",MAXIMUM_STR="Maximum",Q3_STR="Q3",MEDIAN_STR="Median",Q1_STR="Q1",MINIMUM_STR="Minimum",pStr=_lib.preDefStr.pStr,sStr=_lib.preDefStr.sStr,NONE="none",createChildIndices=function createChildIndices(index,length){var indices=[];while(length){indices.unshift(index+Number("."+length));length--}return indices},createGroup=function createGroup(attr,parentContainer,dataset){var animationManager=dataset.getFromEnv("animationManager");return animationManager.setAnimation({el:"group",attr:attr,container:parentContainer,component:dataset,label:"group"})},_hide=function _hide(){return function(){this.hide()}};(0,_dependencyManager.addDep)({name:"boxandwhisker2dAnimation",type:"animationRule",extension:_boxandwhisker2dAnimation2["default"]});var BoxAndWhiskerDataset=function(_ColumnDataset){_inherits(BoxAndWhiskerDataset,_ColumnDataset);function BoxAndWhiskerDataset(){_classCallCheck(this,BoxAndWhiskerDataset);return _possibleConstructorReturn(this,_ColumnDataset.apply(this,arguments))}BoxAndWhiskerDataset.prototype.createContainer=function createContainer(){var dataset=this,dsType=dataset.type,groupName=dataset.groupName,parent=dataset.getLinkedParent(),group=groupName||dataset.dsGroup||dsType,parentContainer,parentShadowContainer;!parent.getChildContainer(group+"VcanvasGroup")&&(group="default");parentContainer=parent.getChildContainer(group+"VcanvasGroup");parentShadowContainer=parent.getChildContainer(group+"ShadowVcanvasGroup");!dataset.getContainer("shadowGroup")&&dataset.addContainer("shadowGroup",createGroup({name:"shadow-group"},parentShadowContainer,dataset));!dataset.getContainer("commonElemsGroup")&&dataset.addContainer("lowerBoxGroup",createGroup({name:"lower-box-group"},parentContainer,dataset));!dataset.getContainer("commonElemsGroup")&&dataset.addContainer("upperBoxGroup",createGroup({name:"upper-box-group"},parentContainer,dataset));!dataset.getContainer("commonElemsGroup")&&dataset.addContainer("upperWhiskerGroup",createGroup({name:"upper-whisker-group"},parentContainer,dataset));!dataset.getContainer("commonElemsGroup")&&dataset.addContainer("lowerWhiskerGroup",createGroup({name:"lower-whisker-group"},parentContainer,dataset));!dataset.getContainer("commonElemsGroup")&&dataset.addContainer("medianGroup",createGroup({name:"median-group"},parentContainer,dataset));!dataset.getContainer("labelGroup")&&dataset.addContainer("labelGroup",createGroup({name:"label-group","class":"fusioncharts-datalabels"},parent.getChildContainer("vcanvasLabelGroup"),dataset))};BoxAndWhiskerDataset.prototype.configureAttributes=function configureAttributes(datasetJSON){if(!datasetJSON){return false}this.trimData(datasetJSON);this.config.JSONData=datasetJSON;var dataset=this,conf=dataset.config,JSONData=dataset.config.JSONData,setDataArr=JSONData.data,setDataLen=setDataArr&&setDataArr.length,chartConfig=dataset.getFromEnv("chartConfig"),xAxis=dataset.getFromEnv("xAxis"),catLen=xAxis.getTicksLen(),len=Math.min(catLen,setDataLen),chartAttr=dataset.getFromEnv("chart-attrib"),colorM=dataset.getFromEnv("color-manager"),index=conf.index,showplotborder,plotColor=conf.plotColor=colorM.getPlotColor(index),plotBorderDash=(0,_lib.pluckNumber)(JSONData.dashed,chartAttr.plotborderdashed),usePlotGradientColor=chartConfig.useplotgradientcolor,showTooltip,yAxisName=chartConfig.yaxisname,xAxisName=chartConfig.xaxisname,tooltipSepChar=(0,_lib.parseUnsafeString)((0,_lib.pluck)(chartAttr.tooltipsepchar,": ")),formatedVal,parserConfig,setTooltext,macroIndices,tempPlotfillAngle,toolText,plotDashLen,plotDashGap,plotBorderThickness,isRoundEdges,showHoverEffect,plotfillAngle,plotFillAlpha,plotFillRatio,plotgradientcolor,plotBorderAlpha,plotBorderColor,initailPlotBorderDashStyle,setData,setValue,dataObj,config,label,upperBoxHoverColor,upperBoxHoverAlpha,upperBoxBorderHoverColor,upperBoxBorderHoverAlpha,upperBoxBorderHoverThickness,lowerBoxHoverColor,lowerBoxHoverAlpha,lowerBoxBorderHoverColor,lowerBoxBorderHoverAlpha,lowerBoxBorderHoverThickness,upperQuartileHoverColor,upperQuartileHoverAlpha,upperQuartileHoverThickness,lowerQuartileHoverColor,lowerQuartileHoverAlpha,lowerQuartileHoverThickness,medianHoverColor,medianHoverAlpha,medianHoverThickness,dataStore=dataset.components.data,numberFormatter=dataset.getFromEnv("number-formatter"),toolTipValue,setDisplayValue,parentYAxis,setDataDashed,setDataPlotDashLen,setDataPlotDashGap,i,maxValue=-Infinity,minValue=+Infinity,bwCalc=dataset.getFromEnv("BoxAndWhiskerStatisticalCalc"),quartile,q1,q3,limits,min,max,medianValue,mean,md,sd,qd,upperBoxColor,upperBoxAlpha,lowerBoxColor,lowerBoxAlpha,upperWhiskerAlpha,showValues,showAllOutliers,difference,lowerWhiskerAlpha,maxmin;dataset.setState("visible",!!((0,_lib.pluckNumber)(dataset.config.JSONData.visible,!Number(dataset.config.JSONData.initiallyhidden),1)===1));(0,_lib.parseConfiguration)(JSONData,conf,chartConfig,{data:true});conf.defaultPadding={left:.5,right:.5};conf.seriesname=(0,_lib.parseUnsafeString)(JSONData.seriesname);conf.includeInLegend=(0,_lib.pluckNumber)(JSONData.includeinlegend,conf.seriesname?1:0);conf.legendSymbolColor=conf.plotColor;showplotborder=conf.showplotborder;plotDashLen=conf.plotborderdashlen;plotDashGap=conf.plotborderdashgap;plotFillAlpha=conf.plotfillalpha;isRoundEdges=conf.useroundedges;plotFillRatio=conf.ratio;plotBorderThickness=conf.plotborderthickness;showValues=conf.showvalues=(0,_lib.pluckNumber)(JSONData.showvalues,chartAttr.showvalues,1);showTooltip=conf.showtooltip;conf.rotatevalues&&(conf.rotatevalues=270);showAllOutliers=conf.showalloutliers;conf.plotfillAngle=plotfillAngle=(0,_lib.pluckNumber)(360-chartAttr.plotfillangle,90);conf.plotColor=plotColor=(0,_lib.pluck)(JSONData.color,plotColor);conf.plotRadius=(0,_lib.pluckNumber)(chartAttr.useroundedges,isRoundEdges?1:0);conf.plotgradientcolor=plotgradientcolor=(0,_lib.getDefinedColor)(chartAttr.plotgradientcolor,colorM.getColor(PLOTGRADIENTCOLOR));!usePlotGradientColor&&(plotgradientcolor=_lib.BLANKSTRING);conf.plotBorderAlpha=plotBorderAlpha=showplotborder?(0,_lib.pluck)(chartAttr.plotborderalpha,plotFillAlpha,_lib.HUNDREDSTRING):0;conf.plotBorderColor=plotBorderColor=(0,_lib.pluck)(chartAttr.plotbordercolor,colorM.getColor(PLOTBORDERCOLOR));conf.plotBorderDashStyle=initailPlotBorderDashStyle=plotBorderDash?(0,_lib.getDashStyle)(plotDashLen,plotDashGap,plotBorderThickness):NONE;conf.showShadow=isRoundEdges?(0,_lib.pluckNumber)(chartAttr.showshadow,1):(0,_lib.pluckNumber)(chartAttr.showshadow,colorM.getColor(SHOWSHADOW));conf.showHoverEffect=showHoverEffect=(0,_lib.pluckNumber)(chartAttr.plothovereffect,chartAttr.showhovereffect,UNDEFINED);conf.parentYAxis=parentYAxis=(0,_lib.pluck)(JSONData.parentyaxis&&JSONData.parentyaxis.toLowerCase(),pStr)===sStr?1:0;conf.dataSeparator=_lib.COMMASTRING;conf.textDirection=chartAttr.hasrtltext==="1"?"rtl":_lib.BLANKSTRING;conf.showMeanLegend=conf.showSDLegend=conf.showMDLegend=conf.showQDLegend=conf.showOutliersLegend=0;!dataset.components.data&&(dataset.components.data=[]);dataStore=dataset.components.data;conf.upperBoxColor=upperBoxColor=(0,_lib.pluck)(JSONData.upperboxcolor,chartAttr.upperboxcolor,colorM.getPlotColor(index*2));upperBoxAlpha=conf.upperBoxAlpha=(0,_lib.pluck)(JSONData.upperboxalpha,chartAttr.upperboxalpha,plotFillAlpha,_lib.HUNDREDSTRING);conf.lowerBoxColor=lowerBoxColor=(0,_lib.pluck)(JSONData.lowerboxcolor,chartAttr.lowerboxcolor,colorM.getPlotColor(index*2+1));lowerBoxAlpha=conf.lowerBoxAlpha=(0,_lib.pluck)(JSONData.lowerboxalpha,chartAttr.lowerboxalpha,plotFillAlpha,_lib.HUNDREDSTRING);for(i=0;i<len;i++){setData=setDataArr&&setDataArr[i];dataObj=dataStore[i];config=dataObj&&dataObj.config;if(!dataObj){dataObj=dataStore[i]={graphics:{}}}if(!dataObj.config){config=dataStore[i].config={}}if(!setData.value){config.setValue=UNDEFINED;continue}if(setData.value){bwCalc.setArray(setData.value);quartile=bwCalc.getQuartiles();q1=quartile.q1;q3=quartile.q3;limits=bwCalc.getMinMax();config.min=min=limits.min;config.max=max=limits.max;medianValue=bwCalc.getMedian();config.mean=mean=bwCalc.getMean();config.md=md=bwCalc.getMD();config.sd=sd=bwCalc.getSD();config.qd=qd=bwCalc.getQD()}config.upperQuartile={value:q3,color:(0,_libGraphics.convertColor)((0,_lib.pluck)(setData.upperquartilecolor,JSONData.upperquartilecolor,chartAttr.upperquartilecolor,chartAttr.plotbordercolor,colorM.getColor(PLOTBORDERCOLOR)),(0,_lib.pluckNumber)(setData.upperquartilealpha,JSONData.upperquartilealpha,chartAttr.upperquartilealpha,chartAttr.plotborderalpha,100)),borderWidth:(0,_lib.pluckNumber)(setData.upperquartilethickness,JSONData.upperquartilethickness,chartAttr.upperquartilethickness,chartAttr.plotborderthickness,!isRoundEdges?1:0),displayValue:numberFormatter.dataLabels(q3)};config.lowerQuartile={value:q1,color:(0,_libGraphics.convertColor)((0,_lib.pluck)(setData.lowerquartilecolor,JSONData.lowerquartilecolor,chartAttr.lowerquartilecolor,chartAttr.plotbordercolor,colorM.getColor(PLOTBORDERCOLOR)),(0,_lib.pluckNumber)(setData.lowerquartilealpha,JSONData.lowerquartilealpha,chartAttr.lowerquartilealpha,chartAttr.plotborderalpha,100)),borderWidth:(0,_lib.pluckNumber)(setData.lowerquartilethickness,JSONData.lowerquartilethickness,chartAttr.lowerquartilethickness,chartAttr.plotborderthickness,!isRoundEdges?1:0),displayValue:numberFormatter.dataLabels(q1)};config.upperBoxBorder={color:(0,_libGraphics.convertColor)((0,_lib.pluck)(setData.upperboxbordercolor,JSONData.upperboxbordercolor,chartAttr.upperboxbordercolor,chartAttr.plotbordercolor,colorM.getColor(PLOTBORDERCOLOR)),(0,_lib.pluckNumber)(setData.upperboxborderalpha,JSONData.upperboxborderalpha,chartAttr.upperboxborderalpha,chartAttr.plotborderalpha,100)),borderWidth:(0,_lib.pluckNumber)(setData.upperboxborderthickness,JSONData.upperboxborderthickness,chartAttr.upperboxborderthickness,!isRoundEdges&&chartAttr.plotborderthickness,!isRoundEdges?1:0)};config.lowerBoxBorder={color:(0,_libGraphics.convertColor)((0,_lib.pluck)(setData.lowerboxbordercolor,JSONData.lowerboxbordercolor,chartAttr.lowerboxbordercolor,chartAttr.plotbordercolor,colorM.getColor(PLOTBORDERCOLOR)),(0,_lib.pluckNumber)(setData.lowerboxborderalpha,JSONData.lowerboxborderalpha,chartAttr.lowerboxborderalpha,chartAttr.plotborderalpha,100)),borderWidth:(0,_lib.pluckNumber)(setData.lowerboxborderthickness,JSONData.lowerboxborderthickness,chartAttr.lowerboxborderthickness,!isRoundEdges&&chartAttr.plotborderthickness,!isRoundEdges?1:0)};config.median={value:medianValue,color:(0,_libGraphics.convertColor)((0,_lib.pluck)(setData.mediancolor,JSONData.mediancolor,chartAttr.mediancolor,chartAttr.plotbordercolor,colorM.getColor(PLOTBORDERCOLOR)),(0,_lib.pluckNumber)(setData.medianalpha,JSONData.medianalpha,chartAttr.medianalpha,chartAttr.plotborderalpha,100)),borderWidth:(0,_lib.pluckNumber)(setData.medianthickness,JSONData.medianthickness,chartAttr.medianthickness,chartAttr.plotborderthickness,1),displayValue:numberFormatter.dataLabels(medianValue)};conf.upperBoxColor=upperBoxColor=(0,_lib.pluck)(setData.upperboxcolor,JSONData.upperboxcolor,chartAttr.upperboxcolor,colorM.getPlotColor(index*2));upperBoxAlpha=conf.upperBoxAlpha=(0,_lib.pluck)(setData.upperboxalpha,JSONData.upperboxalpha,chartAttr.upperboxalpha,plotFillAlpha,_lib.HUNDREDSTRING);conf.lowerBoxColor=lowerBoxColor=(0,_lib.pluck)(setData.lowerboxcolor,JSONData.lowerboxcolor,chartAttr.lowerboxcolor,colorM.getPlotColor(index*2+1));lowerBoxAlpha=conf.lowerBoxAlpha=(0,_lib.pluck)(setData.lowerboxalpha,JSONData.lowerboxalpha,chartAttr.lowerboxalpha,plotFillAlpha,_lib.HUNDREDSTRING);config.upperColorArr=(0,_libGraphics.getColumnColor)(upperBoxColor,upperBoxAlpha,UNDEFINED,UNDEFINED,isRoundEdges,plotBorderColor,plotBorderAlpha.toString(),0,false);config.lowerColorArr=(0,_libGraphics.getColumnColor)(lowerBoxColor,lowerBoxAlpha,UNDEFINED,UNDEFINED,isRoundEdges,plotBorderColor,plotBorderAlpha.toString(),0,false);config.showValue=(0,_lib.pluckNumber)(setData.showvalue,showValues);config.showMinValues=config.showValue?(0,_lib.pluckNumber)(setData.showminvalues,conf.showminvalues):0;config.showMaxValues=config.showValue?(0,_lib.pluckNumber)(setData.showmaxvalues,conf.showmaxvalues):0;config.showQ1Values=config.showValue?(0,_lib.pluckNumber)(setData.showq1values,conf.showq1values):0;config.showQ3Values=config.showValue?(0,_lib.pluckNumber)(setData.showq3values,conf.showq3values):0;config.showMedianValues=config.showValue?(0,_lib.pluckNumber)(setData.showmedianvalues,conf.showmedianvalues):0;config.upperWhiskerAlpha=upperWhiskerAlpha=(0,_libGraphics.getFirstAlpha)((0,_lib.pluck)(setData.upperwhiskeralpha,JSONData.upperwhiskeralpha,chartAttr.upperwhiskeralpha,chartAttr.plotborderalpha,100));config.upperWhiskerColor=(0,_libGraphics.convertColor)((0,_libGraphics.getFirstColor)((0,_lib.pluck)(setData.upperwhiskercolor,JSONData.upperwhiskercolor,chartAttr.upperwhiskercolor,chartAttr.plotbordercolor,colorM.getColor(PLOTBORDERCOLOR))),upperWhiskerAlpha);config.upperWhiskerThickness=(0,_lib.pluckNumber)(setData.upperwhiskerthickness,JSONData.upperwhiskerthickness,chartAttr.upperwhiskerthickness,chartAttr.plotborderthickness,1);config.upperWhiskerShadowOpacity=conf.showShadow?upperWhiskerAlpha/250:0;config.lowerWhiskerAlpha=lowerWhiskerAlpha=(0,_libGraphics.getFirstAlpha)((0,_lib.pluck)(setData.lowerwhiskeralpha,JSONData.lowerwhiskeralpha,chartAttr.lowerwhiskeralpha,chartAttr.plotborderalpha,100));config.lowerWhiskerColor=(0,_libGraphics.convertColor)((0,_libGraphics.getFirstColor)((0,_lib.pluck)(setData.lowerwhiskercolor,JSONData.lowerwhiskercolor,chartAttr.lowerwhiskercolor,chartAttr.plotbordercolor,colorM.getColor(PLOTBORDERCOLOR))),lowerWhiskerAlpha);config.lowerWhiskerThickness=(0,_lib.pluckNumber)(setData.lowerwhiskerthickness,JSONData.lowerwhiskerthickness,chartAttr.lowerwhiskerthickness,chartAttr.plotborderthickness,1);config.lowerWhiskerShadowOpacity=conf.showShadow?lowerWhiskerAlpha/250:0;config.setValue=setValue=numberFormatter.getCleanValue(setData.value);config.setLink=(0,_lib.pluck)(setData.link);config.toolTipValue=toolTipValue=numberFormatter.dataLabels(setValue,parentYAxis);config.setDisplayValue=setDisplayValue=(0,_lib.parseUnsafeString)(setData.displayvalue);config.displayValue=(0,_lib.pluck)(setDisplayValue,toolTipValue);setDataDashed=(0,_lib.pluckNumber)(setData.dashed);setDataPlotDashLen=(0,_lib.pluckNumber)(setData.dashlen,plotDashLen);setDataPlotDashGap=plotDashGap=(0,_lib.pluckNumber)(setData.dashgap,plotDashGap);maxValue=Math.max(maxValue,max);minValue=Math.min(minValue,min);config.plotBorderDashStyle=setDataDashed===1?(0,_lib.getDashStyle)(setDataPlotDashLen,setDataPlotDashGap,plotBorderThickness):setDataDashed===0?NONE:initailPlotBorderDashStyle;plotColor=(0,_lib.pluck)(setData.color,conf.plotColor);plotFillAlpha=(0,_lib.pluck)(setData.alpha,conf.plotfillalpha);if(setValue<0&&!isRoundEdges){tempPlotfillAngle=plotfillAngle;plotfillAngle=360-plotfillAngle}config.colorArr=(0,_libGraphics.getColumnColor)(plotColor+_lib.COMMA+plotgradientcolor,plotFillAlpha,plotFillRatio,plotfillAngle,isRoundEdges,plotBorderColor,plotBorderAlpha.toString(),0,false);config.label=label=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)(xAxis.getLabel((0,_lib.pluckNumber)(i)).label));if(showHoverEffect!==0){upperBoxHoverColor=(0,_lib.pluck)(setData.upperboxhovercolor,JSONData.upperboxhovercolor,chartAttr.upperboxhovercolor,upperBoxColor);upperBoxHoverAlpha=(0,_lib.pluck)(setData.upperboxhoveralpha,JSONData.upperboxhoveralpha,chartAttr.upperboxhoveralpha,upperBoxAlpha);upperBoxBorderHoverColor=(0,_lib.pluck)(setData.upperboxborderhovercolor,JSONData.upperboxborderhovercolor,chartAttr.upperboxborderhovercolor,setData.upperboxbordercolor,JSONData.upperboxbordercolor,chartAttr.upperboxbordercolor,chartAttr.plotbordercolor,colorM.getColor(PLOTBORDERCOLOR));upperBoxBorderHoverAlpha=(0,_lib.pluck)(setData.upperboxborderhoveralpha,JSONData.upperboxborderhoveralpha,chartAttr.upperboxborderhoveralpha,setData.upperboxborderalpha,JSONData.upperboxborderalpha,chartAttr.upperboxborderalpha,chartAttr.plotborderalpha,100);upperBoxBorderHoverThickness=!isRoundEdges?(0,_lib.pluck)(setData.upperboxborderhoverthickness,JSONData.upperboxborderhoverthickness,chartAttr.upperboxborderhoverthickness,config.upperBoxBorder.borderWidth):0;lowerBoxHoverColor=(0,_lib.pluck)(setData.lowerboxhovercolor,JSONData.lowerboxhovercolor,chartAttr.lowerboxhovercolor,lowerBoxColor);lowerBoxHoverAlpha=(0,_lib.pluck)(setData.lowerboxhoveralpha,JSONData.lowerboxhoveralpha,chartAttr.lowerboxhoveralpha,lowerBoxAlpha);lowerBoxBorderHoverColor=(0,_lib.pluck)(setData.lowerboxborderhovercolor,JSONData.lowerboxborderhovercolor,chartAttr.lowerboxborderhovercolor,setData.lowerboxbordercolor,JSONData.lowerboxbordercolor,chartAttr.lowerboxbordercolor,chartAttr.plotbordercolor,colorM.getColor(PLOTBORDERCOLOR));lowerBoxBorderHoverAlpha=(0,_lib.pluck)(setData.lowerboxborderhoveralpha,JSONData.lowerboxborderhoveralpha,chartAttr.lowerboxborderhoveralpha,setData.lowerboxborderalpha,JSONData.lowerboxborderalpha,chartAttr.lowerboxborderalpha,chartAttr.plotborderalpha,100);lowerBoxBorderHoverThickness=!isRoundEdges?(0,_lib.pluck)(setData.lowerboxborderhoverthickness,JSONData.lowerboxborderhoverthickness,chartAttr.lowerboxborderhoverthickness,config.lowerBoxBorder.borderWidth):0;upperQuartileHoverColor=(0,_lib.pluck)(setData.upperquartilehovercolor,JSONData.upperquartilehovercolor,chartAttr.upperquartilehovercolor,setData.upperquartilecolor,JSONData.upperquartilecolor,chartAttr.upperquartilecolor,chartAttr.plotbordercolor,colorM.getColor(PLOTBORDERCOLOR));upperQuartileHoverAlpha=(0,_lib.pluck)(setData.upperquartilehoveralpha,JSONData.upperquartilehoveralpha,chartAttr.upperquartilehoveralpha,setData.upperquartilealpha,JSONData.upperquartilealpha,chartAttr.upperquartilealpha,chartAttr.plotborderalpha,100);upperQuartileHoverThickness=(0,_lib.pluck)(setData.upperquartilehoverthickness,JSONData.upperquartilehoverthickness,chartAttr.upperquartilehoverthickness,config.upperQuartile.borderWidth);lowerQuartileHoverColor=(0,_lib.pluck)(setData.lowerquartilehovercolor,JSONData.lowerquartilehovercolor,chartAttr.lowerquartilehovercolor,setData.lowerquartilecolor,JSONData.lowerquartilecolor,chartAttr.lowerquartilecolor,chartAttr.plotbordercolor,colorM.getColor(PLOTBORDERCOLOR));lowerQuartileHoverAlpha=(0,_lib.pluck)(setData.lowerquartilehoveralpha,JSONData.lowerquartilehoveralpha,chartAttr.lowerquartilehoveralpha,setData.lowerquartilealpha,JSONData.lowerquartilealpha,chartAttr.lowerquartilealpha,chartAttr.plotborderalpha,100);lowerQuartileHoverThickness=(0,_lib.pluck)(setData.lowerquartilehoverthickness,JSONData.lowerquartilehoverthickness,chartAttr.lowerquartilehoverthickness,config.lowerQuartile.borderWidth);medianHoverColor=(0,_lib.pluck)(setData.medianhovercolor,JSONData.medianhovercolor,chartAttr.medianhovercolor,setData.mediancolor,JSONData.mediancolor,chartAttr.mediancolor,chartAttr.plotbordercolor,colorM.getColor(PLOTBORDERCOLOR));medianHoverAlpha=(0,_lib.pluck)(setData.medianhoveralpha,JSONData.medianhoveralpha,chartAttr.medianhoveralpha,setData.medianalpha,JSONData.medianalpha,chartAttr.medianalpha,chartAttr.plotborderalpha,100);medianHoverThickness=(0,_lib.pluck)(setData.medianhoverthickness,JSONData.medianhoverthickness,chartAttr.medianhoverthickness,config.median.borderWidth);if(showHoverEffect===1){upperBoxColor===upperBoxHoverColor&&(upperBoxHoverColor=(0,_libGraphics.getLightColor)(upperBoxHoverColor,70));lowerBoxColor===lowerBoxHoverColor&&(lowerBoxHoverColor=(0,_libGraphics.getLightColor)(lowerBoxHoverColor,70))}config.upperBoxHoverColorArr=(0,_libGraphics.getColumnColor)(upperBoxHoverColor,upperBoxHoverAlpha,UNDEFINED,UNDEFINED,isRoundEdges,plotBorderColor,plotBorderAlpha.toString(),0,false);config.lowerBoxHoverColorArr=(0,_libGraphics.getColumnColor)(lowerBoxHoverColor,lowerBoxHoverAlpha,UNDEFINED,UNDEFINED,isRoundEdges,plotBorderColor,plotBorderAlpha.toString(),0,false);config.setUpperBoxRolloutAttr={fill:(0,_lib.toRaphaelColor)(config.upperColorArr[0])};config.setUpperBoxRolloverAttr={fill:(0,_lib.toRaphaelColor)(config.upperBoxHoverColorArr[0])};config.setLowerBoxRolloutAttr={fill:(0,_lib.toRaphaelColor)(config.lowerColorArr[0])};config.setLowerBoxRolloverAttr={fill:(0,_lib.toRaphaelColor)(config.lowerBoxHoverColorArr[0])};config.setUpperBoxBorderRolloverAttr={stroke:(0,_libGraphics.convertColor)(upperBoxBorderHoverColor,upperBoxBorderHoverAlpha),"stroke-width":upperBoxBorderHoverThickness};config.setUpperBoxBorderRolloutAttr={stroke:config.upperBoxBorder.color,"stroke-width":config.upperBoxBorder.borderWidth};config.setLowerBoxBorderRolloverAttr={stroke:(0,_libGraphics.convertColor)(lowerBoxBorderHoverColor,lowerBoxBorderHoverAlpha),"stroke-width":lowerBoxBorderHoverThickness};config.setLowerBoxBorderRolloutAttr={stroke:config.lowerBoxBorder.color,"stroke-width":config.lowerBoxBorder.borderWidth};config.setUpperQuartileRolloverAttr={stroke:(0,_libGraphics.convertColor)(upperQuartileHoverColor,upperQuartileHoverAlpha),"stroke-width":upperQuartileHoverThickness};config.setUpperQuartileRolloutAttr={stroke:config.upperQuartile.color,"stroke-width":config.upperQuartile.borderWidth};config.setLowerQuartileRolloverAttr={stroke:(0,_libGraphics.convertColor)(lowerQuartileHoverColor,lowerQuartileHoverAlpha),"stroke-width":lowerQuartileHoverThickness};config.setLowerQuartileRolloutAttr={stroke:config.lowerQuartile.color,"stroke-width":config.lowerQuartile.borderWidth};config.setMedianRolloverAttr={stroke:(0,_libGraphics.convertColor)(medianHoverColor,medianHoverAlpha),"stroke-width":medianHoverThickness};config.setMedianRolloutAttr={stroke:config.median.color,"stroke-width":config.median.borderWidth}}formatedVal=config.toolTipValue;setTooltext=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(setData.tooltext,JSONData.plottooltext,chartAttr.plottooltext)));if(!showTooltip){toolText=false}else{if(formatedVal===null){toolText=false}else if(setTooltext!==UNDEFINED){macroIndices=[1,2,3,4,5,6,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80];parserConfig={maxValue:max,maxDataValue:numberFormatter.dataLabels(max),minValue:min,minDataValue:numberFormatter.dataLabels(min),Q1:numberFormatter.dataLabels(q1),unformattedQ1:q1,Q3:numberFormatter.dataLabels(q3),unformattedQ3:q3,median:numberFormatter.dataLabels(medianValue),unformattedMedian:medianValue,SD:numberFormatter.dataLabels(sd),unformattedsd:sd,QD:numberFormatter.dataLabels(qd),unformattedQD:qd,MD:numberFormatter.dataLabels(md),unformattedMD:md,mean:numberFormatter.dataLabels(mean),unformattedMean:mean,label:label,yaxisName:yAxisName,xaxisName:xAxisName,formattedValue:formatedVal,value:label};toolText=(0,_lib.parseTooltext)(setTooltext,macroIndices,parserConfig,setData,chartAttr,JSONData)}else{toolText=BOLDSTARTTAG+MAXIMUM_STR+tooltipSepChar+BOLDENDTAG+numberFormatter.dataLabels(max)+BREAKSTRING+BOLDSTARTTAG+Q3_STR+tooltipSepChar+BOLDENDTAG+numberFormatter.dataLabels(q3)+BREAKSTRING+BOLDSTARTTAG+MEDIAN_STR+tooltipSepChar+BOLDENDTAG+numberFormatter.dataLabels(medianValue)+BREAKSTRING+BOLDSTARTTAG+Q1_STR+tooltipSepChar+BOLDENDTAG+numberFormatter.dataLabels(q1)+BREAKSTRING+BOLDSTARTTAG+MINIMUM_STR+tooltipSepChar+BOLDENDTAG+numberFormatter.dataLabels(min)}}config.toolText=toolText;config.setTooltext=toolText;tempPlotfillAngle&&(plotfillAngle=tempPlotfillAngle)}if(showAllOutliers){maxmin=dataset._getOutLiersLimit();maxValue=Math.max(maxValue,maxmin.max);minValue=Math.min(minValue,maxmin.min)}else{difference=maxValue-minValue;maxValue+=conf.outliersupperrangeratio*difference;minValue-=conf.outlierslowerrangeratio*difference}conf.maxValue=maxValue;conf.minValue=minValue;dataset.setState("dirty",true);dataset._createSubDS();chartConfig.showLegend&&dataset._addLegend()};BoxAndWhiskerDataset.prototype._createSubDS=function _createSubDS(){var dataset=this,config=dataset.config,index=config.index,lineJSON=dataset.getFromEnv("lineJSON")[index],len=lineJSON.length;(0,_lib.datasetFactory)(dataset,_boxandwhiskerline2["default"],"dataset",len,lineJSON,createChildIndices(index,len));if(!len){dataset.iterateComponents(function(child){if(child.getName()==="line"){child.remove()}})}};BoxAndWhiskerDataset.prototype._getOutLiersLimit=function _getOutLiersLimit(){var dataset=this,index=dataset.config.index,lineJSON=dataset.getFromEnv("lineJSON")[index],len=lineJSON.length,dataJSON,dataLen,j,data,max=-Infinity,min=+Infinity,i;for(i=0;i<len;i++){dataJSON=lineJSON[i];if(dataJSON.seriesname==="Outliers"){data=dataJSON.data;dataLen=data.length;for(j=0;j<dataLen;j++){max=Math.max(data[j].value,max);min=Math.min(data[j].value,min)}return{max:max,min:min}}}return{max:max,min:min}};BoxAndWhiskerDataset.prototype.parsePlotAttributes=function parsePlotAttributes(dataObj,index){var dataset=this,JSONData=dataset.config.JSONData,conf=dataset.config,datasetIndex=conf.index,i=index,visible=dataset.getState("visible"),chart=dataset.getFromEnv("chart"),chartConfig=dataset.getFromEnv("chartConfig"),xAxis=dataset.getFromEnv("xAxis"),yAxis=dataset.getFromEnv("yAxis"),xPos,columnWidth,xPosOffset,toolText,dataStore=dataset.components.data,setLink,setValue,config,upperQuartile,yTop,yTopPos,lowerQuartile,yBottom,yBottomPos,median,yMed,yMedPos,upperBoxH,lowerBoxH,upperBoxBorder,lowerBoxBorder,crispX,crispX2,crispY,style=chartConfig.dataLabelStyle,hoverOutEffects,rotateValues=conf.rotatevalues,valuePadding=conf.valuepadding,numberFormatter=dataset.getFromEnv("number-formatter"),textAlign=rotateValues?_lib.POSITION_LEFT:_lib.POSITION_MIDDLE,smartLabel=dataset.getFromEnv("smartLabel"),graphic,errorStartPos,errorBarWidth,halfErrorBarW,errorValPos,crispyX,crispyY,errorPath,smartText,lineHeight,labelBottomY,labelTopY,lastDataSetHeight=+Infinity,lastDataSetYpos,lowerBoxBorderEleAttr,lowerBoxElemAttr,lowerQuartileEleAttr,lowerWhiskerEleAttr,midLineElemAttr,upperBoxBorderEleAttr,upperBoxElemAttr,upperQuartileEleAttr,upperWhiskerEleAttr,upperQuartileMaxLabelAttr,upperQuartileMinLabelAttr,upperQuartileLabelAttr,lowerQuartileLabelAttr,medianLabelAttr,upperBoxStartPos,lowerBoxYPos,lowerBoxHeight,lowerBoxEndPos;xPosOffset=dataset.getFromEnv("columnXShift");columnWidth=dataset.getFromEnv("columnWidth");config=dataObj&&dataObj.config;setValue=config&&config.setValue;if(dataObj===UNDEFINED||setValue===UNDEFINED||setValue===null){return}graphic=dataObj.graphics;setLink=config.setLink;if(!dataObj.graphics){dataStore[i].graphics={}}if(!graphic.label){dataStore[i].graphics.label=[]}xPos=xAxis.getPixel(i)+xPosOffset;upperQuartile=config.upperQuartile||{};yTop=upperQuartile&&upperQuartile.value;yTopPos=(yTop||yTop===0)&&yAxis.getPixel(yTop);lowerQuartile=config.lowerQuartile||{};yBottom=lowerQuartile&&lowerQuartile.value;yBottomPos=(yBottom||yBottom===0)&&yAxis.getPixel(yBottom);median=config.median;yMed=median&&median.value;yMedPos=(yMed||yMed===0)&&yAxis.getPixel(yMed);upperBoxH=yMedPos-yTopPos;lowerBoxH=yBottomPos-yMedPos;upperBoxBorder=config.upperBoxBorder||{};lowerBoxBorder=config.lowerBoxBorder||{};toolText=config.toolText;config.eventArgs={index:i,link:setLink,maximum:config.max,minimum:config.min,median:yMed,q3:upperQuartile.value,q1:lowerQuartile.value,maxDisplayValue:config.showMaxValues?numberFormatter.dataLabels(config.max):_lib.BLANKSTRING,minDisplayValue:config.showMinValues?numberFormatter.dataLabels(config.min):_lib.BLANKSTRING,medianDisplayValue:config.showMedianValues?numberFormatter.dataLabels(yMed):_lib.BLANKSTRING,q1DisplayValue:config.showQ1Values?numberFormatter.dataLabels(lowerQuartile.value):_lib.BLANKSTRING,q3DisplayValue:config.showQ3Values?numberFormatter.dataLabels(upperQuartile.value):_lib.BLANKSTRING,categoryLabel:config.label,toolText:toolText,datasetIndex:datasetIndex,datasetName:JSONData.seriesname,visible:visible};crispX=Math.round(xPos)+upperBoxBorder.borderWidth%2*.5;crispX2=Math.round(xPos+columnWidth)+upperBoxBorder.borderWidth%2*.5;crispY=Math.round(yTopPos)+upperQuartile.borderWidth%2*.5;columnWidth=crispX2-crispX;hoverOutEffects={upperBox:{fill:(0,_lib.toRaphaelColor)(config.upperColorArr[0]),"stroke-width":0,"stroke-dasharray":NONE,cursor:setLink?POINTER:_lib.BLANKSTRING,visibility:visible},lowerBox:{fill:(0,_lib.toRaphaelColor)(config.lowerColorArr[0]),"stroke-width":0,"stroke-dasharray":NONE,cursor:setLink?POINTER:BLANK,visibility:visible},upperBoxBorder:{stroke:upperBoxBorder.color,"stroke-width":upperBoxBorder.borderWidth,"stroke-linecap":ROUND,dashstyle:upperBoxBorder.dashStyle,visibility:visible},lowerBoxBorder:{stroke:lowerBoxBorder.color,"stroke-width":lowerBoxBorder.borderWidth,dashstyle:lowerBoxBorder.dashStyle,"stroke-linecap":ROUND,visibility:visible},upperQuartile:{stroke:(0,_lib.toRaphaelColor)(upperQuartile.color),"stroke-width":upperQuartile.borderWidth,"stroke-dasharray":upperQuartile.dashSyle,"stroke-linecap":ROUND,cursor:setLink?POINTER:BLANK,visibility:visible},lowerQuartile:{stroke:(0,_lib.toRaphaelColor)(lowerQuartile.color),"stroke-width":lowerQuartile.borderWidth,"stroke-dasharray":lowerQuartile.dashSyle,cursor:setLink?POINTER:_lib.BLANKSTRING,"stroke-linecap":ROUND,visibility:visible},median:{stroke:(0,_lib.toRaphaelColor)(median.color),"stroke-width":median.borderWidth,"stroke-dasharray":median.dashSyle,cursor:setLink?POINTER:_lib.BLANKSTRING,"stroke-linecap":ROUND,visibility:visible}};upperBoxStartPos=lastDataSetYpos||crispY;upperBoxElemAttr=Object.assign({x:crispX,y:lastDataSetYpos||crispY,width:Math.max(columnWidth,0),height:Math.max(Math.min(lastDataSetHeight,upperBoxH),0),r:0},hoverOutEffects.upperBox);upperBoxBorderEleAttr=Object.assign({path:[M,crispX,lastDataSetYpos||crispY,V,lastDataSetYpos||crispY+upperBoxH,M,crispX2,lastDataSetYpos||crispY,V,lastDataSetYpos||crispY+upperBoxH]},hoverOutEffects.upperBoxBorder);upperQuartileEleAttr=Object.assign({path:[M,crispX,lastDataSetYpos||crispY,H,crispX+columnWidth]},hoverOutEffects.upperQuartile);errorStartPos=crispY;errorBarWidth=columnWidth*(conf.whiskerslimitswidthratio/100);halfErrorBarW=errorBarWidth/2;errorValPos=yAxis.getPixel(config.max);crispyY=errorValPos;crispyX=crispX;crispyY=Math.round(errorValPos)+config.upperWhiskerThickness%2/2;crispX=Math.round(crispX+columnWidth/2)+config.upperWhiskerThickness%2/2;errorPath=[M,crispX,lastDataSetYpos||errorStartPos,V,Math.min(lastDataSetYpos||crispyY,upperBoxStartPos),M,crispX-halfErrorBarW,Math.min(lastDataSetYpos||crispyY,upperBoxStartPos),H,crispX+halfErrorBarW];upperWhiskerEleAttr={path:errorPath,"stroke-width":config.upperWhiskerThickness,cursor:setLink?POINTER:_lib.BLANKSTRING,"stroke-linecap":ROUND,stroke:config.upperWhiskerColor};smartLabel.useEllipsesOnOverflow(chart.config.useEllipsesWhenOverflow);smartLabel.setStyle(style);smartText=smartLabel.getOriSize(numberFormatter.dataLabels(config.max));lineHeight=rotateValues?smartText.width:smartText.height;labelTopY=errorValPos-config.upperWhiskerThickness*.5-valuePadding-lineHeight*(rotateValues?.5:1);if(labelTopY-(rotateValues?lineHeight/2:0)<chartConfig.canvasTop){labelTopY=chartConfig.canvasTop+(rotateValues?lineHeight/2:0)}upperQuartileMaxLabelAttr={text:numberFormatter.dataLabels(config.max),x:crispyX+columnWidth/2,title:upperQuartile.originalText||_lib.BLANKSTRING,y:lastDataSetYpos||labelTopY,"text-anchor":rotateValues?_lib.POSITION_MIDDLE:textAlign,"vertical-align":rotateValues?_lib.POSITION_MIDDLE:POSITION_TOP,visibility:_lib.visibleStr,direction:conf.textDirection,fill:style.color,transform:(0,_lib.getSuggestiveRotation)(rotateValues,crispyX+columnWidth/2,labelTopY),"text-bound":[style.backgroundColor,style.borderColor,style.borderThickness,style.borderPadding,style.borderRadius,style.borderDash]};crispX=Math.round(xPos)+lowerBoxBorder.borderWidth%2*.5;crispX2=Math.round(xPos+columnWidth)+lowerBoxBorder.borderWidth%2*.5;crispY=Math.round(yMedPos+lowerBoxH)+lowerQuartile.borderWidth%2*.5;lowerBoxYPos=lastDataSetYpos||yMedPos;lowerBoxHeight=Math.max(Math.min(lastDataSetHeight,crispY-yMedPos),0);lowerBoxEndPos=lowerBoxYPos+lowerBoxHeight;lowerBoxElemAttr=Object.assign({x:crispX,y:lowerBoxYPos,width:Math.max(columnWidth,0),height:lowerBoxHeight,r:0},hoverOutEffects.lowerBox);lowerBoxBorderEleAttr=Object.assign({path:[M,crispX,lastDataSetYpos||yMedPos,V,lastDataSetYpos||yMedPos+lowerBoxH,M,crispX2,lastDataSetYpos||yMedPos,V,lastDataSetYpos||yMedPos+lowerBoxH]},hoverOutEffects.lowerBoxBorder);crispY=Math.round(yMedPos+lowerBoxH)+lowerQuartile.borderWidth%2*.5;lowerQuartileEleAttr=Object.assign({path:[M,crispX,lastDataSetYpos||crispY,H,crispX+columnWidth]},hoverOutEffects.lowerQuartile);errorStartPos=crispY;errorBarWidth=columnWidth*(conf.whiskerslimitswidthratio/100);halfErrorBarW=errorBarWidth/2;errorValPos=yAxis.getPixel(config.min);crispyY=errorValPos;crispyX=crispX;crispyY=Math.round(errorValPos)+config.lowerWhiskerThickness%2/2;crispyX=Math.round(crispyX+columnWidth/2)+config.lowerWhiskerThickness%2/2;errorPath=[M,crispyX,lastDataSetYpos||errorStartPos,V,Math.max(lastDataSetYpos||crispyY,lowerBoxEndPos),M,crispyX-halfErrorBarW,Math.max(lastDataSetYpos||crispyY,lowerBoxEndPos),H,crispyX+halfErrorBarW];smartLabel.setStyle(style);smartText=smartLabel.getOriSize(numberFormatter.dataLabels(config.min));lineHeight=rotateValues?smartText.width:smartText.height;labelBottomY=errorValPos+config.lowerWhiskerThickness*.5+valuePadding;if(labelBottomY+lineHeight>chartConfig.canvasBottom){labelBottomY=chartConfig.canvasBottom-lineHeight}upperQuartileMinLabelAttr={text:numberFormatter.dataLabels(config.min),x:crispyX,title:upperQuartile.originalText||_lib.BLANKSTRING,y:lastDataSetYpos||labelBottomY,"text-anchor":rotateValues?POSITION_END:textAlign,"vertical-align":rotateValues?_lib.POSITION_MIDDLE:POSITION_TOP,visibility:_lib.visibleStr,direction:conf.textDirection,fill:style.color,transform:(0,_lib.getSuggestiveRotation)(rotateValues,crispyX,labelBottomY),"text-bound":[style.backgroundColor,style.borderColor,style.borderThickness,style.borderPadding,style.borderRadius,style.borderDash]};lowerWhiskerEleAttr={path:errorPath,"stroke-width":config.lowerWhiskerThickness,cursor:setLink?POINTER:_lib.BLANKSTRING,"stroke-linecap":ROUND,stroke:config.lowerWhiskerColor};crispY=Math.round(yMedPos)+median.borderWidth%2*.5;midLineElemAttr=Object.assign({path:[M,crispX,lastDataSetYpos||crispY,H,crispX+columnWidth]},hoverOutEffects.median);textAlign=rotateValues?_lib.POSITION_LEFT:_lib.POSITION_MIDDLE;upperQuartileLabelAttr={text:upperQuartile.displayValue,x:xPos+columnWidth/2,title:upperQuartile.originalText||_lib.BLANKSTRING,y:yTopPos-valuePadding,"text-anchor":rotateValues?POSITION_START:textAlign,"vertical-align":rotateValues?_lib.POSITION_MIDDLE:POSITION_BOTTOM,visibility:_lib.visibleStr,direction:conf.textDirection,fill:style.color,transform:(0,_lib.getSuggestiveRotation)(rotateValues,xPos+columnWidth/2,yTopPos-valuePadding),"text-bound":[style.backgroundColor,style.borderColor,style.borderThickness,style.borderPadding,style.borderRadius,style.borderDash]};medianLabelAttr={text:median.displayValue,x:crispX+columnWidth/2,y:yMedPos-valuePadding,title:median.originalText||_lib.BLANKSTRING,"text-anchor":rotateValues?POSITION_START:textAlign,"vertical-align":rotateValues?_lib.POSITION_MIDDLE:POSITION_BOTTOM,visibility:_lib.visibleStr,direction:conf.textDirection,fill:style.color,transform:(0,_lib.getSuggestiveRotation)(rotateValues,crispX+columnWidth/2,yMedPos-valuePadding),"text-bound":[style.backgroundColor,style.borderColor,style.borderThickness,style.borderPadding,style.borderRadius,style.borderDash]};lowerQuartileLabelAttr={text:lowerQuartile.displayValue,x:xPos+columnWidth/2,y:yBottomPos+valuePadding,title:lowerQuartile.originalText||_lib.BLANKSTRING,"text-anchor":rotateValues?POSITION_START:textAlign,"vertical-align":rotateValues?_lib.POSITION_MIDDLE:POSITION_TOP,visibility:_lib.visibleStr,direction:conf.textDirection,fill:style.color,transform:(0,_lib.getSuggestiveRotation)(rotateValues,xPos+columnWidth/2,yBottomPos+valuePadding),"text-bound":[style.backgroundColor,style.borderColor,style.borderThickness,style.borderPadding,style.borderRadius,style.borderDash]};config.props={lowerBoxBorderEle:{attr:lowerBoxBorderEleAttr},lowerBoxElem:{attr:lowerBoxElemAttr},lowerQuartileEle:{attr:lowerQuartileEleAttr},lowerWhiskerEle:{attr:lowerWhiskerEleAttr},midLineElem:{attr:midLineElemAttr},upperBoxElem:{attr:upperBoxElemAttr},upperBoxBorderEle:{attr:upperBoxBorderEleAttr},upperQuartileEle:{attr:upperQuartileEleAttr},upperWhiskerEle:{attr:upperWhiskerEleAttr},upperQuartileMaxLabel:{attr:upperQuartileMaxLabelAttr},upperQuartileMinLabel:{attr:upperQuartileMinLabelAttr},medianLabel:{attr:medianLabelAttr},upperQuartileLabel:{attr:upperQuartileLabelAttr},lowerQuartileLabel:{attr:lowerQuartileLabelAttr}}};BoxAndWhiskerDataset.prototype.allocatePosition=function allocatePosition(){var dataset=this,setDataArr=dataset.config.JSONData.data,datasetLen=setDataArr&&setDataArr.length,xAxis=dataset.getFromEnv("xAxis"),catLen=xAxis.getTicksLen(),dataStore=dataset.components.data,dataObj,i,len;len=Math.min(catLen,datasetLen);dataset.setColumnPosition();for(i=0;i<len;i++){dataObj=dataStore[i];dataset.parsePlotAttributes(dataObj,i)}};BoxAndWhiskerDataset.prototype.drawPlots=function drawPlots(){var dataset=this,JSONData=dataset.config.JSONData,conf=dataset.config,datasetIndex=conf.index,setDataArr=JSONData.data,datasetLen=setDataArr&&setDataArr.length,len,i,visible=dataset.getState("visible"),chart=dataset.getFromEnv("chart"),xAxis=dataset.getFromEnv("xAxis"),catLen=xAxis.getTicksLen(),showTooltip=conf.showtooltip,toolTipController=dataset.getFromEnv("toolTipController"),toolText,dataStore=dataset.components.data,dataObj,setValue,config,showShadow=conf.showShadow,upperBoxContainer=dataset.getContainer("upperBoxGroup").toBack(),lowerBoxContainer=dataset.getContainer("lowerBoxGroup"),medianContainer=dataset.getContainer("medianGroup"),upperWhiskerContainer=dataset.getContainer("upperWhiskerGroup"),lowerWhiskerContainer=dataset.getContainer("lowerWhiskerGroup"),dataLabelContainer=dataset.getContainer("labelGroup"),shadowContainer=dataset.getContainer("shadowGroup"),upperQuartile,applyShadow,lowerQuartile,median,upperBoxElem,upperBoxElemCheck,upperBoxBorderEle,upperBoxBorderEleCheck,upperQuartileEle,upperQuartileEleCheck,lowerBoxElem,lowerBoxElemCheck,lowerBoxBorderEle,lowerBoxBorderEleCheck,lowerQuartileEle,lowerQuartileEleCheck,midLineElem,midLineElemCheck,label,labelCheck,smartLabel=dataset.getFromEnv("smartLabel"),graphic,groupId,upperWhiskerEle,upperWhiskerEleCheck,lowerWhiskerEle,lowerWhiskerEleCheck,ele,graphics,removeDataArr=dataset.components.removeDataArr||[],removeDataArrLen=removeDataArr.length,newupperBoxElem,newlowerBoxElem,newupperBoxBorderEle,newlowerBoxBorderEle,newupperQuartileEle,newlowerQuartileEle,newmidLineElem,newupperWhiskerEle,newlowerWhiskerEle,hoverInAttr,hoverOutAttr,showHoverEffect=conf.showHoverEffect,k,subarr,arrlen,animationManager=dataset.getFromEnv("animationManager"),clickFunc=function clickFunc(ele){return function(e){chart.plotEventHandler(ele,e)}},rolloverResponseSetter=function rolloverResponseSetter(obj,ele){return function(data){var elem;if(ele.data(showHoverEffectStr)!==0){for(elem in obj){if(elem!==LABEL){animationManager.setAnimation({el:obj[elem],doNotRemove:true,attr:ele.data(SETROLLOVERATTR)[elem],component:dataset});chart.plotEventHandler(ele,data,ROLLOVER)}}}}},rolloutResponseSetter=function rolloutResponseSetter(obj,ele){return function(data){var elem;if(ele.data(showHoverEffectStr)!==0){for(elem in obj){if(elem!==LABEL){animationManager.setAnimation({el:obj[elem],doNotRemove:true,attr:ele.data(SETROLLOUTATTR)[elem],component:dataset});chart.plotEventHandler(ele,data,ROLLOUT)}}}}},animCallBack=function animCallBack(){if(dataset.getState("visible")===false&&(dataset._conatinerHidden===false||dataset._conatinerHidden===UNDEFINED)){upperBoxContainer.hide();lowerBoxContainer.hide();upperWhiskerContainer.hide();lowerWhiskerContainer.hide();medianContainer.hide();shadowContainer.hide();dataLabelContainer&&dataLabelContainer.hide();dataset._conatinerHidden=true}};applyShadow=function applyShadow(shadowProps){return function(){this.show();this.shadow(shadowProps)}};dataset.setColumnPosition();if(!visible){dataLabelContainer.hide();upperWhiskerContainer.hide();upperBoxContainer.hide();lowerWhiskerContainer.hide();lowerBoxContainer.hide();medianContainer.hide();shadowContainer.hide()}else{upperBoxContainer.show();lowerBoxContainer.show();upperWhiskerContainer.show();lowerWhiskerContainer.show();medianContainer.show();shadowContainer.show();dataLabelContainer.show();dataset._conatinerHidden=false}len=Math.min(catLen,datasetLen);for(i=0;i<len;i++){dataObj=dataStore[i];config=dataObj&&dataObj.config;setValue=config&&config.setValue;newupperBoxElem=false;newlowerBoxElem=false;newupperBoxBorderEle=false;newlowerBoxBorderEle=false;newupperQuartileEle=false;newlowerQuartileEle=false;newmidLineElem=false;newupperWhiskerEle=false;newlowerWhiskerEle=false;if(dataObj===UNDEFINED||setValue===UNDEFINED||setValue===null){graphics=dataObj.graphics;for(ele in graphics){if(graphics[ele]instanceof Array){subarr=graphics[ele];for(k=0,arrlen=subarr.length;k<arrlen;k++){subarr[k]&&subarr[k].hide()}}else{graphics[ele].hide()}}continue}graphic=dataObj.graphics;if(!dataObj.graphics){dataStore[i].graphics={}}if(!graphic.label){dataStore[i].graphics.label=[]}upperQuartile=config.upperQuartile||{};lowerQuartile=config.lowerQuartile||{};median=config.median;toolText=config.toolText;groupId=datasetIndex+UNDERSCORE+i;upperBoxElemCheck=dataObj.graphics.upperBoxElem;upperBoxElem=animationManager.setAnimation({el:upperBoxElemCheck||"rect",attr:config.props.upperBoxElem.attr,label:"upperBox",container:upperBoxContainer,component:dataset});if(!upperBoxElemCheck){dataObj.graphics.upperBoxElem=upperBoxElem;newupperBoxElem=true}upperBoxElem.shadow({opacity:showShadow?conf.upperBoxAlpha/100:0},shadowContainer);upperBoxBorderEleCheck=dataObj.graphics.upperBoxBorderEle;upperBoxBorderEle=animationManager.setAnimation({el:upperBoxBorderEleCheck||"path",attr:config.props.upperBoxBorderEle.attr,container:upperBoxContainer,label:"path",component:dataset});if(!upperBoxBorderEleCheck){dataObj.graphics.upperBoxBorderEle=upperBoxBorderEle;newupperBoxBorderEle=true}upperQuartileEleCheck=dataObj.graphics.upperQuartileEle;upperQuartileEle=animationManager.setAnimation({el:upperQuartileEleCheck||"path",attr:config.props.upperQuartileEle.attr,label:"path",container:upperBoxContainer,component:dataset});if(!upperQuartileEleCheck){dataObj.graphics.upperQuartileEle=upperQuartileEle;newupperQuartileEle=true}upperWhiskerEleCheck=dataObj.graphics.upperWhiskerEle;upperWhiskerEle=animationManager.setAnimation({el:upperWhiskerEleCheck||"path",attr:config.props.upperWhiskerEle.attr,label:"path",container:upperWhiskerContainer,component:dataset});applyShadow({opacity:config.upperWhiskerShadowOpacity},shadowContainer);if(!upperWhiskerEleCheck){dataObj.graphics.upperWhiskerEle=upperWhiskerEle;newupperWhiskerEle=true}smartLabel.useEllipsesOnOverflow(chart.config.useEllipsesWhenOverflow);if(config.showMaxValues){labelCheck=graphic.label[3];labelCheck&&labelCheck.show();label=animationManager.setAnimation({el:labelCheck||"text",attr:config.props.upperQuartileMaxLabel.attr,component:dataset,label:"text",container:dataLabelContainer});if(!labelCheck){graphic.label[3]=label}graphic.label[3].data(GROUPID,groupId)}else{graphic.label[3]&&animationManager.setAnimation({el:graphic.label[3],component:dataset,attr:{"text-bound":[]},callback:_hide.call(graphic.label[3])})}lowerBoxElemCheck=dataObj.graphics.lowerBoxElem;lowerBoxElem=animationManager.setAnimation({el:lowerBoxElemCheck||"rect",attr:config.props.lowerBoxElem.attr,label:"lowerBox",container:lowerBoxContainer,component:dataset});if(!lowerBoxElemCheck){dataObj.graphics.lowerBoxElem=lowerBoxElem;newlowerBoxElem=true}lowerBoxElem.shadow({opacity:showShadow?conf.lowerBoxAlpha/100:0},shadowContainer);lowerBoxBorderEleCheck=dataObj.graphics.lowerBoxBorderEle;lowerBoxBorderEle=animationManager.setAnimation({el:lowerBoxBorderEleCheck||"path",attr:config.props.lowerBoxBorderEle.attr,component:dataset,label:"path",container:lowerBoxContainer});if(!lowerBoxBorderEleCheck){dataObj.graphics.lowerBoxBorderEle=lowerBoxBorderEle;newlowerBoxBorderEle=true}lowerQuartileEleCheck=dataObj.graphics.lowerQuartileEle;lowerQuartileEle=animationManager.setAnimation({el:lowerQuartileEleCheck||"path",attr:config.props.lowerQuartileEle.attr,component:dataset,label:"path",container:lowerBoxContainer});if(!lowerQuartileEleCheck){dataObj.graphics.lowerQuartileEle=lowerQuartileEle;newlowerQuartileEle=true}lowerWhiskerEle=dataObj.graphics.lowerWhiskerEle;if(config.showMinValues){labelCheck=graphic.label[4];labelCheck&&labelCheck.show();label=animationManager.setAnimation({el:labelCheck||"text",attr:config.props.upperQuartileMinLabel.attr,label:"text",container:dataLabelContainer,component:dataset});if(!labelCheck){graphic.label[4]=label}graphic.label[4].data(GROUPID,groupId)}else{graphic.label[4]&&animationManager.setAnimation({el:graphic.label[4],component:dataset,attr:{"text-bound":[]},callback:_hide.call(graphic.label[4])})}lowerWhiskerEleCheck=dataObj.graphics.lowerWhiskerEle;lowerWhiskerEle=animationManager.setAnimation({el:lowerWhiskerEleCheck||"path",attr:config.props.lowerWhiskerEle.attr,label:"path",container:lowerWhiskerContainer,component:dataset,callback:applyShadow({opacity:config.lowerWhiskerShadowOpacity},shadowContainer)});if(!lowerWhiskerEleCheck){dataObj.graphics.lowerWhiskerEle=lowerWhiskerEle;newlowerWhiskerEle=true}midLineElemCheck=dataObj.graphics.midLineElem;midLineElem=animationManager.setAnimation({el:midLineElemCheck||"path",component:dataset,label:"midline",container:medianContainer,attr:config.props.midLineElem.attr});if(!midLineElemCheck){dataObj.graphics.midLineElem=midLineElem;newmidLineElem=true}hoverInAttr={upperBoxElem:config.setUpperBoxRolloverAttr,lowerBoxElem:config.setLowerBoxRolloverAttr,upperBoxBorderEle:config.setUpperBoxBorderRolloverAttr,lowerBoxBorderEle:config.setLowerBoxBorderRolloverAttr,upperQuartileEle:config.setUpperQuartileRolloverAttr,lowerQuartileEle:config.setLowerQuartileRolloverAttr,midLineElem:config.setMedianRolloverAttr};hoverOutAttr={upperBoxElem:config.setUpperBoxRolloutAttr,lowerBoxElem:config.setLowerBoxRolloutAttr,upperBoxBorderEle:config.setUpperBoxBorderRolloutAttr,lowerBoxBorderEle:config.setLowerBoxBorderRolloutAttr,upperQuartileEle:config.setUpperQuartileRolloutAttr,lowerQuartileEle:config.setLowerQuartileRolloutAttr,midLineElem:config.setMedianRolloutAttr};upperBoxElem.data(GROUPID,groupId).data(EVENTARGS,config.eventArgs).data(showHoverEffectStr,showHoverEffect).data(SETROLLOVERATTR,hoverInAttr).data(SETROLLOUTATTR,hoverOutAttr);if(newupperBoxElem){upperBoxElem.on("click",clickFunc(upperBoxElem));upperBoxElem.on("mouseover",rolloverResponseSetter(dataObj.graphics,upperBoxElem));upperBoxElem.on("mouseout",rolloutResponseSetter(dataObj.graphics,upperBoxElem))}lowerBoxElem.data(GROUPID,groupId).data(EVENTARGS,config.eventArgs).data(showHoverEffectStr,showHoverEffect).data(SETROLLOVERATTR,hoverInAttr).data(SETROLLOUTATTR,hoverOutAttr);if(newlowerBoxElem){lowerBoxElem.on("click",clickFunc(lowerBoxElem));lowerBoxElem.on("mouseover",rolloverResponseSetter(dataObj.graphics,lowerBoxElem));lowerBoxElem.on("mouseout",rolloutResponseSetter(dataObj.graphics,lowerBoxElem))}upperBoxBorderEle.data(GROUPID,groupId).data(EVENTARGS,config.eventArgs).data(showHoverEffectStr,showHoverEffect).data(SETROLLOVERATTR,hoverInAttr).data(SETROLLOUTATTR,hoverOutAttr);if(newupperBoxBorderEle){upperBoxBorderEle.on("click",clickFunc(upperBoxBorderEle));upperBoxBorderEle.on("mouseover",rolloverResponseSetter(dataObj.graphics,upperBoxBorderEle));upperBoxBorderEle.on("mouseout",rolloutResponseSetter(dataObj.graphics,upperBoxBorderEle))}lowerBoxBorderEle.data(GROUPID,groupId).data(EVENTARGS,config.eventArgs).data(showHoverEffectStr,showHoverEffect).data(SETROLLOVERATTR,hoverInAttr).data(SETROLLOUTATTR,hoverOutAttr);if(newlowerBoxBorderEle){lowerBoxBorderEle.on("click",clickFunc(lowerBoxBorderEle));lowerBoxBorderEle.on("mouseover",rolloverResponseSetter(dataObj.graphics,lowerBoxBorderEle));lowerBoxBorderEle.on("mouseout",rolloutResponseSetter(dataObj.graphics,lowerBoxBorderEle))}upperQuartileEle.data(GROUPID,groupId).data(EVENTARGS,config.eventArgs).data(showHoverEffectStr,showHoverEffect).data(SETROLLOVERATTR,hoverInAttr).data(SETROLLOUTATTR,hoverOutAttr);if(newupperQuartileEle){upperQuartileEle.on("click",clickFunc(upperQuartileEle));upperQuartileEle.on("mouseover",rolloverResponseSetter(dataObj.graphics,upperQuartileEle));upperQuartileEle.on("mouseout",rolloutResponseSetter(dataObj.graphics,upperQuartileEle))}lowerQuartileEle.data(GROUPID,groupId).data(EVENTARGS,config.eventArgs).data(showHoverEffectStr,showHoverEffect).data(SETROLLOVERATTR,hoverInAttr).data(SETROLLOUTATTR,hoverOutAttr);if(newlowerQuartileEle){lowerQuartileEle.on("click",clickFunc(lowerQuartileEle));lowerQuartileEle.on("mouseover",rolloverResponseSetter(dataObj.graphics,lowerQuartileEle));lowerQuartileEle.on("mouseout",rolloutResponseSetter(dataObj.graphics,lowerQuartileEle))}midLineElem.data(GROUPID,groupId).data(EVENTARGS,config.eventArgs).data(showHoverEffectStr,showHoverEffect).data(SETROLLOVERATTR,hoverInAttr).data(SETROLLOUTATTR,hoverOutAttr);if(newmidLineElem){midLineElem.on("click",clickFunc(midLineElem));midLineElem.on("mouseover",rolloverResponseSetter(dataObj.graphics,midLineElem));midLineElem.on("mouseout",rolloutResponseSetter(dataObj.graphics,midLineElem))}upperWhiskerEle.data(GROUPID,groupId).data(EVENTARGS,config.eventArgs).data(showHoverEffectStr,showHoverEffect).data(SETROLLOVERATTR,hoverInAttr).data(SETROLLOUTATTR,hoverOutAttr);if(newupperWhiskerEle){upperWhiskerEle.on("click",clickFunc(upperWhiskerEle));upperWhiskerEle.on("mouseover",rolloverResponseSetter(dataObj.graphics,upperWhiskerEle));upperWhiskerEle.on("mouseout",rolloutResponseSetter(dataObj.graphics,upperWhiskerEle))}lowerWhiskerEle.data(GROUPID,groupId).data(EVENTARGS,config.eventArgs).data(showHoverEffectStr,showHoverEffect).data(SETROLLOVERATTR,hoverInAttr).data(SETROLLOUTATTR,hoverOutAttr);if(newlowerWhiskerEle){lowerWhiskerEle.on("click",clickFunc(lowerWhiskerEle));lowerWhiskerEle.on("mouseover",rolloverResponseSetter(dataObj.graphics,lowerWhiskerEle));lowerWhiskerEle.on("mouseout",rolloutResponseSetter(dataObj.graphics,lowerWhiskerEle))}if((0,_lib.defined)(upperQuartile.displayValue)&&upperQuartile.displayValue!==BLANK&&config.showQ3Values){labelCheck=graphic.label[0];labelCheck&&labelCheck.show();label=animationManager.setAnimation({el:labelCheck||"text",attr:config.props.upperQuartileLabel.attr,component:dataset,label:"text",container:dataLabelContainer});if(!labelCheck){graphic.label[0]=label}graphic.label[0].data(GROUPID,groupId)}else{graphic.label[0]&&animationManager.setAnimation({el:graphic.label[0],component:dataset,attr:{"text-bound":[]},callback:_hide.call(graphic.label[0])})}if((0,_lib.defined)(median.displayValue)&&median.displayValue!==BLANK&&config.showMedianValues){labelCheck=graphic.label[1];labelCheck&&labelCheck.show();label=animationManager.setAnimation({el:labelCheck||"text",attr:config.props.medianLabel.attr,component:dataset,label:"text",container:dataLabelContainer});if(!labelCheck){graphic.label[1]=label}graphic.label[1].data(GROUPID,groupId)}else{graphic.label[1]&&animationManager.setAnimation({el:graphic.label[1],component:dataset,attr:{"text-bound":[]},callback:_hide.call(graphic.label[1])})}if((0,_lib.defined)(lowerQuartile.displayValue)&&lowerQuartile.displayValue!==BLANK&&config.showQ1Values){labelCheck=graphic.label[2];label=animationManager.setAnimation({el:labelCheck||"text",component:dataset,attr:config.props.lowerQuartileLabel.attr,container:dataLabelContainer});if(!labelCheck){graphic.label[2]=label;label.show()}graphic.label[2].data(GROUPID,groupId)}else{graphic.label[2]&&animationManager.setAnimation({el:graphic.label[2],component:dataset,attr:{"text-bound":[]},callback:_hide.call(graphic.label[2])})}if(showTooltip){toolTipController.enableToolTip(upperBoxElem,toolText);toolTipController.enableToolTip(lowerBoxElem,toolText);toolTipController.enableToolTip(upperBoxBorderEle,toolText);toolTipController.enableToolTip(lowerBoxBorderEle,toolText);toolTipController.enableToolTip(upperQuartileEle,toolText);toolTipController.enableToolTip(lowerQuartileEle,toolText);toolTipController.enableToolTip(midLineElem,toolText);toolTipController.enableToolTip(upperWhiskerEle,toolText);toolTipController.enableToolTip(lowerWhiskerEle,toolText)}else{toolTipController.enableToolTip(upperBoxElem,false);toolTipController.enableToolTip(lowerBoxElem,false);toolTipController.enableToolTip(upperBoxBorderEle,false);toolTipController.enableToolTip(lowerBoxBorderEle,false);toolTipController.enableToolTip(upperQuartileEle,false);toolTipController.enableToolTip(lowerQuartileEle,false);toolTipController.enableToolTip(midLineElem,false);toolTipController.enableToolTip(upperWhiskerEle,false);toolTipController.enableToolTip(lowerWhiskerEle,false)}}animCallBack();removeDataArrLen&&dataset.removePlots()};BoxAndWhiskerDataset.prototype.removePlots=function removePlots(){var dataSet=this,components=dataSet.components,removeDataArr=components.removeDataArr,animationManager=dataSet.getFromEnv("animationManager"),len=removeDataArr.length,removeData,ele,graphics,i,innerLen,j;for(i=0;i<len;i++){removeData=removeDataArr[0];removeDataArr.splice(0,1);if(!removeData||!removeData.graphics){continue}graphics=removeData.graphics;for(ele in graphics){if(ele!==LABEL){graphics[ele].shadow({opacity:0});graphics[ele].hide()}else{innerLen=graphics[ele].length;for(j=0;j<innerLen;j++){if(graphics[ele][j]){graphics[ele][j].shadow({opacity:0});animationManager.setAnimation({el:graphics[ele][j],component:dataSet,attr:{"text-bound":[]},callback:_hide.call(graphics[ele][j])})}}}}}};BoxAndWhiskerDataset.prototype.removeData=function removeData(index,stretch,draw){var dataSet=this,components=dataSet.components,dataStore=components.data,removeDataArr=components.removeDataArr||(components.removeDataArr=[]);stretch=stretch||1;index=index||0;if(index+stretch===dataStore.length){dataSet.endPosition=true}else if(index===0||index===UNDEFINED){dataSet.endPosition=false}components.removeDataArr=removeDataArr=removeDataArr.concat(dataStore.splice(index,stretch));draw&&dataSet.asyncDraw()};BoxAndWhiskerDataset.prototype.__setDefaultConfig=function __setDefaultConfig(){_ColumnDataset.prototype.__setDefaultConfig.call(this);var config=this.config;config.showplotborder=UNDEFINED;config.plotborderdashlen=UNDEFINED;config.plotborderdashgap=UNDEFINED;config.plotfillalpha=UNDEFINED;config.useroundedges=UNDEFINED;config.ratio=UNDEFINED;config.plotborderthickness=UNDEFINED;config.showvalues=UNDEFINED;config.valuepadding=UNDEFINED;config.showtooltip=UNDEFINED;config.maxcolwidth=UNDEFINED;config.rotatevalues=UNDEFINED;config.use3dlighting=UNDEFINED;config.whiskerslimitswidthratio=UNDEFINED;config.outliersupperrangeratio=UNDEFINED;config.outlierslowerrangeratio=UNDEFINED;config.showalloutliers=UNDEFINED;config.showmean=UNDEFINED;config.showsd=UNDEFINED;config.showmd=UNDEFINED;config.showqd=UNDEFINED;config.showminvalues=UNDEFINED;config.showmaxvalues=UNDEFINED;config.showq1values=UNDEFINED;config.showq3values=UNDEFINED;config.showmedianvalues=UNDEFINED};BoxAndWhiskerDataset.prototype.getDataLimits=function getDataLimits(){var dataset=this,conf=dataset.config,removed=dataset.getState("removed");return{max:removed?-Infinity:conf.maxValue,min:removed?+Infinity:conf.minValue}};BoxAndWhiskerDataset.prototype._addLegend=function _addLegend(){var dataset=this,strokeColor,fillColor,config,conf=dataset.config,legendItem,legend=dataset.getFromEnv("legend"),upperBoxColor=conf.upperBoxColor,lowerBoxColor=conf.lowerBoxColor;strokeColor=COLOR_000000;fillColor={FCcolor:{color:upperBoxColor+_lib.COMMA+lowerBoxColor,angle:90,ratio:"50, 0",alpha:"100, 100"}};config={label:(0,_lib.getFirstValue)(dataset.config.JSONData.seriesname),index:dataset.getJSONIndex(),mainDS:true};if(conf.includeInLegend){legendItem=legend.getItem(dataset.config.legendItemId);if(!legendItem){dataset.config.legendItemId=legend.createItem(dataset);legendItem=legend.getItem(dataset.config.legendItemId);dataset.addExtEventListener("click",function(){legendItem.itemClickFn()},legendItem)}legendItem.configure(config);legendItem.setStateCosmetics("default",{symbol:{fill:(0,_lib.toRaphaelColor)(fillColor),rawFillColor:conf.upperBoxColor,stroke:(0,_lib.toRaphaelColor)(strokeColor)},background:{legendBackgroundColor:(0,_lib.toRaphaelColor)(upperBoxColor),alpha:20}});if(!dataset.getState("visible")){legendItem.setLegendState("hidden")}else{legendItem.removeLegendState("hidden")}}else if(dataset.config.legendItemId){legend.disposeItem(dataset.config.legendItemId)}dataset._mapChildren(function(child){child.addToEnv("legendBackgroundColor",upperBoxColor);child&&child._addLegend(true)})};BoxAndWhiskerDataset.prototype.legendInteractivity=function legendInteractivity(){var dataset=this,childDS=dataset.getChildren("dataset"),visible=dataset.getState("visible"),state,i;state=visible?"hide":"show";for(i=0;i<(childDS&&childDS.length);i++){childDS[i][state]()}dataset[state]()};BoxAndWhiskerDataset.prototype.drawLabel=function drawLabel(){return this};BoxAndWhiskerDataset.prototype.getName=function getName(){return"boxandwhisker2D"};BoxAndWhiskerDataset.prototype.childChanged=function childChanged(){return this};BoxAndWhiskerDataset.prototype.show=function show(){_ColumnDataset.prototype.show.call(this)};BoxAndWhiskerDataset.prototype.hide=function hide(){_ColumnDataset.prototype.hide.call(this)};return BoxAndWhiskerDataset}(_column2["default"]);exports["default"]=BoxAndWhiskerDataset},569:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _line=__webpack_require__(346);var _line2=_interopRequireDefault(_line);var _lib=__webpack_require__(118);var _dependencyManager=__webpack_require__(125);var _boxandwhiskerlineAnimation=__webpack_require__(570);var _boxandwhiskerlineAnimation2=_interopRequireDefault(_boxandwhiskerlineAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var UNDEF=void 0,POLYGON=_lib.preDefStr.POLYGON,SPOKE=_lib.preDefStr.SPOKE,BOLDSTARTTAG="<b>",BOLDENDTAG="</b>",createGroup=function createGroup(attrs,parentContainer,dataset){var animationManager=dataset.getFromEnv("animationManager");return animationManager.setAnimation({el:"group",attr:attrs,container:parentContainer,component:dataset,label:"group"})};(0,_dependencyManager.addDep)({name:"boxandwhiskerlineAnimation",type:"animationRule",extension:_boxandwhiskerlineAnimation2["default"]});var BoxAndWhiskerLinedataset=function(_Linedataset){_inherits(BoxAndWhiskerLinedataset,_Linedataset);function BoxAndWhiskerLinedataset(){_classCallCheck(this,BoxAndWhiskerLinedataset);return _possibleConstructorReturn(this,_Linedataset.apply(this,arguments))}BoxAndWhiskerLinedataset.prototype.getName=function getName(){return"boxandwhiskerline"};BoxAndWhiskerLinedataset.prototype.createCoordinates=function createCoordinates(){var dataset=this,dsComponents=dataset.components,dsData=dsComponents.data,yAxis=dataset.getFromEnv("yAxis"),xAxis=dataset.getFromEnv("xAxis"),dataObj,config,i,Px,Py,len=dsData.length,components=dataset.components,dataStore=components.data,xPosOffset=dataset.getFromEnv("columnXShift"),width=dataset.getFromEnv("columnWidth");for(i=0;i<len;i++){dataObj=dataStore[i];config=dataObj&&dataObj.config;if(dataObj===UNDEF){continue}Px=xAxis.getPixel(config._x);Py=yAxis.getPixel(config._y);config._Px=Px+xPosOffset+width/2;config._Py=Py}};BoxAndWhiskerLinedataset.prototype.getAllPlots=function getAllPlots(min,max){var data=this.components.data,allPlots=[],i=void 0,len=void 0;for(i=0,len=data.length;i<len;i++){if(data[i].config._x>=min||data[i].config._x<=max){allPlots.push(data[i])}}return allPlots};BoxAndWhiskerLinedataset.prototype.calculateScrollRange=function calculateScrollRange(){var dataSet=this,conf=dataSet.config,data=dataSet.components.data;conf.scrollMinVal=0;conf.scrollMaxVal=data.length;conf.scrollMinValForLabel=conf.scrollMinVal;conf.scrollMaxValForLabel=conf.scrollMaxVal};BoxAndWhiskerLinedataset.prototype._getHoveredPlot=function _getHoveredPlot(chartX,chartY){var dataset=this,xAxis=dataset.getFromEnv("xAxis"),components=dataset.components,dataStore=components.data,pointObj,xMin,xMax,len=dataStore.length,returnValue,conf=dataset.config,j,maxRadius=conf&&conf.radius||0,allPlots;chartX+=xAxis.getTranslation();xMin=Math.floor(Math.max(xAxis.getValue(chartX-maxRadius),0));xMax=Math.ceil(Math.min(xAxis.getValue(chartX+maxRadius),len-1));allPlots=dataset.getAllPlots(xMin,xMax);for(j=allPlots.length;j>=0;j--){pointObj=allPlots[j];if(pointObj){returnValue=dataset.isWithinShape(pointObj,j,chartX,chartY);if(returnValue){break}}}return returnValue};BoxAndWhiskerLinedataset.prototype._addLegend=function _addLegend(callFromParentDS){if(!callFromParentDS){return}var dataset=this,chart=dataset.getFromEnv("chart"),conf=dataset.config,legend=chart.getChildren("legend")[0],legendItem,drawAnchors=(0,_lib.pluckNumber)(conf.drawanchors,1),config;if(conf.includeinlegend){config={anchorSide:drawAnchors?conf.anchorsides:0,label:(0,_lib.getFirstValue)(conf.JSONData.seriesname),customLegendIcon:false,spoke:conf.dip==="spoke"?1:0,drawLine:!conf.showline,index:dataset.getJSONIndex()};legendItem=legend.getItem(dataset.config.legendItemId);if(!legendItem){dataset.config.legendItemId=legend.createItem(dataset);legendItem=legend.getItem(dataset.config.legendItemId);dataset.addExtEventListener("click",function(){legendItem.itemClickFn()},legendItem)}legendItem.configure(config);legendItem.setStateCosmetics("default",{symbol:{fill:(0,_lib.toRaphaelColor)({color:conf.anchorbgcolor,alpha:conf.anchorbgalpha}),rawFillColor:conf.anchorbgcolor,stroke:(0,_lib.toRaphaelColor)({color:conf.anchorbordercolor,alpha:"100"})},background:{legendBackgroundColor:(0,_lib.toRaphaelColor)(dataset.getFromEnv("legendBackgroundColor")),alpha:20}});if(!dataset.getState("visible")){legendItem.setLegendState("hidden")}else{legendItem.removeLegendState("hidden")}}else if(dataset.config.legendItemId){legend.disposeItem(dataset.config.legendItemId)}};BoxAndWhiskerLinedataset.prototype.configureAttributes=function configureAttributes(datasetJSON){_Linedataset.prototype.configureAttributes.call(this,datasetJSON);var dataset=this,JSONData=dataset.config.JSONData,conf=dataset.config;dataset.setState("visible",dataset.getLinkedParent().getState("visible"));conf.skipCommonElements=JSONData.showline;conf.dip=JSONData.dip};BoxAndWhiskerLinedataset.prototype.createContainer=function createContainer(){var dataset=this,dsType=dataset.getType(),groupName=dataset.groupName,parent=dataset.getLinkedParent().getLinkedParent(),group=groupName||dataset.dsGroup||dsType,parentContainer,parentShadowContainer;!parent.getChildContainer(group+"VcanvasGroup")&&(group="default");parentContainer=parent.getChildContainer("manager-defaultVcanvasGroup-lines");parentShadowContainer=parent.getChildContainer(group+"ShadowVcanvasGroup");!dataset.getContainer("shadowGroup")&&dataset.addContainer("shadowGroup",createGroup({name:"shadow-group"},parentShadowContainer,dataset));!dataset.getContainer("commonElemsGroup")&&dataset.addContainer("commonElemsGroup",createGroup({name:"common-elems-group"},parentContainer,dataset));!dataset.getContainer("plotGroup")&&dataset.addContainer("plotGroup",createGroup({name:"common-elems-group"},parentContainer,dataset));!dataset.getContainer("labelGroup")&&dataset.addContainer("labelGroup",createGroup({name:"label-group","class":"fusioncharts-datalabels",opacity:1},parent.getChildContainer("vcanvasLabelGroup"),dataset))};BoxAndWhiskerLinedataset.prototype._setConfigure=function _setConfigure(newdataset,newIndex){_Linedataset.prototype._setConfigure.call(this,newdataset,newIndex);var dataset=this,chartConfig=dataset.getFromEnv("chartConfig"),JSONData=dataset.config.JSONData,setDataArr=newdataset||JSONData.data||[],setData,dataObj,len=setDataArr.length,dataStore=dataset.components.data,config,i,tempIndex,outlierIconShape;for(i=0;i<len;i++){if(newdataset){setData=newdataset&&newdataset.data[i]||{};if(newIndex!==UNDEF){tempIndex=newIndex+i;dataObj=dataStore[tempIndex]}else{tempIndex=dataStore.length-len+i;dataObj=dataStore[tempIndex]}}else{dataObj=dataStore[i];setData=setDataArr&&setDataArr[i]||{}}config=dataObj&&dataObj.config;outlierIconShape=(0,_lib.pluck)(setData.dip,JSONData.dip);config.dip=outlierIconShape===POLYGON?0:outlierIconShape===SPOKE?1:0;config.toolText=config.finalTooltext=BOLDSTARTTAG+JSONData.seriesname+chartConfig.tooltipsepchar+BOLDENDTAG+config.displayValue}};return BoxAndWhiskerLinedataset}(_line2["default"]);exports["default"]=BoxAndWhiskerLinedataset},570:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]={"initial.dataset.boxandwhiskerline":function initialDatasetBoxandwhiskerline(){return{"line.appearing":[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"plot",startEnd:{start:.5,end:1}}],"anchor.appearing":[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"plot",startEnd:{start:.5,end:1}}]}}}},571:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]={"initial.dataset.boxandwhisker2D":function initialDatasetBoxandwhisker2D(){return{"upperBox.appearing":function upperBoxAppearing(inputJSON){return[{initialAttr:{x:inputJSON.attr.x,y:inputJSON.attr.y+inputJSON.attr.height,height:0,width:inputJSON.attr.width},slot:"plot",startEnd:{start:0,end:.5}}]},"lowerBox.appearing":function lowerBoxAppearing(inputJSON){return[{initialAttr:{x:inputJSON.attr.x,y:inputJSON.attr.y,height:0,width:inputJSON.attr.width},slot:"plot",startEnd:{start:0,end:.5}}]},"path.appearing":[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"plot",startEnd:{start:.5,end:1}}],"midline.appearing":[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"plot",startEnd:{start:0,end:.2}}],"group.appearing":function groupAppearing(inputJSON){if(inputJSON.attr.name==="label-group"){return[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}]}else{return[{initialAttr:{opacity:1},finalAttr:{opacity:1},slot:"final"}]}},"*":null}}}},572:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _column=__webpack_require__(402);var _column2=_interopRequireDefault(_column);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var key="manager-defaultVcanvasGroup-lines",vcanvasGroup="defaultVcanvasGroup";var BoxAndWhiskerMultiSeriesGroup=function(_ColumnMultiseriesGro){_inherits(BoxAndWhiskerMultiSeriesGroup,_ColumnMultiseriesGro);function BoxAndWhiskerMultiSeriesGroup(){_classCallCheck(this,BoxAndWhiskerMultiSeriesGroup);return _possibleConstructorReturn(this,_ColumnMultiseriesGro.apply(this,arguments))}BoxAndWhiskerMultiSeriesGroup.prototype.createContainer=function createContainer(){_ColumnMultiseriesGro.prototype.createContainer.call(this);var manager=this,animationManager=manager.getFromEnv("animationManager"),parent=manager.getLinkedParent(),pContainer=parent.getChildContainer(vcanvasGroup);!manager.getChildContainer(key)&&manager.addChildContainer(key,animationManager.setAnimation({el:"group",component:manager,attr:{name:key},container:pContainer}))};return BoxAndWhiskerMultiSeriesGroup}(_column2["default"]);exports["default"]=BoxAndWhiskerMultiSeriesGroup},573:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=function(chart){var jsonData=chart.getFromEnv("dataSource"),datasetsJSON=jsonData.dataset,children=chart.getChildren(),canvas=children.canvas[0],vCanvas=void 0,datasetParent=vCanvas=canvas.getChildren("vCanvas")[0],DsGroupClass=void 0,DSClass=void 0,dsType=chart.config.defaultDatasetType||"",groupManager=void 0;if(!datasetsJSON){chart.setChartMessage()}DsGroupClass=chart.getDSGroupdef();(0,_lib.componentFactory)(vCanvas,DsGroupClass,"datasetGroup_"+dsType);groupManager=vCanvas.getChildren("datasetGroup_"+dsType);groupManager&&(datasetParent=groupManager[0]);DSClass=chart.getDSdef();(0,_lib.componentFactory)(chart,_boxAndWhiskerStatisticalCalc2["default"],"BoxAndWhiskerStatisticalCalc");vCanvas.getChildren("datasetGroup_"+dsType)[0].addToEnv("BoxAndWhiskerStatisticalCalc",chart.getChildren("BoxAndWhiskerStatisticalCalc")[0]);datasetParent.addToEnv("lineJSON",chart._getLineJSONdata());(0,_lib.datasetFactory)(datasetParent,DSClass,"dataset",datasetsJSON.length,datasetsJSON)};var _lib=__webpack_require__(118);var _boxAndWhiskerStatisticalCalc=__webpack_require__(574);var _boxAndWhiskerStatisticalCalc2=_interopRequireDefault(_boxAndWhiskerStatisticalCalc);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}},574:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);var _lib=__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var BoxAndWhiskerStatisticalCalc=function(_ComponentInterface){_inherits(BoxAndWhiskerStatisticalCalc,_ComponentInterface);function BoxAndWhiskerStatisticalCalc(){_classCallCheck(this,BoxAndWhiskerStatisticalCalc);return _possibleConstructorReturn(this,_ComponentInterface.apply(this,arguments))}BoxAndWhiskerStatisticalCalc.prototype.setArray=function setArray(value){var calculater=this,nf=calculater.getFromEnv("number-formatter"),dataSeparator=_lib.COMMASTRING,sum=0,len,dataArr;!value&&(value=_lib.BLANK);dataArr=value.replace(/\s/g,_lib.BLANK).split(dataSeparator);len=this.dataLength=dataArr&&dataArr.length;while(len--){sum+=dataArr[len]=nf.getCleanValue(dataArr[len])}dataArr&&dataArr.sort(function(a,b){return a-b});this.values=dataArr;this.mean=sum/this.dataLength;this.getFrequencies()};BoxAndWhiskerStatisticalCalc.prototype.getQuartiles=function getQuartiles(){var values=this.values,len=this.dataLength,isOdd=len%2,q1Pos,q1LowPos,q3Pos,q3LowPos,q1Val,q3Val,method=_lib.BLANKSTRING;switch(method){case"tukey":if(isOdd){q1Pos=(len+3)/4;q3Pos=(len*3+1)/4}else{q1Pos=(len+2)/4;q3Pos=(len*3+2)/4}break;case"mooremccabe":if(isOdd){q1Pos=(len+1)/4;q3Pos=q1Pos*3}else{q1Pos=(len+2)/4;q3Pos=(len*3+2)/4}break;case"freundperles":q1Pos=(len+3)/4;q3Pos=(len*3+1)/4;break;case"mendenhallsincich":q1Pos=Math.round((len+1)/4);q3Pos=Math.round(q1Pos*3);break;default:q1Pos=(len+1)/4;q3Pos=q1Pos*3;break}q1Pos-=1;q3Pos-=1;q1LowPos=Math.floor(q1Pos);q3LowPos=Math.floor(q3Pos);q1Val=q1Pos-q1LowPos?values[q1LowPos]+(values[Math.ceil(q1Pos)]-values[q1LowPos])*(q1Pos-q1LowPos):values[q1Pos];q3Val=q3Pos-q3LowPos?values[q3LowPos]+(values[Math.ceil(q3Pos)]-values[q3LowPos])*(q3Pos-q3LowPos):values[q3Pos];return this.quartiles={q1:q1Val,q3:q3Val}};BoxAndWhiskerStatisticalCalc.prototype.getMinMax=function getMinMax(){var values=this.values;return{min:values[0],max:values[this.dataLength-1]}};BoxAndWhiskerStatisticalCalc.prototype.getMean=function getMean(){return this.mean};BoxAndWhiskerStatisticalCalc.prototype.getMD=function getMD(){var mean=this.mean,freq=this.frequencies,freqLen=freq.length,freqObj,sum=0;while(freqLen--){freqObj=freq[freqLen];sum+=freqObj.frequency*Math.abs(freqObj.value-mean)}return sum/this.dataLength};BoxAndWhiskerStatisticalCalc.prototype.getSD=function getSD(){var mean=this.mean,values=this.values,i=this.dataLength,len=i,sum=0;while(i--){sum+=Math.pow(values[i]-mean,2)}return Math.sqrt(sum/(len-1))};BoxAndWhiskerStatisticalCalc.prototype.getQD=function getQD(){return(this.quartiles.q3-this.quartiles.q1)*.5};BoxAndWhiskerStatisticalCalc.prototype.getFrequencies=function getFrequencies(){var frequenciesArr=[],len=this.dataLength,values=this.values,sum=0,value,freqObj,index;for(index=0;index<len;index+=1){sum+=value=values[index];if((0,_lib.defined)(frequenciesArr[index])){frequenciesArr[index].frequency+=1}else{freqObj={};freqObj.value=value;freqObj.frequency=1;frequenciesArr[index]=freqObj}}this.sum=sum;this.frequencies=frequenciesArr};BoxAndWhiskerStatisticalCalc.prototype.getMedian=function getMedian(){var len=this.dataLength,midVal=len*.5,values=this.values;return len%2===0?(values[midVal]+values[midVal-1])/2:values[Math.floor(midVal)]};return BoxAndWhiskerStatisticalCalc}(_componentInterface2["default"]);exports["default"]=BoxAndWhiskerStatisticalCalc},575:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _mscartesian=__webpack_require__(354);var _mscartesian2=_interopRequireDefault(_mscartesian);var _heatmap=__webpack_require__(576);var _heatmap2=_interopRequireDefault(_heatmap);var _heatmap3=__webpack_require__(578);var _heatmap4=_interopRequireDefault(_heatmap3);var _categoryAxis=__webpack_require__(579);var _categoryAxis2=_interopRequireDefault(_categoryAxis);var _multiseriesDataset=__webpack_require__(356);var _multiseriesDataset2=_interopRequireDefault(_multiseriesDataset);var _colorrange=__webpack_require__(580);var _colorrange2=_interopRequireDefault(_colorrange);var _legendmanager=__webpack_require__(585);var _legendmanager2=_interopRequireDefault(_legendmanager);var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var defaultFontStr=_lib.preDefStr.defaultFontStr,divLineAlpha3DStr=_lib.preDefStr.divLineAlpha3DStr,divLineAlphaStr=_lib.preDefStr.divLineAlphaStr,altVGridColorStr=_lib.preDefStr.altVGridColorStr,altVGridAlphaStr=_lib.preDefStr.altVGridAlphaStr,altHGridColorStr=_lib.preDefStr.altHGridColorStr,altHGridAlphaStr=_lib.preDefStr.altHGridAlphaStr,colorStrings=_lib.preDefStr.colors,COLOR_000000=colorStrings.c000000,UNDEFINED=void 0;var HeatMap=function(_MSCartesian){_inherits(HeatMap,_MSCartesian);HeatMap.getName=function getName(){return"HeatMap"};function HeatMap(){_classCallCheck(this,HeatMap);var _this=_possibleConstructorReturn(this,_MSCartesian.call(this));_this.tooltipsepchar=" = ";_this.hasGradientLegend=true;_this.registerFactory("axis",_categoryAxis2["default"],["canvas"]);_this.registerFactory("legend",_legendmanager2["default"],["canvas"]);_this.registerFactory("colormanager-decider",_colorrange2["default"],["legend"]);_this.registerFactory("dataset",_multiseriesDataset2["default"],["colormanager-decider","vCanvas"]);return _this}HeatMap.prototype.getName=function getName(){return"HeatMap"};HeatMap.prototype.__setDefaultConfig=function __setDefaultConfig(){_MSCartesian.prototype.__setDefaultConfig.call(this);var config=this.config;config.isSingleSeries=true;config.friendlyName="Heatmap Chart";config.hasLegend=true;config.defaultDatasetType="heatmap";config.enablemousetracking=true};HeatMap.prototype._checkInvalidSpecificData=function _checkInvalidSpecificData(){var jsonData=this.getFromEnv("dataSource"),datasetsJSON=jsonData.dataset,colorrange=jsonData.colorrange;if(!datasetsJSON||!colorrange||!colorrange.color&&!Number(colorrange.gradient)){return true}};HeatMap.prototype.parseChartAttr=function parseChartAttr(dataObj){_MSCartesian.prototype.parseChartAttr.call(this,dataObj);this.config.drawTrendRegion=0};HeatMap.prototype.configureAttributes=function configureAttributes(dataObj){var iapi=this,chartConfig=iapi.config,dataSource=iapi.getFromEnv("dataSource"),skipConfigureIteration=iapi.config.skipConfigureIteration={},rows,columns,datasetArray=dataObj.dataset,unifiedDataset=[],toolTipController;rows=dataSource.rows&&dataSource.rows.row.filter(function(item){return item.id!==""&&item.id!==undefined});columns=dataSource.columns&&dataSource.columns.column.filter(function(item){return item.id!==""&&item.id!==undefined});if(!rows||!columns){for(var i=0;i<datasetArray.length;i++){for(var j=0;j<datasetArray[i].data.length;j++){unifiedDataset.push(datasetArray[i].data[j])}}if(!rows){rows=unifiedDataset.map(function(item){return item.rowid}).filter(function(value,index,self){return self.indexOf(value)===index})}if(!columns){columns=unifiedDataset.map(function(item){return item.columnid}).filter(function(value,index,self){return self.indexOf(value)===index})}}iapi.parseChartAttr(dataObj);iapi.addToEnv("chartColorRange",dataObj.colorrange||{});iapi.createComponent(dataObj);iapi._feedAxesRawData();skipConfigureIteration.axis=true;iapi.addToEnv("totalRows",rows.length);iapi.addToEnv("totalColumns",columns.length);iapi._createToolBox();skipConfigureIteration.toolbar=true;iapi.configureChildren();iapi.asyncDraw();toolTipController=iapi.getFromEnv("toolTipController");toolTipController.setStyle({bgColor:(0,_libGraphics.convertColor)(chartConfig.tooltipbgcolor||"FFF",chartConfig.tooltipbgalpha||100),rawBgColor:(chartConfig.tooltipbgcolor||"FFF").replace(/^#?([a-f0-9]+)/gi,"#$1"),fontColor:(chartConfig.tooltipcolor||chartConfig.basefontcolor||"545454").replace(/^#?([a-f0-9]+)/gi,"#$1"),borderColor:(0,_libGraphics.convertColor)(chartConfig.tooltipbordercolor||"666",chartConfig.tooltipborderalpha||100),rawBorderColor:(chartConfig.tooltipbordercolor||"666").replace(/^#?([a-f0-9]+)/gi,"#$1"),bgAlpha:(0,_lib.pluckNumber)(chartConfig.tooltipbgalpha,100),borderThickness:(0,_lib.pluckNumber)(chartConfig.tooltipborderthickness,1),showToolTipShadow:(0,_lib.pluckNumber)(chartConfig.showtooltipshadow||0),borderRadius:(0,_lib.pluckNumber)(chartConfig.tooltipborderradius,0),"font-size":chartConfig.basefontsize||10,"font-family":chartConfig.basefont||iapi.getFromEnv("style").inCanfontFamily,padding:(0,_lib.pluckNumber)(chartConfig.tooltippadding||3),borderAlpha:(0,_lib.pluckNumber)(chartConfig.tooltipborderalpha,100)})};HeatMap.prototype._postSpaceManagement=function _postSpaceManagement(){var iapi=this,config=iapi.config,placeAxisLabelsOnTop=config.placeAxisLabelsOnTop,xAxis=iapi.getChildren("xAxis")[0],yAxis=iapi.getChildren("yAxis")[0],legend=iapi.getFromEnv("legend"),xDepth=config.xDepth,canvas=iapi.getChildren("canvas")[0],canvasConfig=canvas.config,canvasBorderWidth=canvasConfig.canvasBorderWidth;xAxis&&xAxis.setAxisDimention({x:config.canvasLeft,y:placeAxisLabelsOnTop?config.canvasTop+(config.shift||0)-canvasBorderWidth:config.canvasBottom+(config.shift||0)+canvasBorderWidth,opposite:config.canvasTop-canvasBorderWidth,axisLength:config.canvasWidth});yAxis&&yAxis.setAxisDimention({x:config.canvasLeft-canvasBorderWidth,y:config.canvasTop,opposite:config.canvasRight+canvasBorderWidth,axisLength:config.canvasHeight});xAxis&&xAxis.shiftLabels(-xDepth,0);legend&&legend.postSpaceManager();iapi.setAxisDimention()};HeatMap.prototype._feedAxesRawData=function _feedAxesRawData(){var iapi=this,colorM=iapi.getFromEnv("color-manager"),dataObj=iapi.getFromEnv("dataSource"),chartAttrs=dataObj.chart,xAxisConf,yAxisConf,is3D=iapi.config.is3D,palleteString=is3D?_lib.chartPaletteStr.chart3D:_lib.chartPaletteStr.chart2D;xAxisConf={mapTickValuesById:true,isVertical:false,isReverse:false,isOpposit:!!iapi.config.placeAxisLabelsOnTop,outCanfontFamily:(0,_lib.pluck)(chartAttrs.outcnvbasefont,chartAttrs.basefont,defaultFontStr),outCanfontSize:(0,_lib.pluckFontSize)(chartAttrs.outcnvbasefontsize,chartAttrs.basefontsize,10),outCancolor:(0,_lib.pluck)(chartAttrs.outcnvbasefontcolor,chartAttrs.basefontcolor,colorM.getColor(palleteString.baseFontColor)).replace(/^#?([a-f0-9]+)/gi,"#$1"),axisNamePadding:chartAttrs.xaxisnamepadding,axisValuePadding:chartAttrs.labelpadding,axisNameFont:chartAttrs.xaxisnamefont,axisNameFontSize:chartAttrs.xaxisnamefontsize,axisNameFontColor:chartAttrs.xaxisnamefontcolor,axisNameFontBold:chartAttrs.xaxisnamefontbold,axisNameFontItalic:chartAttrs.xaxisnamefontitalic,axisNameBgColor:chartAttrs.xaxisnamebgcolor,axisNameBorderColor:chartAttrs.xaxisnamebordercolor,axisNameAlpha:chartAttrs.xaxisnamealpha,axisNameFontAlpha:chartAttrs.xaxisnamefontalpha,axisNameBgAlpha:chartAttrs.xaxisnamebgalpha,axisNameBorderAlpha:chartAttrs.xaxisnameborderalpha,axisNameBorderPadding:chartAttrs.xaxisnameborderpadding,axisNameBorderRadius:chartAttrs.xaxisnameborderradius,axisNameBorderThickness:chartAttrs.xaxisnameborderthickness,axisNameBorderDashed:chartAttrs.xaxisnameborderdashed,axisNameBorderDashLen:chartAttrs.xaxisnameborderdashlen,axisNameBorderDashGap:chartAttrs.xaxisnameborderdashgap,useEllipsesWhenOverflow:chartAttrs.useellipseswhenoverflow,divLineColor:(0,_lib.pluck)(chartAttrs.vdivlinecolor,chartAttrs.divlinecolor,colorM.getColor(palleteString.divLineColor)),divLineAlpha:(0,_lib.pluck)(chartAttrs.vdivlinealpha,chartAttrs.divlinealpha,is3D?colorM.getColor(divLineAlpha3DStr):colorM.getColor(divLineAlphaStr)),divLineThickness:(0,_lib.pluckNumber)(chartAttrs.vdivlinethickness,chartAttrs.divlinethickness,1),divLineIsDashed:Boolean((0,_lib.pluckNumber)(chartAttrs.vdivlinedashed,chartAttrs.vdivlineisdashed,chartAttrs.divlinedashed,chartAttrs.divlineisdashed,0)),divLineDashLen:(0,_lib.pluckNumber)(chartAttrs.vdivlinedashlen,chartAttrs.divlinedashlen,4),divLineDashGap:(0,_lib.pluckNumber)(chartAttrs.vdivlinedashgap,chartAttrs.divlinedashgap,2),showAlternateGridColor:(0,_lib.pluckNumber)(chartAttrs.showalternatevgridcolor,0),alternateGridColor:(0,_lib.pluck)(chartAttrs.alternatevgridcolor,colorM.getColor(altVGridColorStr)),alternateGridAlpha:(0,_lib.pluck)(chartAttrs.alternatevgridalpha,colorM.getColor(altVGridAlphaStr)),numDivLines:chartAttrs.numvdivlines,labelFont:chartAttrs.labelfont,labelFontSize:chartAttrs.labelfontsize,labelFontColor:chartAttrs.labelfontcolor,labelFontAlpha:chartAttrs.labelalpha,labelFontBold:chartAttrs.labelfontbold,labelFontItalic:chartAttrs.labelfontitalic,axisName:chartAttrs.xaxisname,axisMinValue:chartAttrs.xaxisminvalue,axisMaxValue:chartAttrs.xaxismaxvalue,setAdaptiveMin:chartAttrs.setadaptivexmin,adjustDiv:chartAttrs.adjustvdiv,labelDisplay:chartAttrs.labeldisplay,showLabels:(0,_lib.pluckNumber)(chartAttrs.showxaxislabels,chartAttrs.showlabels),rotateLabels:chartAttrs.rotatexaxislabels,slantLabel:(0,_lib.pluckNumber)(chartAttrs.slantlabels,chartAttrs.slantlabel),labelStep:(0,_lib.pluckNumber)(chartAttrs.labelstep,chartAttrs.xaxisvaluesstep),showAxisValues:(0,_lib.pluckNumber)(chartAttrs.showxaxisvalues,chartAttrs.showxaxisvalue),maxLabelHeight:chartAttrs.maxlabelheight,showZeroPlane:chartAttrs.showvzeroplane,zeroPlaneColor:chartAttrs.vzeroplanecolor,zeroPlaneThickness:chartAttrs.vzeroplanethickness,zeroPlaneAlpha:chartAttrs.vzeroplanealpha,showZeroPlaneValue:chartAttrs.showvzeroplanevalue,trendlineColor:chartAttrs.trendlinecolor,trendlineToolText:chartAttrs.trendlinetooltext,trendlineThickness:chartAttrs.trendlinethickness,trendlineAlpha:chartAttrs.trendlinealpha,showTrendlinesOnTop:chartAttrs.showtrendlinesontop,showAxisLine:(0,_lib.pluckNumber)(chartAttrs.showxaxisline,chartAttrs.showaxislines,chartAttrs.drawAxisLines,0),axisLineThickness:(0,_lib.pluckNumber)(chartAttrs.xaxislinethickness,chartAttrs.axislinethickness,1),axisLineAlpha:(0,_lib.pluckNumber)(chartAttrs.xaxislinealpha,chartAttrs.axislinealpha,100),axisLineColor:(0,_lib.pluck)(chartAttrs.xaxislinecolor,chartAttrs.axislinecolor,COLOR_000000)};yAxisConf={mapTickValuesById:true,isVertical:true,isReverse:false,isOpposit:false,outCanfontFamily:(0,_lib.pluck)(chartAttrs.outcnvbasefont,chartAttrs.basefont,defaultFontStr),outCanfontSize:(0,_lib.pluckFontSize)(chartAttrs.outcnvbasefontsize,chartAttrs.basefontsize,10),outCancolor:(0,_lib.pluck)(chartAttrs.outcnvbasefontcolor,chartAttrs.basefontcolor,colorM.getColor(palleteString.baseFontColor)).replace(/^#?([a-f0-9]+)/gi,"#$1"),axisNamePadding:chartAttrs.yaxisnamepadding,axisValuePadding:chartAttrs.yaxisvaluespadding,axisNameFont:chartAttrs.yaxisnamefont,axisNameFontSize:chartAttrs.yaxisnamefontsize,axisNameFontColor:chartAttrs.yaxisnamefontcolor,axisNameFontBold:chartAttrs.yaxisnamefontbold,axisNameFontItalic:chartAttrs.yaxisnamefontitalic,axisNameBgColor:chartAttrs.yaxisnamebgcolor,axisNameBorderColor:chartAttrs.yaxisnamebordercolor,axisNameAlpha:chartAttrs.yaxisnamealpha,axisNameFontAlpha:chartAttrs.yaxisnamefontalpha,axisNameBgAlpha:chartAttrs.yaxisnamebgalpha,axisNameBorderAlpha:chartAttrs.yaxisnameborderalpha,axisNameBorderPadding:chartAttrs.yaxisnameborderpadding,axisNameBorderRadius:chartAttrs.yaxisnameborderradius,axisNameBorderThickness:chartAttrs.yaxisnameborderthickness,axisNameBorderDashed:chartAttrs.yaxisnameborderdashed,axisNameBorderDashLen:chartAttrs.yaxisnameborderdashlen,axisNameBorderDashGap:chartAttrs.yaxisnameborderdashgap,axisNameWidth:chartAttrs.yaxisnamewidth,useEllipsesWhenOverflow:chartAttrs.useellipseswhenoverflow,rotateAxisName:(0,_lib.pluckNumber)(chartAttrs.rotateyaxisname,1),axisName:chartAttrs.yaxisname,showAlternateGridColor:(0,_lib.pluckNumber)(chartAttrs.showalternatehgridcolor,1),alternateGridColor:(0,_lib.pluck)(chartAttrs.alternatehgridcolor,colorM.getColor(altHGridColorStr)),alternateGridAlpha:(0,_lib.pluck)(chartAttrs.alternatehgridalpha,colorM.getColor(altHGridAlphaStr)),numDivLines:chartAttrs.numdivlines,axisMinValue:chartAttrs.yaxisminvalue,axisMaxValue:chartAttrs.yaxismaxvalue,setAdaptiveMin:chartAttrs.setadaptiveymin,adjustDiv:chartAttrs.adjustdiv,labelStep:chartAttrs.yaxisvaluesstep,showLabels:(0,_lib.pluckNumber)(chartAttrs.showyaxislabels,chartAttrs.showlabels),maxLabelWidthPercent:chartAttrs.maxlabelwidthpercent,showAxisValues:(0,_lib.pluckNumber)(chartAttrs.showyaxisvalues,chartAttrs.showyaxisvalue),divLineColor:(0,_lib.pluck)(chartAttrs.hdivlinecolor,colorM.getColor(palleteString.divLineColor)),divLineAlpha:(0,_lib.pluck)(chartAttrs.hdivlinealpha,colorM.getColor(divLineAlphaStr)),divLineThickness:(0,_lib.pluckNumber)(chartAttrs.hdivlinethickness,1),divLineIsDashed:Boolean((0,_lib.pluckNumber)(chartAttrs.hdivlinedashed,chartAttrs.hdivlineisdashed,0)),divLineDashLen:(0,_lib.pluckNumber)(chartAttrs.hdivlinedashlen,4),divLineDashGap:(0,_lib.pluckNumber)(chartAttrs.hdivlinedashgap,2),showZeroPlane:chartAttrs.showzeroplane,zeroPlaneColor:chartAttrs.zeroplanecolor,zeroPlaneThickness:chartAttrs.zeroplanethickness,zeroPlaneAlpha:chartAttrs.zeroplanealpha,showZeroPlaneValue:chartAttrs.showzeroplanevalue,trendlineColor:chartAttrs.trendlinecolor,trendlineToolText:chartAttrs.trendlinetooltext,trendlineThickness:chartAttrs.trendlinethickness,trendlineAlpha:chartAttrs.trendlinealpha,showTrendlinesOnTop:chartAttrs.showtrendlinesontop,showAxisLine:(0,_lib.pluckNumber)(chartAttrs.showyaxisline,chartAttrs.showaxislines,chartAttrs.drawAxisLines,0),axisLineThickness:(0,_lib.pluckNumber)(chartAttrs.yaxislinethickness,chartAttrs.axislinethickness,1),axisLineAlpha:(0,_lib.pluckNumber)(chartAttrs.yaxislinealpha,chartAttrs.axislinealpha,100),axisLineColor:(0,_lib.pluck)(chartAttrs.yaxislinecolor,chartAttrs.axislinecolor,COLOR_000000)};xAxisConf.vtrendlines=dataObj.vtrendlines;yAxisConf.trendlines=dataObj.trendlines;return{yAxisConf:[yAxisConf],xAxisConf:[xAxisConf]}};HeatMap.prototype._setCategories=function _setCategories(){var iapi=this,dataObj=iapi.getFromEnv("dataSource"),xAxis=iapi.getChildren("xAxis"),yAxis=iapi.getChildren("yAxis"),len,i,k,columnObj,rowObj,columns,rows,columnArr=[],rowArr=[],columnFlag,rowFlag,j;if(!dataObj.columns||!dataObj.rows){dataObj.columns={};dataObj.columns.column=columns=[];dataObj.rows={};dataObj.rows.row=rows=[];for(k=0;k<(dataObj.dataset&&dataObj.dataset.length);k++){len=dataObj.dataset&&dataObj.dataset[k].data&&dataObj.dataset[k].data.length;for(i=0;i<len;i++){columnFlag=true;rowFlag=true;for(j=0;j<columns.length;j++){if(dataObj.dataset[k].data[i].columnid==columns[j].id){columnFlag=false}}if(columnFlag){columnObj={id:dataObj.dataset[k].data[i].columnid,label:dataObj.dataset[k].data[i].columnid};dataObj.columns.column.push(columnObj)}for(j=0;j<rows.length;j++){if(dataObj.dataset[k].data[i].rowid==rows[j].id){rowFlag=false}}if(rowFlag){rowObj={id:dataObj.dataset[k].data[i].rowid,label:dataObj.dataset[k].data[i].rowid};dataObj.rows.row.push(rowObj)}}}}columns=dataObj.columns.column;rows=dataObj.rows.row;for(i=0;i<(columns&&columns.length);i++){columns[i].label=(0,_lib.pluck)(columns[i].label,columns[i].name,columns[i].id);columns[i].label!==UNDEFINED&&columnArr.push(columns[i])}dataObj.columns.column=columnArr;for(i=0;i<(rows&&rows.length);i++){rows[i].label=(0,_lib.pluck)(rows[i].label,rows[i].name,rows[i].id);rows[i].label!==UNDEFINED&&rowArr.push(rows[i])}dataObj.rows.row=rowArr;dataObj.columns&&xAxis[0].setTickValues(dataObj.columns.column);dataObj.rows&&yAxis[0].setTickValues(dataObj.rows.row);xAxis[0].setAxisConfig({categoryNumDivLines:iapi.getFromEnv("totalColumns")-1,categoryDivLinesFromZero:0,showAlternateGridColor:0});yAxis[0].setAxisConfig({categoryNumDivLines:iapi.getFromEnv("totalRows")-1,categoryDivLinesFromZero:0,showAlternateGridColor:0})};HeatMap.prototype.getDSdef=function getDSdef(){return _heatmap2["default"]};HeatMap.prototype.getDSGroupdef=function getDSGroupdef(){return _heatmap4["default"]};return HeatMap}(_mscartesian2["default"]);exports["default"]=HeatMap},576:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _dependencyManager=__webpack_require__(125);var _heatmapAnimation=__webpack_require__(577);var _heatmapAnimation2=_interopRequireDefault(_heatmapAnimation);var _schedular=__webpack_require__(129);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var HUNDREDSTRING="100",PLOTGRADIENTCOLOR="plotGradientColor",PLOTBORDERCOLOR="plotBorderColor",COLOR_FFFFFF="FFFFFF",SHOWSHADOW="showShadow",UNDEF=void 0,MOUSEOVER="mouseOver",MOUSEOUT="mouseOut",NORMAL="normal",PXSTRING="px",pStr=_lib.preDefStr.pStr,sStr=_lib.preDefStr.sStr,COMMA=",",BOLDSTARTTAG="<b>",BOLDENDTAG="</b>",BREAKSTRING="<br />",visibleStr="visible",miterStr=_lib.preDefStr.miterStr,hiddenStr=_lib.preDefStr.hiddenStr,showHoverEffectStr=_lib.preDefStr.showHoverEffectStr,POSITION_START=_lib.preDefStr.POSITION_START,POSITION_TOP=_lib.preDefStr.POSITION_TOP,POSITION_END=_lib.preDefStr.POSITION_END,POSITION_BOTTOM=_lib.preDefStr.POSITION_BOTTOM,SETROLLOVERATTR="setRolloverAttr",SETROLLOUTATTR="setRolloutAttr",EVENTARGS="eventArgs",POINTER="pointer",tlLabelStr="tlLabel",blLabelStr="blLabel",trLabelStr="trLabel",brLabelStr="brLabel",ROLLOVER="DataPlotRollOver",ROLLOUT="DataPlotRollOut",DEFAULT_CURSOR=_lib.preDefStr.DEFAULT,defined=function defined(obj){return obj!==UNDEF&&obj!==null},createGroup=function createGroup(attr,parentContainer,dataset){var animationManager=dataset.getFromEnv("animationManager");return animationManager.setAnimation({el:"group",attr:attr,container:parentContainer,component:dataset,label:"group"})},TRACKER_FILL="rgba(192,192,192,"+(_lib.isIE?.002:1e-6)+")",HTP=_lib.hasTouch?_lib.TOUCH_THRESHOLD_PIXELS:_lib.CLICK_THRESHOLD_PIXELS,pInt=function pInt(s,mag){return parseInt(s,mag||10)},NONE="none",_rolloverResponseSetter=function _rolloverResponseSetter(chart,data,event,onlyHoverEffect,dataset){var dataGraphics=data.graphics,animationManager=chart.getFromEnv("animationManager"),elem=dataGraphics&&dataGraphics.element,elData=elem&&elem.getData();if(elData.draged!==true){animationManager.setAnimationState(MOUSEOVER);elem&&elData.showHoverEffect!==0&&animationManager.setAnimation({el:elem,attr:elem.getData().setRolloverAttr,component:dataset});!onlyHoverEffect&&elem&&chart.plotEventHandler(elem,event,ROLLOVER)}},_rolloutResponseSetter=function _rolloutResponseSetter(chart,data,event,onlyHoverEffect,dataset){var dataGraphics=data.graphics,animationManager=chart.getFromEnv("animationManager"),elem=dataGraphics&&dataGraphics.element,elData=elem&&elem.getData();if(elData.draged!==true){animationManager.setAnimationState(MOUSEOUT);elem&&elData.showHoverEffect!==0&&animationManager.setAnimation({el:elem,attr:elem.getData().setRolloutAttr,component:dataset});!onlyHoverEffect&&elem&&chart.plotEventHandler(elem,event,ROLLOUT)}},mathMax=Math.max,mathMin=Math.min,mathAbs=Math.abs;(0,_dependencyManager.addDep)({name:"heatmapAnimation",type:"animationRule",extension:_heatmapAnimation2["default"]});var HeatMapDataset=function(_ComponentInterface){_inherits(HeatMapDataset,_ComponentInterface);function HeatMapDataset(){_classCallCheck(this,HeatMapDataset);var _this=_possibleConstructorReturn(this,_ComponentInterface.call(this));_this.components={};_this.graphics={};_this.dataSetArray=[];return _this}HeatMapDataset.prototype.getType=function getType(){return"dataset"};HeatMapDataset.prototype.getName=function getName(){return"heatMap"};HeatMapDataset.prototype.configureAttributes=function configureAttributes(datasetJSON){if(!datasetJSON){return false}this.trimData(datasetJSON);this.config.JSONData=datasetJSON;var dataSet=this,chart=dataSet.getFromEnv("chart"),chartConfig=dataSet.getFromEnv("chartConfig"),style=chartConfig.style,conf=dataSet.config,JSONData=conf.JSONData,setDataArr=JSONData.data,len=setDataArr&&setDataArr.length,chartAttr=dataSet.getFromEnv("chart-attrib"),colorM=dataSet.getFromEnv("color-manager"),index=dataSet.index||dataSet.positionIndex,showplotborder,plotColor=conf.plotColor=colorM.getPlotColor(index),plotBorderDash=(0,_lib.pluckNumber)(JSONData.dashed,chartAttr.plotborderdashed),plotDashLen,plotDashGap,isRoundEdges,plotFillAlpha,setData,setValue,dataObj,config,dataStore=dataSet.components.data,plotGrid=dataSet.components.plotGrid=[],numberFormatter=dataSet.getFromEnv("number-formatter"),isBar=chart.isBar,is3D=chart.config.is3D,enableAnimation,i,r,c,maxValue=-Infinity,minValue=+Infinity,font,fontSize,fontColor,fontWeight,fontStyle,totalRows=dataSet.getFromEnv("totalRows"),totalColumns=dataSet.getFromEnv("totalColumns");for(r=0;r<totalRows;r++){plotGrid.push([]);for(c=0;c<totalColumns;c++){plotGrid[r].push([])}}dataSet.setState("visible",(0,_lib.pluckNumber)(dataSet.getState("visible"),dataSet.config.JSONData.visible,!Number(dataSet.config.JSONData.initiallyhidden),1)===1);showplotborder=conf.showplotborder=(0,_lib.pluckNumber)(chartAttr.showplotborder,is3D?0:1);conf.plotDashLen=plotDashLen=(0,_lib.pluckNumber)(chartAttr.plotborderdashlen,5);conf.plotDashGap=plotDashGap=(0,_lib.pluckNumber)(chartAttr.plotborderdashgap,4);conf.plotfillAngle=(0,_lib.pluckNumber)(360-chartAttr.plotfillangle,isBar?180:90);conf.plotFillAlpha=plotFillAlpha=(0,_lib.pluck)(JSONData.alpha,chartAttr.plotfillalpha,HUNDREDSTRING);conf.plotColor=plotColor=(0,_lib.pluck)(JSONData.color,plotColor);conf.isRoundEdges=isRoundEdges=(0,_lib.pluckNumber)(chartAttr.useroundedges,0);conf.plotRadius=(0,_lib.pluckNumber)(chartAttr.useRoundEdges,conf.isRoundEdges?1:0);conf.plotFillRatio=(0,_lib.pluck)(JSONData.ratio,chartAttr.plotfillratio);conf.plotgradientcolor=(0,_lib.getDefinedColor)(chartAttr.plotgradientcolor,colorM.getColor(PLOTGRADIENTCOLOR));conf.plotBorderAlpha=showplotborder?(0,_lib.pluck)(chartAttr.plotborderalpha,plotFillAlpha,HUNDREDSTRING):0;conf.plotBorderColor=(0,_lib.pluck)(chartAttr.plotbordercolor,is3D?COLOR_FFFFFF:colorM.getColor(PLOTBORDERCOLOR));conf.plotBorderThickness=(0,_lib.pluckNumber)(chartAttr.plotborderthickness,1);conf.plotBorderDashStyle=plotBorderDash?(0,_lib.getDashStyle)(plotDashLen,plotDashGap):NONE;conf.showValues=(0,_lib.pluckNumber)(JSONData.showvalues,chartAttr.showvalues,1);conf.valuePadding=(0,_lib.pluckNumber)(chartAttr.valuepadding,2);conf.enableAnimation=enableAnimation=(0,_lib.pluckNumber)(chartAttr.animation,chartAttr.defaultanimation,1);conf.animation=!enableAnimation?false:{duration:(0,_lib.pluckNumber)(chartAttr.animationduration,1)*1e3};conf.transposeAnimation=(0,_lib.pluckNumber)(chartAttr.transposeanimation,enableAnimation);conf.transposeAnimDuration=(0,_lib.pluckNumber)(chartAttr.transposeanimduration,.2)*1e3;conf.showShadow=isRoundEdges||is3D?(0,_lib.pluckNumber)(chartAttr.showshadow,1):(0,_lib.pluckNumber)(chartAttr.showshadow,colorM.getColor(SHOWSHADOW));conf.showHoverEffect=(0,_lib.pluckNumber)(chartAttr.plothovereffect,chartAttr.showhovereffect,UNDEF);conf.showTooltip=(0,_lib.pluckNumber)(chartAttr.showtooltip,1);conf.definedGroupPadding=Math.max((0,_lib.pluckNumber)(chartAttr.plotspacepercent),0);conf.plotSpacePercent=Math.max((0,_lib.pluckNumber)(chartAttr.plotspacepercent,20)%100,0);conf.maxColWidth=(0,_lib.pluckNumber)(isBar?chartAttr.maxbarheight:chartAttr.maxcolwidth,50);conf.plotPaddingPercent=(0,_lib.pluckNumber)(chartAttr.plotpaddingpercent);conf.rotateValues=(0,_lib.pluckNumber)(chartAttr.rotatevalues)?270:0;conf.placeValuesInside=(0,_lib.pluckNumber)(chartAttr.placevaluesinside,0);conf.defaultPadding={left:.5,right:.5,top:.5,bottom:.5};font=style.inCanfontFamily;fontSize=pInt(style.inCanfontSize,10);fontColor=style.inCancolor;fontWeight=NORMAL;fontStyle=NORMAL;conf.tlLabelStyle={fontFamily:(0,_lib.pluck)(chartAttr.tlfont,font),fontSize:(0,_lib.pluckNumber)(chartAttr.tlfontsize,fontSize)+PXSTRING,color:(0,_libGraphics.convertColor)((0,_lib.pluck)(chartAttr.tlfontcolor,fontColor),100),fontWeight:fontWeight,fontStyle:fontStyle};(0,_lib.setLineHeight)(conf.tlLabelStyle);conf.trLabelStyle={fontFamily:(0,_lib.pluck)(chartAttr.trfont,font),fontSize:(0,_lib.pluckNumber)(chartAttr.trfontsize,fontSize)+PXSTRING,color:(0,_libGraphics.convertColor)((0,_lib.pluck)(chartAttr.trfontcolor,fontColor),100),fontWeight:fontWeight,fontStyle:fontStyle};conf.brLabelStyle={fontFamily:(0,_lib.pluck)(chartAttr.brfont,font),fontSize:(0,_lib.pluckNumber)(chartAttr.brfontsize,fontSize)+PXSTRING,color:(0,_libGraphics.convertColor)((0,_lib.pluck)(chartAttr.brfontcolor,fontColor),100),fontWeight:fontWeight,fontStyle:fontStyle};conf.blLabelStyle={fontFamily:(0,_lib.pluck)(chartAttr.blfont,font),fontSize:(0,_lib.pluckNumber)(chartAttr.blfontsize,fontSize)+PXSTRING,color:(0,_libGraphics.convertColor)((0,_lib.pluck)(chartAttr.blfontcolor,fontColor),100),fontWeight:fontWeight,fontStyle:fontStyle};conf.use3DLighting=(0,_lib.pluckNumber)(chartAttr.use3dlighting,1);conf.parentYAxis=(0,_lib.pluck)(JSONData.parentyaxis&&JSONData.parentyaxis.toLowerCase(),pStr)===sStr?1:0;if(!dataStore){dataStore=dataSet.components.data=[]}for(i=0;i<len;i++){setData=setDataArr&&setDataArr[i];dataObj=dataStore[i];config=dataObj&&dataObj.config;if(!dataObj){dataObj=dataStore[i]={graphics:{}}}if(!dataObj.config){config=dataStore[i].config={}}config.setValue=setValue=numberFormatter.getCleanValue(setData.value);maxValue=Math.max(maxValue,setValue);minValue=Math.min(minValue,setValue)}conf.maxValue=maxValue;conf.minValue=minValue;dataSet._setConfigure();dataSet.setState("dirty",true)};HeatMapDataset.prototype._setConfigure=function _setConfigure(){var dataSet=this,chart=dataSet.getFromEnv("chart"),conf=dataSet.config,JSONData=dataSet.config.JSONData,setDataArr=JSONData.data,len=setDataArr&&setDataArr.length,chartAttr=dataSet.getFromEnv("chart-attrib"),colorM=dataSet.getFromEnv("color-manager"),index=dataSet.index||dataSet.positionIndex,showplotborder=conf.showplotborder,plotColor=conf.plotColor=colorM.getPlotColor(index),showTooltip=(0,_lib.pluckNumber)(chartAttr.showtooltip,1),yAxisName=(0,_lib.parseUnsafeString)(chartAttr.yaxisname),xAxisName=(0,_lib.parseUnsafeString)(chartAttr.xaxisname),tooltipSepChar=(0,_lib.parseUnsafeString)((0,_lib.pluck)(chartAttr.tooltipsepchar,": ")),usePlotGradientColor=(0,_lib.pluckNumber)(chartAttr.useplotgradientcolor,1),formatedVal,parserConfig,setTooltext,macroIndices,toolText,plotDashLen=conf.plotDashLen,plotDashGap=conf.plotDashGap,plotBorderThickness=conf.plotBorderThickness,isRoundEdges=conf.isRoundEdges,showHoverEffect=conf.showHoverEffect,plotfillAngle=conf.plotfillAngle,plotFillAlpha=conf.plotFillAlpha,plotFillRatio=conf.plotFillRatio,plotBorderAlpha=conf.plotBorderAlpha,plotBorderColor=conf.plotBorderColor,plotBorderDashStyle,setData,setValue,dataObj,config,colorRange=dataSet.getFromEnv("chartColorRange"),xAxis=dataSet.getFromEnv("xAxis"),yAxis=dataSet.getFromEnv("yAxis"),column,row,mapByPercent=conf.mapByPercent=(0,_lib.pluckNumber)(colorRange.mapbypercent,0),mapByCategory=conf.mapByCategory=(0,_lib.pluckNumber)(chartAttr.mapbycategory,0),useColorGradient=colorRange&&(0,_lib.pluckNumber)(colorRange.gradient),hoverColor,hoverAlpha,hoverGradientColor,hoverRatio,hoverAngle,hoverBorderColor,hoverBorderAlpha,hoverBorderThickness,hoverBorderDashed,hoverBorderDashGap,hoverBorderDashLen,hoverDashStyle,hoverColorArr,dataStore=dataSet.components.data,numberFormatter=dataSet.getFromEnv("number-formatter"),setDisplayValue,isBar=chart.isBar,is3D=chart.config.is3D,parentYAxis=conf.parentYAxis,i,maxValue=conf.maxValue,minValue=conf.minValue,heatRange,colorObj,tlType=(0,_lib.getValidValue)(chartAttr.tltype,_lib.BLANK),trType=(0,_lib.getValidValue)(chartAttr.trtype,_lib.BLANK),blType=(0,_lib.getValidValue)(chartAttr.bltype,_lib.BLANK),brType=(0,_lib.getValidValue)(chartAttr.brtype,_lib.BLANK),tlLabel,trLabel,blLabel,brLabel,tlTypeToolText=_lib.BLANK,trTypeToolText=_lib.BLANK,blTypeToolText=_lib.BLANK,brTypeToolText=_lib.BLANK,percentValue,toolTextValue,value,minMaxArray,minMaxArrayLen,toolTipValue,setDataDashed,setDataPlotDashLen,setDataPlotDashGap,colorManager=chart.getFromEnv("colorManager");heatRange=maxValue-minValue;if(!conf.eventAttached){dataSet.addExtEventListener("legendUpdate",function(e,d){if(d.component==="legend"){if(d.legendItem.hasState("hidden")){dataSet.show(d.legendItem,e)}else{dataSet.hide(d.legendItem,e)}}else{minMaxArray=d.maxMinArray;minMaxArrayLen=minMaxArray.length;for(i=0;i<minMaxArrayLen;i++){dataSet.updatePlot(minMaxArray[i].min,minMaxArray[i].max)}}},colorManager);conf.eventAttached=true}if(!useColorGradient||mapByCategory){conf.colorMap=[];if(colorRange.color){for(i=0;i<colorRange.color.length;i++){conf.colorMap[i]={config:colorRange.color[i],dataSet:dataSet};conf.colorMap[i].config.visible=true}}}for(i=0;i<len;i++){setData=setDataArr&&setDataArr[i];dataObj=dataStore[i];config=dataObj&&dataObj.config;setValue=config.setValue;config.showValue=(0,_lib.pluckNumber)(setData.showvalue,conf.showValues);config.setLink=(0,_lib.pluck)(setData.link);config.toolTipValue=toolTipValue=numberFormatter.dataLabels(setValue,parentYAxis);config.setDisplayValue=setDisplayValue=(0,_lib.parseUnsafeString)(setData.displayvalue);config.displayValue=(0,_lib.pluck)(setDisplayValue,toolTipValue);setDataDashed=(0,_lib.pluckNumber)(setData.dashed);setDataPlotDashLen=(0,_lib.pluckNumber)(setData.dashlen,plotDashLen);setDataPlotDashGap=plotDashGap=(0,_lib.pluckNumber)(setData.dashgap,plotDashGap);config.plotBorderDashStyle=setDataDashed===1?(0,_lib.getDashStyle)(setDataPlotDashLen,setDataPlotDashGap):setDataDashed===0?NONE:conf.plotBorderDashStyle;if(mapByPercent){config.percentValue=percentValue=setData.value&&Math.round((setData.value-minValue)/heatRange*1e4)/100}else{config.percentValue=UNDEF}config.value=value=mapByCategory?setData.colorrangelabel||setData.categoryid:mapByPercent?percentValue:config.setValue;colorObj=colorManager.getColor(value);dataObj.legendItemIndex=colorObj.seriesIndex;config.legendItemId=colorObj.legendItemId;colorObj&&!colorObj.code&&(colorObj.code="ffffff");config.plotFillAlpha=plotFillAlpha=(0,_lib.pluckNumber)(setData.alpha,colorObj&&colorObj.oriAlpha,conf.plotFillAlpha);plotColor=(0,_lib.pluck)(setData.color,colorObj&&colorObj.code);if(setValue<0&&!isRoundEdges){plotfillAngle=isBar?180-plotfillAngle:360-plotfillAngle}config.colorArr=(0,_libGraphics.getColumnColor)(plotColor+COMMA+conf.plotgradientcolor,plotFillAlpha.toString(),plotFillRatio,plotfillAngle,isRoundEdges,plotBorderColor,plotBorderAlpha.toString(),isBar?1:0,!!is3D);if(colorObj&&colorObj.outOfRange){config.visible=false;config.displayValue=_lib.BLANKSTRING;continue}config.visible=true;config.color=(0,_libGraphics.convertColor)(plotColor,config.plotFillAlpha);if(showHoverEffect!==0){hoverColor=(0,_lib.pluck)(setData.hovercolor,JSONData.hovercolor,chartAttr.plotfillhovercolor,chartAttr.columnhovercolor,plotColor);hoverAlpha=(0,_lib.pluck)(setData.hoveralpha,JSONData.hoveralpha,chartAttr.plotfillhoveralpha,chartAttr.columnhoveralpha,"25");hoverGradientColor=(0,_lib.pluck)(setData.hovergradientcolor,JSONData.hovergradientcolor,chartAttr.plothovergradientcolor,!usePlotGradientColor&&_lib.BLANKSTRING);!hoverGradientColor&&(hoverGradientColor=_lib.BLANKSTRING);hoverRatio=(0,_lib.pluck)(setData.hoverratio,JSONData.hoverratio,chartAttr.plothoverratio,plotFillRatio);hoverAngle=(0,_lib.pluckNumber)(360-setData.hoverangle,360-JSONData.hoverangle,360-chartAttr.plothoverangle,plotfillAngle);hoverBorderColor=(0,_lib.pluck)(setData.borderhovercolor,JSONData.borderhovercolor,chartAttr.plotborderhovercolor,plotBorderColor);hoverBorderAlpha=(0,_lib.pluck)(setData.borderhoveralpha,JSONData.borderhoveralpha,chartAttr.plotborderhoveralpha,plotBorderAlpha,plotFillAlpha);hoverBorderThickness=(0,_lib.pluckNumber)(setData.borderhoverthickness,JSONData.borderhoverthickness,chartAttr.plotborderhoverthickness,plotBorderThickness);hoverBorderDashed=(0,_lib.pluckNumber)(setData.borderhoverdashed,JSONData.borderhoverdashed,chartAttr.plotborderhoverdashed);hoverBorderDashGap=(0,_lib.pluckNumber)(setData.borderhoverdashgap,JSONData.borderhoverdashgap,chartAttr.plotborderhoverdashgap,plotDashLen);hoverBorderDashLen=(0,_lib.pluckNumber)(setData.borderhoverdashlen,JSONData.borderhoverdashlen,chartAttr.plotborderhoverdashlen,plotDashGap);hoverDashStyle=hoverBorderDashed?(0,_lib.getDashStyle)(hoverBorderDashLen,hoverBorderDashGap):conf.plotBorderDashStyle;if(showHoverEffect==1&&hoverColor===plotColor){hoverColor=(0,_libGraphics.getLightColor)(hoverColor,70)}hoverColorArr=(0,_libGraphics.getColumnColor)(hoverColor,hoverAlpha,hoverRatio,hoverAngle,isRoundEdges,hoverBorderColor,hoverBorderAlpha.toString(),isBar?1:0,!!is3D);config.setRolloutAttr={fill:(0,_lib.toRaphaelColor)(config.color),stroke:showplotborder&&(0,_lib.toRaphaelColor)(config.colorArr[1])||TRACKER_FILL,"stroke-width":plotBorderThickness,"stroke-dasharray":plotBorderDashStyle||[]};config.setRolloverAttr={fill:(0,_lib.toRaphaelColor)(hoverColorArr[0]),stroke:showplotborder&&(0,_lib.toRaphaelColor)(hoverColorArr[1])||TRACKER_FILL,"stroke-width":hoverBorderThickness,"stroke-dasharray":hoverDashStyle}}mapByPercent&&(percentValue=numberFormatter.percentValue(percentValue));config.setValue=setValue=numberFormatter.getCleanValue(setData.value);config.toolTipValue=numberFormatter.dataLabels(setValue,parentYAxis);formatedVal=config.toolTipValue;setTooltext=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(setData.tooltext,JSONData.plottooltext,chartAttr.plottooltext)));config.tlLabel=tlLabel=(0,_lib.parseUnsafeString)((0,_lib.pluck)(setData.tllabel,setData.ltlabel));config.trLabel=trLabel=(0,_lib.parseUnsafeString)((0,_lib.pluck)(setData.trlabel,setData.rtlabel));config.blLabel=blLabel=(0,_lib.parseUnsafeString)((0,_lib.pluck)(setData.bllabel,setData.lblabel));config.brLabel=brLabel=(0,_lib.parseUnsafeString)((0,_lib.pluck)(setData.brlabel,setData.rblabel));setDisplayValue=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)(setData.displayvalue));toolTextValue=mapByCategory?setDisplayValue:(0,_lib.pluck)(setData.displayvalue,formatedVal);config.displayValue=(0,_lib.pluck)(setDisplayValue,percentValue,config.toolTipValue);if(tlType!==_lib.BLANK){tlTypeToolText=BOLDSTARTTAG+tlType+tooltipSepChar+BOLDENDTAG}if(trType!==_lib.BLANK){trTypeToolText=BOLDSTARTTAG+trType+tooltipSepChar+BOLDENDTAG}if(blType!==_lib.BLANK){blTypeToolText=BOLDSTARTTAG+blType+tooltipSepChar+BOLDENDTAG}if(brType!==_lib.BLANK){brTypeToolText=BOLDSTARTTAG+brType+tooltipSepChar+BOLDENDTAG}column=xAxis.getCategoryFromId(setDataArr[i].columnid.toLowerCase());row=yAxis.getCategoryFromId(setDataArr[i].rowid.toLowerCase());if(!showTooltip){config.toolText=false}else{if(formatedVal===null){toolText=false}else if(setTooltext!==UNDEF){macroIndices=[1,2,5,6,7,14,93,94,95,96,97,98,112,113,114,115,116,117];parserConfig={formattedValue:formatedVal,value:setData.value,yaxisName:yAxisName,xaxisName:xAxisName,displayValue:setDisplayValue,percentValue:mapByPercent?percentValue:_lib.BLANK,tlLabel:tlLabel,trLabel:trLabel,blLabel:blLabel,brLabel:brLabel,rowLabel:row.tickObj&&row.tickObj.label,columnLabel:column.tickObj&&column.tickObj.label,percentDataValue:mapByPercent?percentValue:_lib.BLANK,trtype:trType,tltype:tlType,brType:brType,blType:blType,colorRangeLabel:config.colorRangeLabel};toolText=(0,_lib.parseTooltext)(setTooltext,macroIndices,parserConfig,setData,chartAttr,parserConfig)}else{toolText=(mapByPercent?BOLDSTARTTAG+"Value"+tooltipSepChar+BOLDENDTAG+formatedVal+BREAKSTRING+BOLDSTARTTAG+"Percentage"+tooltipSepChar+BOLDENDTAG+percentValue:toolTextValue)+(tlLabel!==_lib.BLANK?BREAKSTRING+(tlTypeToolText+tlLabel):_lib.BLANK)+(trLabel!==_lib.BLANK?BREAKSTRING+trTypeToolText+trLabel:_lib.BLANK)+(blLabel!==_lib.BLANK?BREAKSTRING+blTypeToolText+blLabel:_lib.BLANK)+(brLabel!==_lib.BLANK?BREAKSTRING+brTypeToolText+brLabel:_lib.BLANK)}config.toolText=toolText;config.setTooltext=toolText}}};HeatMapDataset.prototype.hide=function hide(item){var dataset=this,entityComponents=dataset.components.data,chart=dataset.getFromEnv("chart"),animationManager=dataset.getFromEnv("animationManager"),colorRange=chart.getChildren("colorRange")[0],i,len,config,legendItemColor,colorCode;legendItemColor=item.config.datasetObj.code;for(i=0,len=entityComponents.length;i<len;i++){if(!Object.keys(entityComponents[i]).length){continue}colorCode=colorRange.getColorObj(entityComponents[i].config.value).code;config=entityComponents[i].config;if(legendItemColor===colorCode){entityComponents[i].graphics.element&&animationManager.setAnimation({el:entityComponents[i].graphics.element,attr:{"fill-opacity":0,"stroke-width":0},component:dataset});entityComponents[i].graphics.hotElement&&entityComponents[i].graphics.hotElement.hide();entityComponents[i].graphics.valEle&&entityComponents[i].graphics.valEle.hide();entityComponents[i].graphics.tlLabel&&entityComponents[i].graphics.tlLabel.hide();entityComponents[i].graphics.trLabel&&entityComponents[i].graphics.trLabel.hide();entityComponents[i].graphics.blLabel&&entityComponents[i].graphics.blLabel.hide();entityComponents[i].graphics.brLabel&&entityComponents[i].graphics.brLabel.hide();config.visible=false;entityComponents[i].visible=false}}item.setLegendState("hidden")};HeatMapDataset.prototype.show=function show(item){var dataset=this,entityComponents=dataset.components.data,conf=dataset.config,chart=dataset.getFromEnv("chart"),animationManager=dataset.getFromEnv("animationManager"),config,plotFillAlpha,colorObj,colorRange=chart.getChildren("colorRange")[0],i,len,legendItemColor,colorCode;legendItemColor=item.config.datasetObj.code;for(i=0,len=entityComponents.length;i<len;i++){if(!Object.keys(entityComponents[i]).length){continue}config=entityComponents[i].config;plotFillAlpha=config.plotFillAlpha/100;colorObj=colorRange.getColorObj(entityComponents[i].config.value);colorCode=!colorObj.outOfRange&&colorObj.code;if(legendItemColor===colorCode){entityComponents[i].graphics.element&&animationManager.setAnimation({el:entityComponents[i].graphics.element,attr:{visibility:visibleStr},component:dataset});entityComponents[i].graphics.element&&animationManager.setAnimation({el:entityComponents[i].graphics.element,component:dataset,attr:{"fill-opacity":plotFillAlpha,"stroke-width":conf.plotBorderThickness}});entityComponents[i].graphics.hotElement&&entityComponents[i].graphics.hotElement.show();entityComponents[i].graphics.valEle&&entityComponents[i].graphics.valEle.show();entityComponents[i].graphics.tlLabel&&entityComponents[i].graphics.tlLabel.show();entityComponents[i].graphics.trLabel&&entityComponents[i].graphics.trLabel.show();entityComponents[i].graphics.blLabel&&entityComponents[i].graphics.blLabel.show();entityComponents[i].graphics.brLabel&&entityComponents[i].graphics.brLabel.show();config.visible=true;entityComponents[i].visible=true}}item&&item.removeLegendState("hidden")};HeatMapDataset.prototype.updatePlot=function updatePlot(){var dataset=this,minValue=arguments[0],maxValue=arguments[1],conf=dataset.config,animationManager=dataset.getFromEnv("animationManager"),config,plotFillAlpha,entityComponents=dataset.components.data,i,len,value;for(i=0,len=entityComponents.length;i<len;i++){if(!Object.keys(entityComponents[i]).length){continue}config=entityComponents[i].config;plotFillAlpha=config.plotFillAlpha/100;value=entityComponents[i].config.value;if(value<minValue||value>maxValue){if(config.visible){entityComponents[i].graphics.element&&animationManager.setAnimation({el:entityComponents[i].graphics.element,attr:{"fill-opacity":0,"stroke-width":0},component:dataset});entityComponents[i].graphics.hotElement&&entityComponents[i].graphics.hotElement.hide();entityComponents[i].graphics.valEle&&entityComponents[i].graphics.valEle.hide();entityComponents[i].graphics.tlLabel&&entityComponents[i].graphics.tlLabel.hide();entityComponents[i].graphics.trLabel&&entityComponents[i].graphics.trLabel.hide();entityComponents[i].graphics.blLabel&&entityComponents[i].graphics.blLabel.hide();entityComponents[i].graphics.brLabel&&entityComponents[i].graphics.brLabel.hide();config.visible=false;entityComponents[i].visible=false}}else{if(!config.visible){entityComponents[i].graphics.element&&animationManager.setAnimation({el:entityComponents[i].graphics.element,attr:{"fill-opacity":plotFillAlpha,"stroke-width":conf.plotBorderThickness},callback:function callback(){this.show()},component:dataset});entityComponents[i].graphics.hotElement&&entityComponents[i].graphics.hotElement.show();entityComponents[i].graphics.valEle&&entityComponents[i].graphics.valEle.show();entityComponents[i].graphics.tlLabel&&entityComponents[i].graphics.tlLabel.show();entityComponents[i].graphics.trLabel&&entityComponents[i].graphics.trLabel.show();entityComponents[i].graphics.blLabel&&entityComponents[i].graphics.blLabel.show();entityComponents[i].graphics.brLabel&&entityComponents[i].graphics.brLabel.show();config.visible=true;entityComponents[i].visible=true}}}};HeatMapDataset.prototype._checkPointObj=function _checkPointObj(pX,pY,chartX,chartY){var dataset=this,plotGrid=dataset.components.plotGrid,pointObj,chartConfig=dataset.getFromEnv("chartConfig"),viewPortConfig=chartConfig.viewPortConfig,x=viewPortConfig.x,scaleX=viewPortConfig.scaleX,plotBorderThickness=chartConfig.plotborderthickness,showPlotBorder=chartConfig.showplotborder,halfPlotBorderThickness,dx,dy,hovered;pointObj=plotGrid[pY]&&plotGrid[pY][pX];plotBorderThickness=showPlotBorder?plotBorderThickness:0;halfPlotBorderThickness=plotBorderThickness/2;halfPlotBorderThickness=halfPlotBorderThickness%2===0?halfPlotBorderThickness+1:Math.round(halfPlotBorderThickness);if(pointObj&&pointObj.config&&pointObj.config.visible){dx=chartX-(pointObj._xPos-x*scaleX)+halfPlotBorderThickness;dy=chartY-pointObj._yPos+halfPlotBorderThickness;hovered=dx>=0&&dx<=pointObj._width+plotBorderThickness&&dy>=0&&dy<=pointObj._height+plotBorderThickness;if(hovered){return{pointIndex:pointObj._index,hovered:hovered,pointObj:pointObj}}}};HeatMapDataset.prototype._getHoveredPlot=function _getHoveredPlot(chartX,chartY){var dataset=this,chartConfig=dataset.getFromEnv("chartConfig"),xAxis=dataset.getFromEnv("xAxis"),yAxis=dataset.getFromEnv("yAxis"),height=chartConfig.canvasHeight/dataset.getFromEnv("totalRows"),x,y,pX,pY;chartX+=xAxis.getTranslation();chartY+=yAxis.getTranslation();y=yAxis.getValue(chartY+height/2);pY=Math.floor(y);x=xAxis.getValue(chartX);pX=Math.round(x);if(pX-x>0){return y-pY>.5?dataset._checkPointObj(pX,pY,chartX,chartY)||dataset._checkPointObj(pX-1,pY,chartX,chartY):dataset._checkPointObj(pX,pY-1,chartX,chartY)||dataset._checkPointObj(pX,pY,chartX,chartY)}else{return y-pY>.5?dataset._checkPointObj(pX+1,pY,chartX,chartY)||dataset._checkPointObj(pX,pY,chartX,chartY):dataset._checkPointObj(pX,pY-1,chartX,chartY)||dataset._checkPointObj(pX+1,pY,chartX,chartY)||dataset._checkPointObj(pX,pY,chartX,chartY)}};HeatMapDataset.prototype.parsePlotAttributes=function parsePlotAttributes(dataObj,index){var dataSet=this,JSONData=dataSet.config.JSONData,conf=dataSet.config,setDataArr=JSONData.data,attr,i=index,visible=dataSet.getState("visible"),chart=dataSet.getFromEnv("chart"),xAxis=dataSet.getFromEnv("xAxis"),yAxis=dataSet.getFromEnv("yAxis"),xPos,yPos,chartConfig=dataSet.getFromEnv("chartConfig"),showTooltip=chartConfig.showtooltip,columnWidth,height,toolText,dataStore=dataSet.components.data,setLink,setValue,displayValue,config,yBase=yAxis.getAxisBase(),yBasePos=yAxis.yBasePos=yAxis.getPixel(yBase),heightBase=0,plotBorderThickness=conf.plotBorderThickness,plotRadius=conf.plotRadius,colorArr,plotBorderDashStyle,legendActive=chart.getFromEnv("legend")&&chart.getFromEnv("legend").config.isActive,plotGrid=dataSet.components.plotGrid,width,column,row,trackerConfig;if(!dataObj||!Object.keys(dataObj).length){return}width=chartConfig.canvasWidth/dataSet.getFromEnv("totalColumns");height=chartConfig.canvasHeight/dataSet.getFromEnv("totalRows");trackerConfig=dataObj.trackerConfig={};config=dataObj&&dataObj.config;setValue=config.setValue;column=xAxis.getCategoryFromId(setDataArr[i].columnid.toLowerCase());row=yAxis.getCategoryFromId(setDataArr[i].rowid.toLowerCase());if(column.index!==0&&!column.index||row.index!==0&&!row.index){return}if(!conf.mapByCategory&&setValue===null){return}setLink=config.setLink;colorArr=config.colorArr;if(!dataObj.graphics){dataStore[i].graphics={}}displayValue=config.displayValue;xPos=xAxis.getPixel(column.index)-width/2;yPos=yAxis.getPixel(row.index)-height/2;columnWidth=width;toolText=config.toolText;toolText&&(config.finalTooltext=toolText);trackerConfig.eventArgs={index:i,link:setLink,value:config.percentValue||setValue,displayValue:displayValue,columnId:column.tickObj.id,rowId:row.tickObj.id,tlLabel:config.tlLabel,trLabel:config.trLabel,blLabel:config.blLabel,brLabel:config.brLabel,toolText:!toolText?"":toolText,id:_lib.BLANKSTRING,datasetIndex:legendActive?dataObj.datasetIndex:UNDEF,datasetName:legendActive?dataObj.datasetName:UNDEF,visible:visible};yBasePos=yPos;heightBase=height;attr={x:xPos,y:yBasePos,width:columnWidth,height:heightBase||1,r:plotRadius,fill:config.color,stroke:(0,_lib.toRaphaelColor)(colorArr[1]),"stroke-width":plotBorderThickness,"stroke-dasharray":plotBorderDashStyle,"fill-opacity":config.plotFillAlpha/100,"stroke-linejoin":miterStr,visibility:config.visible?visibleStr:hiddenStr,cursor:setLink?POINTER:_lib.BLANKSTRING};dataObj._xPos=xPos;dataObj._yPos=yPos;dataObj._height=height;dataObj._width=columnWidth;dataObj._index=i;plotGrid[row.index][column.index]=dataObj;if(!dataObj.graphics.element){attr["fill-opacity"]=config.plotFillAlpha/100;attr["stroke-width"]=plotBorderThickness}else{attr={x:xPos,y:yPos,width:columnWidth,height:height||1};attr.fill=config.color;attr.stroke=(0,_lib.toRaphaelColor)(colorArr[1]);attr["fill-opacity"]=config.visible?config.plotFillAlpha/100:0;attr["stroke-width"]=config.visible?plotBorderThickness:0;attr["stroke-dasharray"]=plotBorderDashStyle;attr["stroke-linejoin"]=miterStr;attr.visibility=config.visible?visibleStr:hiddenStr;attr.cursor=setLink?POINTER:_lib.BLANKSTRING}if(setLink||showTooltip){if(height<HTP){yPos-=(HTP-height)/2;height=HTP}trackerConfig.attr={x:xPos,y:yPos,width:columnWidth,height:height,r:plotRadius,cursor:setLink?POINTER:_lib.BLANKSTRING,stroke:TRACKER_FILL,"stroke-width":plotBorderThickness,fill:TRACKER_FILL,visibility:config.visible?visibleStr:hiddenStr}}config.props={element:{attr:attr}}};HeatMapDataset.prototype.allocatePosition=function allocatePosition(){var dataSet=this,JSONData=dataSet.config.JSONData,setDataArr=JSONData.data,len,i,dataStore=dataSet.components.data,dataObj;len=setDataArr&&setDataArr.length;for(i=0;i<len;i++){dataObj=dataStore[i];dataSet.parsePlotAttributes(dataObj,i)}};HeatMapDataset.prototype.drawPlots=function drawPlots(){var dataSet=this,JSONData=dataSet.config.JSONData,conf=dataSet.config,setDataArr=JSONData.data,len,i,animationManager=dataSet.getFromEnv("animationManager"),visible=dataSet.getState("visible"),xAxis=dataSet.getFromEnv("xAxis"),yAxis=dataSet.getFromEnv("yAxis"),crispBox,chartConfig=dataSet.getFromEnv("chartConfig"),dataStore=dataSet.components.data,dataObj,setElement,setValue,config,state,showShadow=conf.showShadow,container=dataSet.getContainer("plotGroup"),shadowContainer=dataSet.getContainer("shadowGroup"),column,row,elemIdStore=[],elemId,removeDataArr=dataSet.components.removeDataArr||[],removeDataArrLen=removeDataArr.length,showHoverEffect=conf.showHoverEffect,trackerConfig;len=setDataArr&&setDataArr.length;for(i=0;i<len;i++){dataObj=dataStore[i];trackerConfig=dataObj.trackerConfig;config=dataObj&&dataObj.config;if(!dataObj.graphics){continue}state=!dataObj.graphics.element?"appearing":visible?"updating":"hiding";setValue=config.setValue;column=xAxis.getCategoryFromId(setDataArr[i].columnid.toLowerCase());row=yAxis.getCategoryFromId(setDataArr[i].rowid.toLowerCase());if(column.index!==0&&!column.index||row.index!==0&&!row.index){dataObj.graphics.element=dataObj.graphics.element&&animationManager.setAnimation({el:dataObj.graphics.element,component:dataSet});continue}if((!column.tickObj||!row.tickObj||config.value===_lib.BLANKSTRING)&&dataObj.graphics){dataObj.graphics.element=dataObj.graphics.element&&animationManager.setAnimation({el:dataObj.graphics.element,component:dataSet})}if(!conf.mapByCategory&&setValue===null&&dataObj.graphics){dataObj.graphics.element&&dataObj.graphics.element.hide();dataObj.graphics.hotElement&&dataObj.graphics.hotElement.hide();continue}elemId=column.index.toString()+row.index.toString();elemIdStore.push(elemId);if(!dataObj.graphics.element){setElement=dataObj.graphics.element=animationManager.setAnimation({el:"rect",component:dataSet,attr:config.props.element.attr,label:"rect",container:container});config.elemCreated=true}else{setElement=dataObj.graphics.element;config.elemCreated=false;animationManager.setAnimation({el:setElement,state:state,attr:config.props.element.attr,component:dataSet})}setElement.shadow({opacity:showShadow},shadowContainer).data("BBox",crispBox);chartConfig.enablemousetracking&&setElement.data(EVENTARGS,trackerConfig.eventArgs).data(showHoverEffectStr,showHoverEffect).data(SETROLLOVERATTR,config.setRolloverAttr||{}).data(SETROLLOUTATTR,config.setRolloutAttr||{})}dataSet.drawn?dataSet.drawLabel():dataSet.addJob("labelJob",dataSet.drawLabel.bind(dataSet),_schedular.priorityList.label);dataSet.drawn=true;removeDataArrLen&&dataSet.removeDataElems()};HeatMapDataset.prototype.drawLabel=function drawLabel(){var dataSet=this,chartConf=dataSet.getFromEnv("chartConfig"),smartLabel=dataSet.getFromEnv("smartLabel"),animationManager=dataSet.getFromEnv("animationManager"),style=chartConf.dataLabelStyle,conf=dataSet.config,JSONData=dataSet.config.JSONData,setDataArr=JSONData.data||[],len=setDataArr.length,components=dataSet.components,dataStore=components.data,dataObj,i,displayValue,graphic,textY,textX,yPos,xPos,attr,dataLabelContainer=dataSet.getContainer("labelGroup"),tlLabelContainer=dataSet.graphics.tlLabelContainer,blLabelContainer=dataSet.graphics.blLabelContainer,trLabelContainer=dataSet.graphics.trLabelContainer,brLabelContainer=dataSet.graphics.brLabelContainer,tlStyle,trStyle,blStyle,brStyle,tlCss,trCss,blCss,brCss,graphicEle,pointW,pointH,pointX,pointY,smartTextObj,tlLabel,trLabel,blLabel,brLabel,isTLLabel,isTRLabel,isBLLabel,isBRLabel,maxWidth,maxHeight,config,setValue,MAX_PERCENT_SPACE=.9,POINT_FIVE=.5,GUTTER_4=4;animationManager.setAnimation({el:dataLabelContainer,attr:{opacity:1},component:dataSet,label:"text"});if(!tlLabelContainer){tlLabelContainer=dataSet.graphics.tlLabelContainer=createGroup({name:tlLabelStr},dataLabelContainer,dataSet)}if(!blLabelContainer){blLabelContainer=dataSet.graphics.blLabelContainer=createGroup({name:blLabelStr},dataLabelContainer,dataSet)}if(!trLabelContainer){trLabelContainer=dataSet.graphics.trLabelContainer=createGroup({name:trLabelStr},dataLabelContainer,dataSet)}if(!brLabelContainer){brLabelContainer=dataSet.graphics.brLabelContainer=createGroup({name:brLabelStr},dataLabelContainer,dataSet)}tlStyle=conf.tlLabelStyle;trStyle=conf.trLabelStyle;blStyle=conf.blLabelStyle;brStyle=conf.brLabelStyle;tlCss={fontFamily:tlStyle.fontFamily,fontSize:tlStyle.fontSize,lineHeight:tlStyle.lineHeight,fontWeight:tlStyle.fontWeight,fontStyle:tlStyle.fontStyle};trCss={fontFamily:trStyle.fontFamily,fontSize:trStyle.fontSize,lineHeight:trStyle.lineHeight,fontWeight:trStyle.fontWeight,fontStyle:trStyle.fontStyle};blCss={fontFamily:blStyle.fontFamily,fontSize:blStyle.fontSize,lineHeight:blStyle.lineHeight,fontWeight:blStyle.fontWeight,fontStyle:blStyle.fontStyle};brCss={fontFamily:brStyle.fontFamily,fontSize:brStyle.fontSize,lineHeight:brStyle.lineHeight,fontWeight:brStyle.fontWeight,fontStyle:brStyle.fontStyle};smartLabel.useEllipsesOnOverflow(chartConf.useEllipsesWhenOverflow);smartLabel.setStyle(style);tlLabelContainer.css(tlCss);blLabelContainer.css(blCss);trLabelContainer.css(trCss);brLabelContainer.css(brCss);for(i=0;i<len;i++){dataObj=dataStore[i];if(dataObj===UNDEF){continue}graphic=dataObj.graphics;if(!graphic){continue}config=dataObj&&dataObj.config;setValue=config.setValue;if(!conf.mapByCategory&&setValue===null){dataSet.removeLabels(dataObj);continue}displayValue=config.displayValue;graphicEle=dataObj.graphics.element;pointW=dataObj._width;pointH=dataObj._height;pointX=dataObj._xPos;pointY=dataObj._yPos;smartLabel.setStyle(style);smartTextObj=smartLabel.getSmartText(displayValue,pointW,pointH,false);displayValue=smartTextObj.text;if(defined(displayValue)&&displayValue!==_lib.BLANK&&config.showValue){textY=pointY+pointH*.5;textX=pointX+pointW*.5;attr={text:displayValue,title:smartTextObj.tooltext||_lib.BLANKSTRING,visibility:config.visible?visibleStr:hiddenStr,fill:style.color,direction:config.textDirection,x:textX,y:textY,"text-bound":[style.backgroundColor,style.borderColor,style.borderThickness,style.borderPadding,style.borderRadius,style.borderDash]};if(graphicEle){dataObj.graphics.valEle=animationManager.setAnimation({el:dataObj.graphics.valEle||"text",container:dataLabelContainer,component:dataSet,label:"text",attr:attr})}else{if(dataObj.graphics.valEle){dataObj.graphics.valEle=animationManager.setAnimation({el:dataObj.graphics.valEle,component:dataSet})}}tlLabel=config.tlLabel;trLabel=config.trLabel;blLabel=config.blLabel;brLabel=config.brLabel;isTLLabel=defined(tlLabel)&&tlLabel!==_lib.BLANK;isTRLabel=defined(trLabel)&&trLabel!==_lib.BLANK;isBLLabel=defined(blLabel)&&blLabel!==_lib.BLANK;isBRLabel=defined(brLabel)&&brLabel!==_lib.BLANK;maxWidth=pointW*(isTLLabel&&isTRLabel?POINT_FIVE:MAX_PERCENT_SPACE);maxHeight=(pointH-(smartTextObj&&smartTextObj.height||0))*.5;yPos=pointY+GUTTER_4;if(isTLLabel){smartLabel.setStyle(tlStyle);smartTextObj=smartLabel.getSmartText(tlLabel,maxWidth,maxHeight,false);displayValue=smartTextObj.text;xPos=pointX;attr={text:displayValue,title:smartTextObj.tooltext||_lib.BLANKSTRING,visibility:config.visible?visibleStr:hiddenStr,fill:tlStyle.color,"text-anchor":POSITION_START,"vertical-align":POSITION_TOP,direction:config.textDirection,x:xPos+GUTTER_4,y:yPos,"text-bound":[tlStyle.backgroundColor,tlStyle.borderColor,tlStyle.borderThickness,tlStyle.borderPadding,tlStyle.borderRadius,tlStyle.borderDash]};dataObj.graphics.tlLabel=animationManager.setAnimation({el:dataObj.graphics.tlLabel||"text",component:dataSet,attr:Object.assign(attr,tlCss),container:tlLabelContainer})}else{if(dataObj.graphics.tlLabel){dataObj.graphics.tlLabel=animationManager.setAnimation({el:dataObj.graphics.tlLabel,component:dataSet})}}if(isTRLabel){smartLabel.setStyle(trStyle);smartTextObj=smartLabel.getSmartText(trLabel,maxWidth,maxHeight,false);displayValue=smartTextObj.text;xPos=pointX+pointW;attr={text:displayValue,title:smartTextObj.tooltext||_lib.BLANKSTRING,visibility:config.visible?visibleStr:hiddenStr,fill:trStyle.color,"text-anchor":POSITION_END,"vertical-align":POSITION_TOP,direction:config.textDirection,x:xPos-GUTTER_4,y:yPos,"text-bound":[trStyle.backgroundColor,trStyle.borderColor,trStyle.borderThickness,trStyle.borderPadding,trStyle.borderRadius,trStyle.borderDash]};dataObj.graphics.trLabel=animationManager.setAnimation({el:dataObj.graphics.trLabel||"text",attr:Object.assign(attr,trCss),container:trLabelContainer,component:dataSet})}else{if(dataObj.graphics.trLabel){dataObj.graphics.trLabel=animationManager.setAnimation({el:dataObj.graphics.trLabel,component:dataSet})}}yPos=pointY+pointH-GUTTER_4;if(isBLLabel){smartLabel.setStyle(blStyle);smartTextObj=smartLabel.getSmartText(blLabel,maxWidth,maxHeight,false);displayValue=smartTextObj.text;xPos=pointX;attr={text:displayValue,title:smartTextObj.tooltext||_lib.BLANKSTRING,visibility:config.visible?visibleStr:hiddenStr,fill:blStyle.color,"text-anchor":POSITION_START,"vertical-align":POSITION_BOTTOM,direction:config.textDirection,x:xPos+GUTTER_4,y:yPos,"text-bound":[blStyle.backgroundColor,blStyle.borderColor,blStyle.borderThickness,blStyle.borderPadding,blStyle.borderRadius,blStyle.borderDash]};dataObj.graphics.blLabel=animationManager.setAnimation({el:dataObj.graphics.blLabel||"text",component:dataSet,container:blLabelContainer,attr:Object.assign(attr,blCss)})}else{if(dataObj.graphics.blLabel){dataObj.graphics.blLabel=animationManager.setAnimation({el:dataObj.graphics.blLabel,component:dataSet})}}if(isBRLabel){smartLabel.setStyle(blStyle);smartTextObj=smartLabel.getSmartText(brLabel,maxWidth,maxHeight,false);displayValue=smartTextObj.text;xPos=pointX+pointW-GUTTER_4;attr={text:displayValue,title:smartTextObj.tooltext||_lib.BLANKSTRING,visibility:config.visible?visibleStr:hiddenStr,fill:brStyle.color,"text-anchor":POSITION_END,"vertical-align":POSITION_BOTTOM,direction:config.textDirection,x:xPos,y:yPos,"text-bound":[brStyle.backgroundColor,brStyle.borderColor,brStyle.borderThickness,brStyle.borderPadding,brStyle.borderRadius,brStyle.borderDash]};dataObj.graphics.brLabel=animationManager.setAnimation({el:dataObj.graphics.brLabel||"text",attr:Object.assign(attr,brCss),container:brLabelContainer,component:dataSet})}else{if(dataObj.graphics.brLabel){dataObj.graphics.brLabel=animationManager.setAnimation({el:dataObj.graphics.brLabel,component:dataSet})}}}else{dataSet.removeLabels(dataObj)}}dataSet.labelDrawn=true};HeatMapDataset.prototype.removeLabels=function removeLabels(dataObj){var dataSet=this,animationManager=dataSet.getFromEnv("animationManager");if(dataObj.graphics.valEle){dataObj.graphics.valEle=animationManager.setAnimation({el:dataObj.graphics.valEle,component:dataSet})}if(dataObj.graphics.tlLabel){dataObj.graphics.tlLabel=animationManager.setAnimation({el:dataObj.graphics.tlLabel,component:dataSet})}if(dataObj.graphics.trLabel){dataObj.graphics.trLabel=animationManager.setAnimation({el:dataObj.graphics.trLabel,component:dataSet})}if(dataObj.graphics.blLabel){dataObj.graphics.blLabel=animationManager.setAnimation({el:dataObj.graphics.blLabel,component:dataSet})}if(dataObj.graphics.brLabel){dataObj.graphics.brLabel=animationManager.setAnimation({el:dataObj.graphics.brLabel,component:dataSet})}};HeatMapDataset.prototype.removeDataElems=function removeDataElems(){var dataSet=this,animationManager=dataSet.getFromEnv("animationManager"),components=dataSet.components,removeDataArr=components.removeDataArr,pool=components.pool||(components.pool={element:[],hotElement:[],label:[]}),len=removeDataArr.length,removeData,ele,graphics,i;for(i=0;i<len;i++){removeData=removeDataArr[0];removeDataArr.splice(0,1);if(!removeData||!removeData.graphics){continue}graphics=removeData.graphics;for(ele in graphics){if(graphics[ele]){graphics[ele]=animationManager.setAnimation({el:graphics[ele],component:dataSet})}}removeData.graphics.element&&(pool.element=pool.element.concat(removeData.graphics.element));removeData.graphics.hotElement&&(pool.hotElement=pool.hotElement.concat(removeData.graphics.hotElement));removeData.graphics.label&&(pool.label=pool.label.concat(removeData.graphics.label))}components.pool=pool};HeatMapDataset.prototype.getAxisValuePadding=function getAxisValuePadding(){return this.config.defaultPadding};HeatMapDataset.prototype.getDataLimits=function getDataLimits(){var dataSet=this,dataStore=dataSet.components.data,conf=dataSet.config,i,config,len=dataStore.length,setValue,maxValue=-Infinity,minValue=+Infinity;for(i=0;i<len;i++){if(!dataStore[i]||!Object.keys(dataStore[i]).length){continue}config=dataStore[i].config;setValue=config.setValue;if(setValue!==UNDEF&&setValue!==null){maxValue=mathMax(maxValue,setValue);minValue=mathMin(minValue,setValue)}}conf.maxValue=maxValue;conf.minValue=minValue;return{max:conf.maxValue,min:conf.minValue}};HeatMapDataset.prototype.trimData=function trimData(datasetJSON){if(!this.config.JSONData){return}var dataSet=this,config=dataSet.config,context=config&&config.context,prevCatlen=context&&context.prevCatlen,xAxis=dataSet.getFromEnv("xAxis"),currCatLen=xAxis.getTicksLen(),catDiff=prevCatlen-currCatLen,prevData=config.JSONData,prevDataLength=prevData.data&&prevData.data.length,currDataLength=datasetJSON.data&&datasetJSON.data.length||0,dataDiff=prevDataLength-currDataLength,diff=void 0,startIndex=void 0;if(catDiff>dataDiff){diff=catDiff;startIndex=currCatLen}else{diff=dataDiff;startIndex=currDataLength}if(diff>0){this.removeData(startIndex,diff,false)}};HeatMapDataset.prototype.draw=function draw(){var dataSet=this,conf=dataSet.config,xAxis=dataSet.getFromEnv("xAxis"),xAxisZeroPos=xAxis.getPixel(0),xAxisFirstPos=xAxis.getPixel(1),groupMaxWidth=dataSet.getFromEnv("groupMaxWidth"),drawn=conf.drawn;if(!groupMaxWidth){groupMaxWidth=mathAbs(xAxisFirstPos-xAxisZeroPos);dataSet.addToEnv("groupMaxWidth",groupMaxWidth)}!drawn&&dataSet.createContainer();if(!xAxis.getState("scrolling")){dataSet.createCoordinates()}dataSet.drawPlots()};HeatMapDataset.prototype.createContainer=function createContainer(){var dataset=this,dsType=dataset.getType(),groupName=dataset.groupName,chart=dataset.getFromEnv("chart"),parent=dataset.getLinkedParent(),group=groupName||dataset.dsGroup||dsType,parentContainer,parentShadowContainer;!parent.getChildContainer(group+"VcanvasGroup")&&(group="default");parentContainer=parent.getChildContainer(group+"VcanvasGroup");parentShadowContainer=parent.getChildContainer(group+"ShadowVcanvasGroup");!dataset.getContainer("shadowGroup")&&dataset.addContainer("shadowGroup",createGroup({name:"shadow-group"},parentShadowContainer,dataset));!dataset.getContainer("errorShadowGroup")&&dataset.addContainer("errorShadowGroup",createGroup({name:"error-shadow-group"},parentShadowContainer,dataset));!dataset.getContainer("commonElemsGroup")&&dataset.addContainer("commonElemsGroup",createGroup({name:"common-elems-group"},parentContainer,dataset));!dataset.getContainer("plotGroup")&&dataset.addContainer("plotGroup",createGroup({name:"plot-group"},parentContainer,dataset));!dataset.getContainer("errorPlotGroup")&&dataset.addContainer("errorPlotGroup",createGroup({name:"error-plot-group"},parentContainer,dataset));chart.hasAnchor&&dataset.getContainer("errorPlotGroup").insertBefore(dataset.getContainer("plotGroup"));!dataset.getContainer("labelGroup")&&dataset.addContainer("labelGroup",createGroup({name:"label-group","class":"fusioncharts-datalabels"},parent.getChildContainer("vcanvasLabelGroup"),dataset))};HeatMapDataset.prototype.createCoordinates=function createCoordinates(){var dataSet=this,dsComponents=dataSet.components,dsData=dsComponents.data,chart=dataSet.getFromEnv("chart"),isBar=chart.isBar,yAxis=dataSet.getFromEnv("yAxis"),xAxis=dataSet.getFromEnv("xAxis"),yBase=yAxis.getAxisBase(),yBasePos=yAxis.getPixel(yBase),isVertical=xAxis.config.isVertical,dataObj,config,previousY,i,Px,Py,Pb,xDepth=chart.config.xDepth||0,yDepth=chart.config.yDepth||0,len=dsData.length,components=dataSet.components,groupManager=dataSet.getLinkedParent(),stackConf=groupManager.getstackConf&&groupManager.getstackConf(),dataStore=components.data;!isBar&&(xDepth=-xDepth);isBar&&(yDepth=-yDepth);for(i=0;i<len;i++){dataObj=dataStore[i];config=dataObj&&dataObj.config;if(dataObj===UNDEF){continue}previousY=config._b;Px=xAxis.getPixel(stackConf&&stackConf[i].x||config._x)+xDepth;Py=yAxis.getPixel(config._y)+yDepth;Pb=(previousY?yAxis.getPixel(previousY):yBasePos)+yDepth;if(isVertical){config._Px=Py;config._Py=Px;config._Pby=Px;config._Pbx=Pb}else{config._Px=Px;config._Py=Py;config._Pby=Pb;config._Pbx=Px}if(dataSet.getLineShift){config._Py+=dataSet.getLineShift("y")}}};HeatMapDataset.prototype._decideTooltipType=function _decideTooltipType(plotIndex,e){var dataset=this,group=dataset.getLinkedParent(),chart=dataset.getFromEnv("chart"),drawTrendRegion=chart.config.drawTrendRegion,components=dataset.components,toolTipController=dataset.getFromEnv("toolTipController"),dataStore=components.data,data=dataStore[plotIndex],toolText=data&&(data.config.finalTooltext||data.config.toolText),element=data&&(data.graphics.element||dataset.graphics.sharedAnchor.element),currentToolTip=dataset.config.currentToolTip,originalEvent=e.originalEvent;if(drawTrendRegion&&element){dataset.config.currentToolTip=group._drawTooltip(plotIndex,dataset.config.index,originalEvent,currentToolTip)}else if(toolText&&!drawTrendRegion){if(currentToolTip){toolTipController.draw(originalEvent,toolText,currentToolTip)}else{currentToolTip=dataset.config.currentToolTip=toolTipController.draw(originalEvent,toolText)}}};HeatMapDataset.prototype._firePlotEvent=function _firePlotEvent(eventType,plotIndex,e){var dataset=this,chart=dataset.getFromEnv("chart"),components=dataset.components,toolTipController=dataset.getFromEnv("toolTipController"),dataStore=components.data,data=dataStore[plotIndex],setElement=data.graphics.element,toolTip=dataset.config.currentToolTip,config,setLink;if(setElement){config=data.config;setLink=config.setLink;switch(eventType){case"mouseover":dataset._decideTooltipType(plotIndex,e);_rolloverResponseSetter(chart,data,e,UNDEF,dataset);setLink&&(setElement.node.style.cursor=POINTER);break;case"mouseout":toolTipController.hide(toolTip);_rolloutResponseSetter(chart,data,e,UNDEF,dataset);setLink&&(setElement.node.style.cursor=DEFAULT_CURSOR);break;case"click":chart.plotEventHandler(setElement,e);break;case"mousemove":dataset._decideTooltipType(plotIndex,e)}}};HeatMapDataset.prototype.removeData=function removeData(index,stretch,draw){var dataSet=this,chart=dataSet.getFromEnv("chart"),components=dataSet.components,dataStore=components.data,removeDataArr=components.removeDataArr||(components.removeDataArr=[]),conf=dataSet.config,i,config,len,maxminFlag=dataSet.maxminFlag;stretch===UNDEF&&(stretch=1);index=index||0;if(index+stretch===dataStore.length||!chart.isRealTime){dataSet.endPosition=true}else if(index===0||index===UNDEF){dataSet.endPosition=false}components.removeDataArr=removeDataArr=removeDataArr.concat(dataStore.splice(index,stretch));len=removeDataArr.length;for(i=len-1;i>=0;i--){if(!removeDataArr[i]){removeDataArr.splice(i,1);continue}config=removeDataArr[i].config;if(config.setValue===conf.maxValue||config.setValue===conf.minValue){maxminFlag=dataSet.maxminFlag=true}config._x-=stretch;if(maxminFlag){break}}dataSet.removeDataLen=len;dataSet.resetCatPos&&dataSet.resetCatPos();maxminFlag&&dataSet.getDataLimits&&dataSet.getDataLimits();draw&&dataSet.asyncDraw()};return HeatMapDataset}(_componentInterface2["default"]);exports["default"]=HeatMapDataset},577:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]={"initial.dataset.heatMap":function initialDatasetHeatMap(){return{"rect.appearing":function rectAppearing(){return[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"plot"}]},"text.appearing":function textAppearing(){return[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}]},"*":null}}}},578:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var HeatMapGroup=function(_ComponentInterface){_inherits(HeatMapGroup,_ComponentInterface);function HeatMapGroup(){_classCallCheck(this,HeatMapGroup);var _this=_possibleConstructorReturn(this,_ComponentInterface.call(this));_this.setState("visible",true);_this.getDataLimits=null;return _this}HeatMapGroup.prototype.getType=function getType(){return"group"};HeatMapGroup.prototype.getName=function getName(){return"heatMapGroup"};HeatMapGroup.prototype.createContainer=function createContainer(){var manager=this,key=void 0,parent=manager.getLinkedParent(),animationManager=manager.getFromEnv("animationManager"),pContainer=void 0,parentChildContainers=parent.getChildContainer();for(key in parentChildContainers){pContainer=parentChildContainers[key];!manager.getChildContainer(key)&&manager.addChildContainer(key,animationManager.setAnimation({el:"group",attr:{name:"manager-"+key},container:pContainer,component:manager,label:"group"}))}};HeatMapGroup.prototype.getLimits=function getLimits(allVisible){var manager=this,min=+Infinity,max=-Infinity,maxminObj=void 0,numOfColumns=0,getMaxMin=function getMaxMin(_maxminObj){max=Math.max(max,_maxminObj.max);min=Math.min(min,_maxminObj.min)};manager._mapChildren(function(child){if(child.getState("removed")||child.getState("visible")===false){if(allVisible){maxminObj=child.getDataLimits(allVisible);getMaxMin(maxminObj)}return}numOfColumns++;maxminObj=child.getDataLimits(allVisible);getMaxMin(maxminObj)});if(!numOfColumns){manager.setState("visible",false)}else{manager.setState("visible",true)}if(!this.config.range){this.config.range={};this.config.range.min=this.config.dataMin;this.config.range.max=this.config.dataMax}return{max:max,min:min}};HeatMapGroup.prototype.draw=function draw(){var manager=this,range=manager.getLimits(true);manager.addToEnv("datasetMinValue",range.min);manager.addToEnv("datasetMaxValue",range.max);this.createContainer()};HeatMapGroup.prototype.getAxisValuePadding=function getAxisValuePadding(){var paddingObj={},axisPaddingLeft=-Infinity,axisPaddingRight=-Infinity,axisPaddingTop=-Infinity,axisPaddingBottom=-Infinity;this._mapChildren(function(child){if(child.getState("removed")){return}paddingObj=child.getAxisValuePadding&&child.getAxisValuePadding()||{};axisPaddingLeft=Math.max(axisPaddingLeft,paddingObj.left||-Infinity);axisPaddingRight=Math.max(axisPaddingRight,paddingObj.right||-Infinity);axisPaddingTop=Math.max(axisPaddingTop,paddingObj.top||-Infinity);axisPaddingBottom=Math.max(axisPaddingBottom,paddingObj.bottom||-Infinity)});if(axisPaddingLeft===-Infinity){axisPaddingLeft=0}if(axisPaddingRight===-Infinity){axisPaddingRight=0}if(axisPaddingTop===-Infinity){axisPaddingTop=0}if(axisPaddingBottom===-Infinity){axisPaddingBottom=0}if(!this.config.padding){this.config.padding={};this.config.padding.left=axisPaddingLeft;this.config.padding.right=axisPaddingRight;this.config.padding.top=axisPaddingTop;this.config.padding.bottom=axisPaddingBottom}return{left:axisPaddingLeft,right:axisPaddingRight,top:axisPaddingTop,bottom:axisPaddingBottom}};return HeatMapGroup}(_componentInterface2["default"]);exports["default"]=HeatMapGroup},579:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=function(chart){var canvas=chart.getChildren("canvas")[0],axisRefVisualCartesian=canvas.getChildren("axisRefVisualCartesian")[0],zoomObj={zoomable:true,pannable:true},config=chart._feedAxesRawData(),yAxis=void 0,xAxis=void 0,redraw=function redraw(){return axisRefVisualCartesian.asyncDraw()};(0,_lib.componentFactory)(chart,_category2["default"],"yAxis",1,config.yAxisConf);(0,_lib.componentFactory)(chart,_category2["default"],"xAxis",1,config.xAxisConf);yAxis=chart.getChildren("yAxis")[0];xAxis=chart.getChildren("xAxis")[0];yAxis.setLinkedItem("canvas",canvas);xAxis.setLinkedItem("canvas",canvas);axisRefVisualCartesian.setLinkedItem(yAxis.getId(),yAxis);axisRefVisualCartesian.setLinkedItem(xAxis.getId(),xAxis);axisRefVisualCartesian.addExtEventListener("visiblerangeset",redraw,xAxis);axisRefVisualCartesian.addExtEventListener("visiblerangeset",redraw,yAxis);canvas.attachAxis(xAxis,false,chart.zoomX?zoomObj:{});canvas.attachAxis(yAxis,true,chart.zoomY?zoomObj:{});chart._setCategories()};var _lib=__webpack_require__(118);var _category=__webpack_require__(321);var _category2=_interopRequireDefault(_category);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}},587:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _msarea=__webpack_require__(430);var _msarea2=_interopRequireDefault(_msarea);var _radar=__webpack_require__(588);var _radar2=_interopRequireDefault(_radar);var _radarAxis=__webpack_require__(591);var _radarAxis2=_interopRequireDefault(_radarAxis);var _polarCanvas=__webpack_require__(595);var _polarCanvas2=_interopRequireDefault(_polarCanvas);var _lib=__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var Radar=function(_Area){_inherits(Radar,_Area);function Radar(){_classCallCheck(this,Radar);var _this=_possibleConstructorReturn(this,_Area.call(this));_this.registerFactory("canvas",_polarCanvas2["default"]);_this.registerFactory("axis",_radarAxis2["default"],["canvas"]);return _this}Radar.prototype.__setDefaultConfig=function __setDefaultConfig(){_Area.prototype.__setDefaultConfig.call(this);var config=this.config;config.axisType="polar";config.axisValuePadding=10;config.gridLineWidth=1;config.showRadarBorder=1;config.showvalues=0;config.radarBorderThickness=2;config.skipCanvasDrawing=true;config.useplotgradientcolor=0;config.plotfillalpha=50};Radar.prototype.setAxisDimention=function setAxisDimention(){var iapi=this,yAxis=iapi.getChildren("yAxis")&&iapi.getChildren("yAxis")[0],config=iapi.config;yAxis&&yAxis.setAxisDimention({x:config.canvasLeft+config.canvasWidth/2,y:config.canvasTop,axisLength:config.canvasHeight/2})};Radar.prototype._feedAxesRawData=function _feedAxesRawData(){var iapi=this,dataObj=iapi.getFromEnv("dataSource"),xAxisConf,yAxisConf;xAxisConf=iapi.getSpecificxAxisConf();yAxisConf=iapi.getSpecificyAxisConf();xAxisConf.vtrendlines=dataObj.vtrendlines;yAxisConf.trendlines=dataObj.trendlines;return{xAxisConf:[xAxisConf],yAxisConf:[yAxisConf]}};Radar.prototype.getSpecificxAxisConf=function getSpecificxAxisConf(){var iapi=this,chartAttrs=iapi.getFromEnv("chart-attrib"),chartConfig=iapi.config,xAxisConf=this.getBasexAxisConf();xAxisConf.isReverse=chartConfig.reverseXAxis;xAxisConf.axisLineColor=(0,_lib.pluck)(chartAttrs.xaxislinecolor,chartAttrs.axislinecolor,"#000000");xAxisConf.showAlternateGridColor=(0,_lib.pluckNumber)(chartAttrs.showalternatevgridcolor,1);xAxisConf.numDivLines=chartAttrs.numvdivlines;xAxisConf.axisName=chartAttrs.xaxisname;xAxisConf.setAdaptiveMin=chartAttrs.setadaptivexmin;xAxisConf.showLimits=chartAttrs.showvlimits;xAxisConf.showDivLineValues=(0,_lib.pluckNumber)(chartAttrs.showvdivlinevalues,chartAttrs.showvdivlinevalues);xAxisConf.zeroPlaneThickness=chartAttrs.vzeroplanethickness;xAxisConf.zeroPlaneAlpha=chartAttrs.vzeroplanealpha;xAxisConf.showZeroPlaneValue=chartAttrs.showvzeroplanevalue;xAxisConf.showAxisLine=(0,_lib.pluckNumber)(chartAttrs.showxaxisline,chartAttrs.showaxislines,chartAttrs.drawAxisLines,0);xAxisConf.showRadarBorder=chartAttrs.showradarborder;xAxisConf.radarBorderColor=chartAttrs.radarbordercolor;xAxisConf.radarBorderThickness=chartAttrs.radarborderthickness;xAxisConf.radarBorderAlpha=chartAttrs.radarborderalpha;xAxisConf.radarFillColor=chartAttrs.radarfillcolor;xAxisConf.radarFillAlpha=chartAttrs.radarfillalpha;xAxisConf.radarSpikeColor=chartAttrs.radarspikecolor;xAxisConf.radarSpikeThickness=chartAttrs.radarspikethickness;xAxisConf.radarSpikeAlpha=chartAttrs.radarspikealpha;xAxisConf.radarInLineAlpha=chartAttrs.radarinlinealpha;xAxisConf.showTooltip=(0,_lib.pluckNumber)(chartAttrs.showtooltip,1);return xAxisConf};Radar.prototype.getSpecificyAxisConf=function getSpecificyAxisConf(){var iapi=this,chartAttrs=iapi.getFromEnv("chart-attrib"),chartConfig=iapi.config,is3D=iapi.config.is3D,palleteString=is3D?_lib.chartPaletteStr.chart3D:_lib.chartPaletteStr.chart2D,isReverse=chartConfig.isInverse,colorM=iapi.getFromEnv("color-manager");return{isVertical:true,isReverse:!isReverse,isOpposit:false,outCanfontFamily:(0,_lib.pluck)(chartAttrs.outcnvbasefont,chartAttrs.basefont,"Verdana,sans"),outCanfontSize:(0,_lib.pluckFontSize)(chartAttrs.outcnvbasefontsize,chartAttrs.basefontsize,10),outCancolor:(0,_lib.pluck)(chartAttrs.outcnvbasefontcolor,chartAttrs.basefontcolor,colorM.getColor(palleteString.baseFontColor)).replace(/^#? ([a-f0-9]+)/gi,"#$1"),axisNamePadding:chartAttrs.yaxisnamepadding,axisValuePadding:chartAttrs.yaxisvaluespadding,axisNameFont:chartAttrs.yaxisnamefont,axisNameFontSize:chartAttrs.yaxisnamefontsize,axisNameFontColor:chartAttrs.yaxisnamefontcolor,axisNameFontBold:chartAttrs.yaxisnamefontbold,axisNameFontItalic:chartAttrs.yaxisnamefontitalic,axisNameBgColor:chartAttrs.yaxisnamebgcolor,axisNameBorderColor:chartAttrs.yaxisnamebordercolor,axisNameAlpha:chartAttrs.yaxisnamealpha,axisNameFontAlpha:chartAttrs.yaxisnamefontalpha,axisNameBgAlpha:chartAttrs.yaxisnamebgalpha,axisNameBorderAlpha:chartAttrs.yaxisnameborderalpha,axisNameBorderPadding:chartAttrs.yaxisnameborderpadding,axisNameBorderRadius:chartAttrs.yaxisnameborderradius,axisNameBorderThickness:chartAttrs.yaxisnameborderthickness,axisNameBorderDashed:chartAttrs.yaxisnameborderdashed,axisNameBorderDashLen:chartAttrs.yaxisnameborderdashlen,axisNameBorderDashGap:chartAttrs.yaxisnameborderdashgap,axisNameWidth:chartAttrs.yaxisnamewidth,useEllipsesWhenOverflow:chartAttrs.useellipseswhenoverflow,rotateAxisName:(0,_lib.pluckNumber)(chartAttrs.rotateyaxisname,1),divLineColor:(0,_lib.pluck)(chartAttrs.divlinecolor,colorM.getColor(palleteString.divLineColor)),divLineAlpha:(0,_lib.pluck)(chartAttrs.divlinealpha,colorM.getColor("divLineAlpha")),divLineThickness:(0,_lib.pluckNumber)(chartAttrs.divlinethickness,1),divLineIsDashed:Boolean((0,_lib.pluckNumber)(chartAttrs.divlinedashed,chartAttrs.divlineisdashed,0)),divLineDashLen:(0,_lib.pluckNumber)(chartAttrs.divlinedashlen,4),divLineDashGap:(0,_lib.pluckNumber)(chartAttrs.divlinedashgap,2),showAlternateGridColor:(0,_lib.pluckNumber)(chartAttrs.showalternatehgridcolor,1),alternateGridColor:(0,_lib.pluck)(chartAttrs.alternatehgridcolor,colorM.getColor("altHGridColor")),alternateGridAlpha:(0,_lib.pluck)(chartAttrs.alternatehgridalpha,colorM.getColor("altHGridAlpha")),numDivLines:chartAttrs.numdivlines,axisMinValue:chartAttrs.yaxisminvalue,axisMaxValue:chartAttrs.yaxismaxvalue,setAdaptiveMin:chartAttrs.setadaptiveymin,adjustDiv:chartAttrs.adjustvdiv,labelStep:chartAttrs.yaxisvaluesstep,showAxisValues:(0,_lib.pluckNumber)(chartAttrs.showyaxisvalues,chartAttrs.showyaxisvalue),showLimits:(0,_lib.pluckNumber)(chartAttrs.showyaxislimits,chartAttrs.showlimits,iapi.showLimits),showDivLineValues:(0,_lib.pluckNumber)(chartAttrs.showdivlinevalues,chartAttrs.showdivlinevalue),zeroPlaneColor:chartAttrs.zeroplanecolor,zeroPlaneThickness:(0,_lib.pluckNumber)(chartAttrs.zeroplanethickness,chartAttrs.divlinethickness,2),zeroPlaneAlpha:chartAttrs.zeroplanealpha,showZeroPlaneValue:chartAttrs.showzeroplanevalue,trendlineColor:chartAttrs.trendlinecolor,trendlineToolText:chartAttrs.trendlinetooltext,trendlineThickness:chartAttrs.trendlinethickness,trendlineAlpha:chartAttrs.trendlinealpha,showTrendlinesOnTop:chartAttrs.showtrendlinesontop,axisLineThickness:(0,_lib.pluckNumber)(chartAttrs.yaxislinethickness,chartAttrs.axislinethickness,1),axisLineAlpha:(0,_lib.pluckNumber)(chartAttrs.yaxislinealpha,chartAttrs.axislinealpha,100),axisLineColor:(0,_lib.pluck)(chartAttrs.yaxislinecolor,chartAttrs.axislinecolor,"#000000"),showTooltip:(0,_lib.pluckNumber)(chartAttrs.showtooltip,1)}};Radar.prototype._spaceManager=function _spaceManager(){var spaceForActionBar,actionBarSpace,availableWidth,availableHeight,iapi=this,config=iapi.config,radarBorderThickness=config.radarBorderThickness,legendPosition=config.legendposition,xAxis=iapi.getChildren("xAxis")&&iapi.getChildren("xAxis")[0],yAxisArr=iapi.getChildren("yAxis")&&iapi.getChildren("yAxis")||[],yAxis=yAxisArr[0],hasLegend=config.hasLegend,legend=iapi.getChildren("legend")&&iapi.getChildren("legend")[0],allottedSpace,minLength,decreaseCanvasBy,POSITION_BOTTOM=_lib.preDefStr.POSITION_BOTTOM,math=Math,mathMin=math.min,mathAbs=math.abs;if(legendPosition===POSITION_BOTTOM){allottedSpace=config.canvasHeight*.3}else{allottedSpace=config.canvasWidth*.3}hasLegend!==false&&xAxis&&config.showLegend&&iapi._allocateSpace(legend._manageLegendPosition(allottedSpace));availableHeight=config.canvasHeight*.7;availableWidth=config.canvasWidth*.7;xAxis&&iapi._allocateSpace(xAxis.placeAxis(availableWidth,availableHeight));availableWidth=config.canvasWidth*.7;yAxis&&yAxis.placeAxis(availableWidth);spaceForActionBar=config.availableHeight*.225;actionBarSpace=iapi._manageActionBarSpace&&(iapi._manageActionBarSpace(spaceForActionBar)||{});iapi._allocateSpace(actionBarSpace);minLength=config.radarradius>0?config.radarradius*2:mathMin(config.canvasHeight,config.canvasWidth);if(config.canvasHeight>minLength){decreaseCanvasBy=mathAbs((config.canvasHeight-minLength)/2);iapi._allocateSpace({top:decreaseCanvasBy,bottom:decreaseCanvasBy})}if(config.canvasWidth>minLength){decreaseCanvasBy=mathAbs((config.canvasWidth-minLength)/2);iapi._allocateSpace({left:decreaseCanvasBy,right:decreaseCanvasBy})}availableHeight=legendPosition===POSITION_BOTTOM?config.availableHeight*.6:config.availableWidth*.6;iapi._manageChartMenuBar(availableHeight);yAxis.setAxisDimention({x:config.canvasLeft+config.canvasWidth/2-radarBorderThickness/2,y:config.canvasTop,axisLength:config.canvasHeight/2});xAxis.setAxisConfig({radius:mathMin(config.canvasWidth/2,config.canvasHeight/2)-radarBorderThickness/2});xAxis.setAxisDimention({x:config.canvasLeft+config.canvasWidth/2,y:config.canvasTop+config.canvasHeight/2})};Radar.getName=function getName(){return"Radar"};Radar.prototype.getName=function getName(){return"Radar"};Radar.prototype.getDSdef=function getDSdef(){return _radar2["default"]};return Radar}(_msarea2["default"]);exports["default"]=Radar},588:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _area=__webpack_require__(347);var _area2=_interopRequireDefault(_area);var _radarAnimation=__webpack_require__(589);var _radarAnimation2=_interopRequireDefault(_radarAnimation);var _dependencyManager=__webpack_require__(125);var _polarUtil=__webpack_require__(590);var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var COMMASTRING=",",UNDEF,M="M",L="L",Z="Z",dropHash=_lib.regex.dropHash;(0,_dependencyManager.addDep)({name:"radarAnimation",type:"animationRule",extension:_radarAnimation2["default"]});var RadarDataset=function(_AreaDataset){_inherits(RadarDataset,_AreaDataset);function RadarDataset(){_classCallCheck(this,RadarDataset);return _possibleConstructorReturn(this,_AreaDataset.apply(this,arguments))}RadarDataset.prototype.getName=function getName(){return"radar"};RadarDataset.prototype.createCoordinates=function createCoordinates(){var dataSet=this,dsComponents=dataSet.components,dsData=dsComponents.data,chart=dataSet.getFromEnv("chart"),chartConfig=chart.config,yAxis=dataSet.getFromEnv("yAxis"),xAxis=dataSet.getFromEnv("xAxis"),dataObj,config,previousY,i,Px,Py,len=dsData.length,components=dataSet.components,dataStore=components.data,xPos,yPos,setValue;for(i=0;i<len;i++){dataObj=dataStore[i];config=dataObj&&dataObj.config;setValue=config.setValue;if(dataObj===UNDEF){continue}yPos=yAxis.getPixel(setValue+(previousY||0));xPos=(0,_polarUtil.getCoordinates)({radius:chartConfig.canvasTop+chartConfig.canvasHeight/2-yPos,theta:i},xAxis);Py=xPos.y;Px=xPos.x;config._Px=Px;config._Py=Py;config._Pbx=Px;config._Pby=Py}};RadarDataset.prototype.getLinePath=function getLinePath(data,positions,type){var dataset=this,chart=dataset.getFromEnv("chart"),chartConfig=chart.config,obj={},lastValidValue=obj.lastValidValue||false,temp=obj.temp||[],temp2=obj.temp2||[],pathArr=obj.pathArr||[],i,config,xPos,yPos,length=data.length,pointsJoined=obj.pointsJoined||0,dataObj,setValue,startPos=positions&&positions.begin||0,endPos=positions&&positions.end||length,step=chartConfig.viewPortConfig.step||1,yAxis=dataset.getFromEnv("yAxis"),xAxis=dataset.getFromEnv("xAxis"),baseZero=yAxis.getPixel(0),removeDataLen=dataset.removeDataLen||0,dataWithRemovedPaths=[];removeDataLen=0;dataWithRemovedPaths=dataWithRemovedPaths.concat(data);for(i=startPos;i<endPos+removeDataLen;i+=step){dataObj=dataWithRemovedPaths[i];if(!dataObj){continue}config=dataObj.config;setValue=config.setValue;if(setValue===null||config&&config.isSkipped===true){xPos=(0,_polarUtil.getCoordinates)({theta:xAxis.getLimit().min},xAxis).x;yPos=yAxis.getPixel(yAxis.config.axisRange.min)}else{xPos=config._Px;yPos=config._Py}if(type==="zero"){yPos=baseZero}else if(type==="base"){yPos=config._Pby}if(lastValidValue){if(temp.length){pathArr=pathArr.concat(temp);temp=[];pointsJoined++}pathArr.push([L,xPos,yPos])}else{temp.push([M,xPos,yPos]);pointsJoined=0;lastValidValue=true}}if(pathArr[pathArr.length-1]!==Z&&pointsJoined>0){pathArr.push(Z)}return{pathArr:pathArr,path2Arr:[],lastValidValue:lastValidValue,pointsJoined:pointsJoined,temp:temp,temp2:temp2,getPathArr:function getPathArr(){var pathObj=this,pathArr=pathObj.pathArr,path2Arr=pathObj.path2Arr;if(pathArr.length||path2Arr.length){return pathArr.concat(path2Arr)}else{return[]}}}};RadarDataset.prototype.configureAttributes=function configureAttributes(datasetJSON){if(!datasetJSON){return false}this.trimData(datasetJSON);this.JSONData=datasetJSON;var dataset=this,conf=dataset.config,chart=dataset.getFromEnv("chart"),index=dataset.index,chartAttr=chart.getFromEnv("dataSource").chart,colorM=dataset.getFromEnv("color-manager"),JSONData=dataset.JSONData,plotColor=colorM.getPlotColor(index);_AreaDataset.prototype.configureAttributes.call(this,datasetJSON);conf.defaultPadding={left:0,right:0};conf.plotfillcolor=(0,_lib.pluck)(JSONData.color,chartAttr.plotfillcolor,plotColor);conf.plotbordercolor=(0,_lib.pluck)(JSONData.plotbordercolor,chartAttr.plotbordercolor,chartAttr.areabordercolor,plotColor).split(COMMASTRING)[0];conf.fillColor={color:conf.plotfillcolor+(conf.plotgradientcolor?COMMASTRING+conf.plotgradientcolor:_lib.BLANKSTRING),alpha:conf.plotfillalpha,angle:conf.plotfillangle};conf.legendSymbolColor=conf.plotfillcolor};RadarDataset.prototype._getHoveredPlot=function _getHoveredPlot(chartX,chartY){var dataset=this,xAxis=dataset.getFromEnv("xAxis"),dataStore=dataset.components.data,pointObj,xMin,xMax,len=dataStore.length,returnValue,conf=dataset.config,divAngle=360/len,i;xMin=Math.floor(Math.max((0,_polarUtil.getPlotFromPixel)({x:chartX-conf.maxRadius,y:chartY},xAxis)/divAngle-1,0));xMax=Math.floor(Math.max((0,_polarUtil.getPlotFromPixel)({x:chartX+conf.maxRadius,y:chartY},xAxis)/divAngle,len-1));for(i=xMax;i>=xMin;i--){pointObj=dataStore[i];if(pointObj){returnValue=dataset.isWithinShape(pointObj,i,chartX,chartY);if(returnValue){break}}}return returnValue};RadarDataset.prototype._contextChanged=function _contextChanged(){if(!this.config.context){this.config.context={}}var dataset=this,status,context=dataset.config.context,xAxis=dataset.getFromEnv("xAxis"),oldAxisCenterX=context.axisCenterX,newAxisCenterX;newAxisCenterX=xAxis.config.axisDimention.centerX;status=!(newAxisCenterX===oldAxisCenterX);context.axisCenterX=newAxisCenterX;return status||_AreaDataset.prototype._contextChanged.call(this)};RadarDataset.prototype.getPlotInCategoryAt=function getPlotInCategoryAt(chartX,chartY){var plots=this.components.data,categoryAxis=this.getFromEnv("xAxis"),isDatasetVisible=this.getState("visible"),hoveredCategoryIndex=Math.round((0,_polarUtil.getPlotFromPixel)({x:chartX,y:chartY},categoryAxis)),foundPlot=plots.find(function(plot,idx,plotArr){var plotCategoryIndex=void 0,nextPlotCategoryIndex=void 0,prevPlotCategoryIndex=void 0,halfCategoryDiff=void 0,nextPlot=void 0,prevPlot=void 0;if(idx===0){nextPlot=plotArr[idx+1];prevPlot=plotArr[plotArr.length-1]}else if(idx===plotArr.length-1){nextPlot=plotArr[0];prevPlot=plotArr[plotArr.length-2]}else{nextPlot=plotArr[idx+1];prevPlot=plotArr[idx-1]}plotCategoryIndex=(0,_polarUtil.getPlotFromPixel)({x:plot.config._Px,y:plot.config._Py},categoryAxis);nextPlotCategoryIndex=idx===plotArr.length-1?360:(0,_polarUtil.getPlotFromPixel)({x:nextPlot.config._Px,y:nextPlot.config._Py},categoryAxis);prevPlotCategoryIndex=(0,_polarUtil.getPlotFromPixel)({x:prevPlot.config._Px,y:prevPlot.config._Py},categoryAxis);halfCategoryDiff=(nextPlotCategoryIndex-plotCategoryIndex)/2;if(hoveredCategoryIndex<=0+halfCategoryDiff){return hoveredCategoryIndex>=0&&hoveredCategoryIndex<=0+halfCategoryDiff}else if(hoveredCategoryIndex>360-halfCategoryDiff){return hoveredCategoryIndex>=360-halfCategoryDiff&&hoveredCategoryIndex<=360}else{return hoveredCategoryIndex>=prevPlotCategoryIndex+halfCategoryDiff&&hoveredCategoryIndex<=nextPlotCategoryIndex-halfCategoryDiff}}),hoveredPlotInfo=this._getHoveredPlot(chartX,chartY);if(isDatasetVisible&&hoveredPlotInfo){return hoveredPlotInfo}else if(isDatasetVisible&&foundPlot){return{pointIndex:foundPlot._index,hovered:false,pointObj:foundPlot}}else{return false}};RadarDataset.prototype._addLegend=function _addLegend(){var dataset=this,strokeColor,fillColor,config,conf=dataset.config,chartAttr=dataset.getFromEnv("chart-attrib"),legendItem,legend=dataset.getFromEnv("legend"),color=conf.legendSymbolColor,lightColor,use3DLighting=(0,_lib.pluckNumber)(chartAttr.use3dlighting,chartAttr.useplotgradientcolor,1);strokeColor=(0,_libGraphics.getLightColor)(color,60).replace(dropHash,_lib.HASHSTRING);if(use3DLighting){lightColor=(0,_libGraphics.getLightColor)(color,40);fillColor={FCcolor:{color:color+","+color+","+lightColor+","+color+","+color,ratio:"0,70,30",angle:270,alpha:"100,100,100,100,100"}}}else{fillColor={FCcolor:{color:color,angle:0,ratio:"0",alpha:"100"}}}config={enabled:conf.includeInLegend,type:dataset.type,label:(0,_lib.getFirstValue)(dataset.JSONData.seriesname)};if(conf.includeinlegend){legendItem=legend.getItem(dataset.config.legendItemId);if(!legendItem){dataset.config.legendItemId=legend.createItem(dataset);legendItem=legend.getItem(dataset.config.legendItemId);dataset.addExtEventListener("click",function(){legendItem.itemClickFn()},legendItem)}legendItem.configure(config);legendItem.setStateCosmetics("default",{symbol:{fill:(0,_lib.toRaphaelColor)(fillColor),rawFillColor:color,stroke:(0,_lib.toRaphaelColor)(strokeColor)}});if(!dataset.getState("visible")){legendItem.setLegendState("hidden")}else{legendItem.removeLegendState("hidden")}}else if(dataset.config.legendItemId){legend.disposeItem(dataset.config.legendItemId)}};RadarDataset.prototype.getOldPath=function getOldPath(path,lim){var dataSet=this,xLim=lim.x,yLim=lim.y,oldLim=dataSet.config&&dataSet.config.prevLim,oldLimX=oldLim.x,oldLimY=oldLim.y,i=0,ii=path.pathArr.length,item,arr=[],getOldValX=function getOldValX(val){val=(val-oldLimX.minPixel.x)/(oldLimX.maxPixel.x-oldLimX.minPixel.x);val=val*(oldLimX.max-oldLimX.min)+oldLimX.min;val=(val-xLim.min)/(xLim.max-xLim.min);return val*(xLim.maxPixel.x-xLim.minPixel.x)+xLim.minPixel.x+1},getOldValY=function getOldValY(val){if(val<oldLimY.base&&val>yLim.base||val>oldLimY.base&&val<yLim.base){val=yLim.base}return val-1},getOldValYBase=function getOldValYBase(val){if(val===oldLimY.base){return yLim.base}return getOldValY(val)};if(oldLimY.min===yLim.min&&oldLimX.min===xLim.min&&oldLimY.max===yLim.max&&oldLimX.max===xLim.max){return path}path=(0,_lib.extend2)({},path);if(!oldLim){return arr}path.pathArr=path.pathArr.slice(0);path.path2Arr=path.path2Arr.slice(0);for(i=ii;i--;){item=path.pathArr[i].slice(0);if(!item[1]||!item.join){continue}item[1]=getOldValX(item[1]);item[2]=getOldValYBase(item[2]);path.pathArr[i]=item}for(i=path.path2Arr.length;i--;){item=path.path2Arr[i].slice(0);if(!item[1]||!item.join){continue}item[1]=getOldValX(item[1]);item[2]=getOldValYBase(item[2]);path.path2Arr[i]=item}return path};RadarDataset.prototype._setConfigure=function _setConfigure(){var dataSet=this,conf=dataSet.config,JSONData=dataSet.config.JSONData,setDataArr=JSONData.data||[],setData,dataObj,len=dataSet.getFromEnv("xAxis").getTicksLen(),dataStore,i;conf.imageCount=0;dataStore=dataSet.components.data;if(!dataStore){dataStore=dataSet.components.data=[]}conf.maxRadius=-Infinity;for(i=0;i<len;i++){dataObj=dataStore[i];setData=setDataArr&&setDataArr[i]||{};if(!dataObj){dataObj=dataStore[i]={}}if(!dataObj.config){dataStore[i].config={}}if(!dataObj.graphics){dataObj.graphics={}}dataSet._plotConfigure(i,setData)}};return RadarDataset}(_area2["default"]);exports["default"]=RadarDataset},589:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _polarUtil=__webpack_require__(590);exports["default"]={"initial.dataset.radar":function initialDatasetRadar(){return{"anchor.appearing":function anchorAppearing(){return[{initialAttr:{opacity:0},finalAttr:{opacity:1},startEnd:{start:.5,end:1},slot:"plot"}]},"anchor.updating":function anchorUpdating(){return[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}]},"anchor.disappearing":function anchorDisappearing(){return[{finalAttr:{opacity:0,"fill-opacity":0,"stroke-opacity":0},slot:"final"}]},"line.appearing":function lineAppearing(inputJSON){var dataset=inputJSON.component,xAxis=dataset.getFromEnv("xAxis"),yAxis=dataset.getFromEnv("yAxis"),catLen=xAxis.getTicksLen(),chartConfig=dataset.getFromEnv("chartConfig"),finalAttr=inputJSON.attr,value=chartConfig.canvasTop+chartConfig.canvasHeight/2,initialPath=[],i=void 0;for(i=0;i<catLen;i++){initialPath.push(i?"L":"M");initialPath.push((0,_polarUtil.getCoordinates)({radius:value,theta:0},xAxis).x);initialPath.push(yAxis.getPixel(0))}initialPath.push("Z");return[{initialAttr:{opacity:0,path:initialPath},finalAttr:{opacity:1,path:finalAttr.path},startEnd:{start:0,end:.5},slot:"middle"}]},"label.appearing":[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}],"*":null}}}},591:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=function(chart){var canvas=chart.getChildren("canvas")[0],config=chart._feedAxesRawData(),axisRefVisual=canvas.getChildren("axisRefVisualPolar")[0],yAxis=void 0,xAxis=void 0,redraw=function redraw(){return axisRefVisual.asyncDraw()};(0,_lib.componentFactory)(chart,_numeric2["default"],"yAxis",1,config.yAxisConf);(0,_lib.componentFactory)(chart,_polar2["default"],"xAxis",1,config.xAxisConf);yAxis=chart.getChildren("yAxis")[0];xAxis=chart.getChildren("xAxis")[0];yAxis.setLinkedItem("canvas",canvas);axisRefVisual.setLinkedItem(yAxis.getId(),yAxis);axisRefVisual.setLinkedItem(xAxis.getId(),xAxis);axisRefVisual.addExtEventListener("visiblerangeset",redraw,xAxis);axisRefVisual.addExtEventListener("visiblerangeset",redraw,yAxis);canvas.attachAxis(xAxis,false,{});canvas.attachAxis(yAxis,true,{});chart._setCategories()};var _numeric=__webpack_require__(292);var _numeric2=_interopRequireDefault(_numeric);var _polar=__webpack_require__(592);var _polar2=_interopRequireDefault(_polar);var _lib=__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}},592:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _axis=__webpack_require__(295);var _axis2=_interopRequireDefault(_axis);var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _polarUtil=__webpack_require__(590);var _diff=__webpack_require__(298);var _diff2=_interopRequireDefault(_diff);var _range=__webpack_require__(313);var _range2=_interopRequireDefault(_range);var _polarAnimation=__webpack_require__(593);var _polarAnimation2=_interopRequireDefault(_polarAnimation);var _dependencyManager=__webpack_require__(125);var _category=__webpack_require__(322);var _category2=_interopRequireDefault(_category);var _commonApi=__webpack_require__(301);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var UNDEF,DASH_DEF="none",POINTER="pointer",NORMALSTRING="normal",EVENTARGS="eventArgs",POSITION_MIDDLE=_lib.preDefStr.POSITION_MIDDLE,POSITION_START=_lib.preDefStr.POSITION_START,POSITION_TOP=_lib.preDefStr.POSITION_TOP,POSITION_BOTTOM=_lib.preDefStr.POSITION_BOTTOM,POSITION_END=_lib.preDefStr.POSITION_END,math=Math,mathMin=math.min,pi=math.PI,pi2=2*pi;(0,_dependencyManager.addDep)({name:"polarAnimation",type:"animationRule",extension:_polarAnimation2["default"]});var Polar=function(_Axis){_inherits(Polar,_Axis);function Polar(){_classCallCheck(this,Polar);var _this=_possibleConstructorReturn(this,_Axis.call(this));_this.config.scale=new _category2["default"];_this.config.referenceInfo=[];return _this}Polar.prototype.getName=function getName(){return"polarCategory"};Polar.prototype.__setDefaultConfig=function __setDefaultConfig(){_Axis.prototype.__setDefaultConfig.call(this);this.config.drawPlotBands=false;this.config.forceZeroTick=false};Polar.prototype.configureAttributes=function configureAttributes(rawAttr){var axis=this,axisConfig=axis.config,axisAttr=rawAttr,chart=axis.getFromEnv("chart"),jsonData=chart.getFromEnv("dataSource"),FCChartObj=jsonData.chart,colorM=axis.getFromEnv("color-manager");_Axis.prototype.configureAttributes.call(this,rawAttr);axisConfig.gridLineColor=(0,_libGraphics.convertColor)((0,_lib.pluck)(axisAttr.radarSpikeColor,colorM.getColor("divLineColor")),(0,_lib.pluckNumber)(axisAttr.radarSpikeAlpha,axisAttr.radarInLineAlpha,colorM.getColor("divLineAlpha")));axisConfig.radarSpikeThickness=(0,_lib.pluckNumber)(FCChartObj.radarspikethickness,1)};Polar.prototype.setAxisDimention=function setAxisDimention(data){var axis=this,scale=axis.getScale(),axisConfig=axis.config,chart=axis.getFromEnv("chart"),chartConfig=chart.config,startAngle=axisConfig.startAngle||-pi/2,totalAngle=axisConfig.totalAngle||-pi2,endAngle=startAngle+totalAngle,rangeArr=void 0,category=axisConfig.tickValues.tickValue||[],anglePerSlice=totalAngle/(category.length||1),axisDimention=axisConfig.axisDimention||(axisConfig.axisDimention={});axisDimention.opposite=(0,_lib.pluckNumber)(data.opposite,axisDimention.opposite);axisDimention.centerX=(0,_lib.pluckNumber)(data.x,axisDimention.x,chartConfig.canvasLeft);axisDimention.centerY=(0,_lib.pluckNumber)(data.y,axisDimention.y,chartConfig.canvasTop);axisDimention.axisLength=pi2;endAngle-=anglePerSlice;rangeArr=axisConfig.clockWise?[endAngle,startAngle]:[startAngle,endAngle];scale.setRange(rangeArr)};Polar.prototype._parseCategoryPlotLine=function _parseCategoryPlotLine(){var axis=this,axisConfig=axis.config,tickValue=axisConfig.tickValues.tickValue,plotLineColor=axisConfig.gridLineColor,plotLineWidth=axisConfig.radarSpikeThickness,axisAttrObj,referenceInfo=axisConfig.referenceInfo,i,value;axisAttrObj={stroke:plotLineColor,"stroke-width":plotLineWidth};if(tickValue[0]&&(tickValue[0].x!==UNDEF||tickValue[0].y!==UNDEF)){return}if(axisConfig.lines.isDraw&&axisConfig.numDivLines){for(i=0;i<tickValue.length;++i){value=i;referenceInfo.push({from:value,type:"line",layer:1,attr:axisAttrObj})}}};Polar.prototype.placeAxis=function placeAxis(width,height){var axis=this,axisConfig=axis.config,chart=axis.getFromEnv("chart"),smartLabel=chart.getFromEnv("smartLabel"),labelStyle=axisConfig.labels.style,categories=chart.getFromEnv("dataSource").categories,axisValuePadding=axisConfig.labelPadding=(0,_lib.pluckNumber)(axisConfig.rawAttr.axisValuePadding,10),useEllipsesWhenOverflow=axisConfig.useEllipsesWhenOverflow,top=0,left=0,right=0,bottom=0,avalTop=height/2,avalBottom=height/2,avalRight=width/2,avalLeft=width/2,i,allCategories=axisConfig.tickValues&&axisConfig.tickValues.tickValue,categoryLength,singleCategory,smartLabelText,categoriesStyle,categoryStyle,smartLabelStyle,smartLabelStyleLineHeight;axisConfig.labels.isDraw=1;axisConfig.labels.drawNormalVal=1;axisConfig.labels.drawLimitVal=1;if(!axis.components){axis.components={}}axis.components.labels=[];if(axisConfig.showLabels){if(categories){var firstCategory=categories[0];categoriesStyle={fontFamily:firstCategory.font,fontSize:firstCategory.fontsize,color:firstCategory.fontcolor}}for(i=0,categoryLength=allCategories.length;i<categoryLength;i++){singleCategory=allCategories[i];categoryStyle={fontFamily:singleCategory.font,fontSize:singleCategory.fontsize,fontWeight:singleCategory.fontbold?"bold":NORMALSTRING,fontStyle:singleCategory.fontitalic?"italic":NORMALSTRING};smartLabelStyle={fontFamily:(0,_lib.pluck)(categoryStyle.fontFamily,categoriesStyle.fontFamily,labelStyle.fontFamily),fontSize:(0,_lib.pluck)(categoryStyle.fontSize,categoriesStyle.fontSize,labelStyle.fontSize),fontWeight:(0,_lib.pluck)(categoryStyle.fontWeight,labelStyle.fontWeight),fontStyle:(0,_lib.pluck)(categoryStyle.fontStyle,labelStyle.fontStyle)};smartLabelStyleLineHeight=(0,_lib.setLineHeight)(smartLabelStyle);smartLabel.useEllipsesOnOverflow(chart.config.useEllipsesWhenOverflow);smartLabel.setStyle(smartLabelStyle);singleCategory.oriLabel===UNDEF&&(singleCategory.oriLabel=singleCategory.label);if(i===0){smartLabelText=smartLabel.getSmartText(singleCategory.oriLabel,width,mathMin(smartLabelStyleLineHeight,avalTop),useEllipsesWhenOverflow);singleCategory.label=smartLabelText.text;singleCategory.tooltext=smartLabelText.tooltext;smartLabelText.width+=axisValuePadding;smartLabelText.height+=axisValuePadding;if(smartLabelText.height>top){top=smartLabelText.height;bottom=top}}else if(i===categoryLength/2){smartLabelText=smartLabel.getSmartText(singleCategory.oriLabel,width,mathMin(smartLabelStyleLineHeight,avalBottom),useEllipsesWhenOverflow);singleCategory.label=smartLabelText.text;singleCategory.tooltext=smartLabelText.tooltext;smartLabelText.width+=axisValuePadding;smartLabelText.height+=axisValuePadding;if(smartLabelText.height>bottom){bottom=smartLabelText.height}}else if(i<categoryLength/2){smartLabelText=smartLabel.getSmartText(singleCategory.oriLabel,avalLeft,smartLabelStyleLineHeight,useEllipsesWhenOverflow);singleCategory.label=smartLabelText.text;singleCategory.tooltext=smartLabelText.tooltext;smartLabelText.width+=axisValuePadding;smartLabelText.height+=axisValuePadding;if(smartLabelText.width>left){left=smartLabelText.width}}else{smartLabelText=smartLabel.getSmartText(singleCategory.oriLabel,avalRight,smartLabelStyleLineHeight,useEllipsesWhenOverflow);singleCategory.label=smartLabelText.text;singleCategory.tooltext=smartLabelText.tooltext;smartLabelText.width+=axisValuePadding;smartLabelText.height+=axisValuePadding;if(smartLabelText.width>right){right=smartLabelText.width}}axis.components.labels.push({config:{width:smartLabelText.width,height:smartLabelText.height,props:{label:{attr:{}}}}})}}else{for(i=0,categoryLength=allCategories.length;i<categoryLength;i++){axis.components.labels.push({config:{width:0,height:0,props:{label:{attr:{}}}}})}}return{top:top,left:left,right:right,bottom:bottom}};Polar.prototype._drawComponents=function _drawComponents(){var axis=this,axisConfig=axis.config;axisConfig.drawLabels&&axisConfig.hasCategory&&axis._drawCategory()};Polar.prototype.allocatePosition=function allocatePosition(){var axis=this,axisConfig=axis.config;axisConfig.drawLabels&&axisConfig.hasCategory&&axis._parseCategory()};Polar.prototype._parseCategory=function _parseCategory(){var axis=this,axisConfig=axis.config,chart=axis.getFromEnv("chart"),isOpposit=axisConfig.isOpposit,labels=axisConfig.labels,style=labels.style,categoryLabel=axis.config.categoryLabel||(axis.config.categoryLabel={}),categories=chart.getFromEnv("dataSource").categories,category=axisConfig.tickValues.tickValue,axisPadding=axisConfig.labelPadding,categoriesStyle={},categoryStyle={},centerX=axisConfig.axisDimention.centerX,centerY=axisConfig.axisDimention.centerY,i,max,min,curCategory,text,labelRotation,labelLineHeight,addCategoryPadding,css,axisAttrObj,fontColor,pos,curCategoryValue,posX,posY,radius,radiusXY,theta,axisScale=axis.getScale(),catStyle,id,textId;radius=(0,_lib.pluckNumber)(axisConfig.radius,0);min=0;max=category?category.length-1:0;if(axisConfig.labels.isDraw){if(categories){var cat0=categories[0];categoriesStyle.fontFamily=cat0.font;categoriesStyle.fontSize=cat0.fontsize;categoriesStyle.color=cat0.fontcolor}for(i=min;i<=max;i++){curCategory=category[i];curCategoryValue=(0,_lib.pluckNumber)(curCategory.x,curCategory.y,i);if(!axisConfig.labels.drawNormalVal&&!(axisConfig.labels.drawLimitVal&&(i===min||curCategoryValue===max))){continue}if(!axisConfig.labels.drawNormalVal&&!(curCategoryValue===min||curCategoryValue===max)){continue}if(!axisConfig.labels.drawLimitVal&&(curCategoryValue===min||curCategoryValue===max)){continue}categoryStyle={fontFamily:(0,_lib.pluck)(curCategory.font,curCategory.labelfont),fontSize:(0,_lib.pluck)(curCategory.fontsize,curCategory.labelfontsize),fontWeight:(0,_lib.pluckNumber)(curCategory.fontbold,curCategory.labelfontbold,0)?"bold":UNDEF,fontStyle:(0,_lib.pluckNumber)(curCategory.fontitalic,curCategory.labelfontitalic,0)?"italic":UNDEF};fontColor=(0,_libGraphics.convertColor)((0,_lib.pluck)(curCategory.fontcolor,curCategory.labelfontcolor,categoriesStyle.color,style.color),(0,_lib.pluckNumber)(curCategory.labelalpha,axisConfig.rawAttr.labelFontAlpha,100));css={fontFamily:(0,_lib.pluck)(categoryStyle.fontFamily,categoriesStyle.fontFamily,style.fontFamily),fontSize:(0,_lib.pluck)(categoryStyle.fontSize,categoriesStyle.fontSize,style.fontSize),fontWeight:(0,_lib.pluck)(categoryStyle.fontWeight,style.fontWeight),fontStyle:(0,_lib.pluck)(categoryStyle.fontStyle,style.fontStyle)};css.lineHeight=(0,_lib.setLineHeight)(css);if(css.lineHeight){labelLineHeight=css.lineHeight;if(labelLineHeight.indexOf("px")!==-1){labelLineHeight=labelLineHeight.replace(/px/i,"");labelLineHeight=parseFloat(labelLineHeight)}}theta=axisScale.getRangeValue(curCategoryValue);pos=(0,_polarUtil.polarToCartesian)(radius+axisPadding,theta);pos.x+=centerX;pos.y+=centerY;posX=pos.x;posY=pos.y;text=curCategory.label||"";if((0,_lib.pluckNumber)(curCategory.showlabel,1)===0||axisConfig.showLabels===0){text=""}addCategoryPadding=curCategory.labelPadding||0;axisAttrObj={fill:fontColor,"line-height":labelLineHeight,"font-size":style.fontSize,text:text,cursor:curCategory.link?POINTER:"default",x:posX,y:posY};if(addCategoryPadding){axisAttrObj.y+=addCategoryPadding}if(labelRotation){axisAttrObj["text-anchor"]=isOpposit?POSITION_START:POSITION_END;axisAttrObj["vertical-align"]=POSITION_MIDDLE}else{axisAttrObj["vertical-align"]=isOpposit?POSITION_BOTTOM:POSITION_TOP}if(i===0){axisAttrObj["text-anchor"]=POSITION_MIDDLE;axisAttrObj["vertical-align"]=POSITION_BOTTOM}else if(i===(max+1)/2){axisAttrObj["text-anchor"]=POSITION_MIDDLE;axisAttrObj["vertical-align"]=POSITION_TOP}else if(i<(max+1)/2){axisAttrObj["text-anchor"]=POSITION_END;axisAttrObj["vertical-align"]=POSITION_MIDDLE}else{axisAttrObj["text-anchor"]=POSITION_START;axisAttrObj["vertical-align"]=POSITION_MIDDLE}theta=axisScale.getRangeValue(curCategoryValue);radiusXY=(0,_polarUtil.polarToCartesian)(radius,theta);radiusXY.x+=centerX;radiusXY.y+=centerY;if(labels.shiftX){axisAttrObj.x+=labels.shiftX}if(labels.shiftY){axisAttrObj.y+=labels.shiftY}categoryLabel=axisConfig.categoryLabel=categoryLabel||{};textId="Label"+(id||i);categoryLabel[textId]=categoryLabel[textId]||{};categoryLabel[textId].config=categoryLabel[textId].config||{};categoryLabel[textId].config.labelBox=catStyle={label:text,lineHeight:css.lineHeight,border:(0,_lib.pluckNumber)(curCategory.borderthickness,curCategory.labelborderthickness)?(0,_lib.pluckNumber)(curCategory.borderthickness,curCategory.labelborderthickness,1)+"px solid":"",borderColor:curCategory.bordercolor||curCategory.labelbordercolor?(0,_libGraphics.convertColor)(curCategory.bordercolor||curCategory.labelbordercolor,(0,_lib.pluckNumber)(curCategory.borderalpha,curCategory.labelborderalpha,curCategory.alpha,curCategory.labelalpha,100)):_lib.BLANKSTRING,borderThickness:(0,_lib.pluckNumber)(curCategory.borderthickness,curCategory.labelborderthickness),borderPadding:(0,_lib.pluckNumber)(curCategory.borderpadding,curCategory.labelborderpadding),borderRadius:(0,_lib.pluckNumber)(curCategory.borderradius,curCategory.labelborderradius),backgroundColor:curCategory.bgcolor||curCategory.labelbgcolor?(0,_libGraphics.convertColor)(curCategory.bgcolor||curCategory.labelbgcolor,(0,_lib.pluckNumber)(curCategory.bgalpha,curCategory.labelbgalpha,curCategory.alpha,curCategory.labelalpha,100)):_lib.BLANKSTRING,borderDash:(0,_lib.pluckNumber)(curCategory.borderdashed,curCategory.labelborderdashed,0)?(0,_lib.getDashStyle)((0,_lib.pluckNumber)(curCategory.borderdashlen,curCategory.labelborderdashlen,4),(0,_lib.pluckNumber)(curCategory.borderdashgap,curCategory.labelborderdashgap,2)):(0,_lib.pluckNumber)(curCategory.borderdashed,curCategory.labelborderdashed)===0?DASH_DEF:style.borderDash};categoryLabel[textId].config.labelBox["text-bound"]=!text?[]:[(0,_lib.pluck)(catStyle.backgroundColor,style.backgroundColor),(0,_lib.pluck)(catStyle.borderColor,style.borderColor),(0,_lib.pluck)(catStyle.borderThickness,style.borderThickness),(0,_lib.pluck)(catStyle.borderPadding,style.borderPadding),(0,_lib.pluck)(catStyle.borderRadius,style.borderRadius),(0,_lib.pluck)(catStyle.borderDash,style.borderDash)];axisAttrObj["text-bound"]=categoryLabel[textId].config.labelBox["text-bound"];axis.components.labels[i].config.props.label.css=css;axis.components.labels[i].config.props.label.attr=Object.assign(axis.components.labels[i].config.props.label.attr,axisAttrObj)}}};Polar.prototype._drawCategory=function _drawCategory(){var axis=this,axisConfig=axis.config,chart=axis.getFromEnv("chart"),animationManager=chart.getFromEnv("animationManager"),labels=axisConfig.labels,style=labels.style,axisContainer=axisConfig.axisContainer,category=axisConfig.tickValues.tickValue,raiseEvent=function raiseEvent(event){return function(data){var ele=this;chart.plotEventHandler(ele,data,event)}},toolTipController=axis.getFromEnv("toolTipController"),counter=0,i,max,min,curCategory,textElement,textElemCheck,css,axisAttrObj,curCategoryValue,removeElem,id,textId,mapArr=[],removeElementsArr,removeElements=function removeElements(arrOfId){for(i=0;i<arrOfId.length;++i){removeElem=axis.getGraphicalElement(arrOfId[i]);removeElem&&axis.removeGraphicalElement(removeElem)}};min=0;max=category?category.length-1:0;if(axisConfig.labels.isDraw){for(i=min,counter=0;i<=max;i++){curCategory=category[i];curCategoryValue=(0,_lib.pluckNumber)(curCategory.x,curCategory.y,i);if(!axisConfig.labels.drawNormalVal&&!(axisConfig.labels.drawLimitVal&&(i===min||curCategoryValue===max))){continue}if(!axisConfig.labels.drawNormalVal&&!(curCategoryValue===min||curCategoryValue===max)){continue}if(!axisConfig.labels.drawLimitVal&&(curCategoryValue===min||curCategoryValue===max)){continue}textId="Label"+(id||i);mapArr.push(textId);axisAttrObj=axis.components.labels[i].config.props.label.attr;css=axis.components.labels[i].config.props.label.css;textElemCheck=axis.getGraphicalElement(textId);textElement=animationManager.setAnimation({css:css,el:textElemCheck||"text",attr:axisAttrObj,container:axisContainer,component:axis,label:"polarLabel"});if(axisConfig.showTooltip&&curCategory.tooltext){toolTipController.enableToolTip(textElement,curCategory.tooltext)}else{toolTipController.disableToolTip(textElement)}textElement.data(EVENTARGS,{link:curCategory.link||curCategory.labellink||style.labelLink,text:axisAttrObj.text,index:counter});if(!textElemCheck){axis.addGraphicalElement(textId,textElement);textElement.click(raiseEvent("datalabelclick")).hover(raiseEvent("dataLabelRollOver"),raiseEvent("dataLabelRollOut"))}counter+=1}axisConfig.labelMap=axisConfig.labelMap||[];removeElementsArr=(0,_diff2["default"])(axisConfig.labelMap,mapArr)}else{removeElementsArr=mapArr}axisConfig.labelMap=mapArr;removeElements(removeElementsArr)};Polar.prototype.getTranslation=function getTranslation(){if(this)return 0};Polar.prototype.getReferenceInfo=function getReferenceInfo(){return this.config.referenceInfo};Polar.prototype.setVisibleConfig=function setVisibleConfig(minValue,maxValue){var axis=this,axisConfig=axis.config,scale=axis.getScale(),domain=void 0;if(minValue>=maxValue||minValue<axisConfig.axisRange.min||maxValue>axisConfig.axisRange.max){return false}domain=scale.setDomain([minValue,maxValue]).getDomain();axisConfig.visibleMin=domain[0];axisConfig.visibleMax=domain[1];axis.clearReferenceInfo();axis._parseReferenceVisuals();axis.fireEvent("visiblerangeset",{minValue:minValue,maxValue:maxValue});axis.asyncDraw();return true};Polar.prototype._parseReferenceVisuals=function _parseReferenceVisuals(){this.config.drawPlotlines&&this._parseCategoryPlotLine()};Polar.prototype.clearReferenceInfo=function clearReferenceInfo(){var axisConfig=this.config;axisConfig.referenceInfo=[]};Polar.prototype._setAxisRange=function _setAxisRange(data){var min=data.min,max=data.max,axisConfig=this.config,axisRange=axisConfig.axisRange,divGap=data.divGap,step;if(min>max){return}step=(max-min)/(axisConfig.categoryNumDivLines+1);this.getScale().setDomain([min,max]);axisConfig.ticks=(0,_range2["default"])(min,max,step).concat(max);axisConfig._allTicks=axisConfig.ticks.slice();axisRange.min=min;axisRange.max=max;axisRange.tickInterval=divGap||step;this.setVisibleConfig(axisRange.min,axisRange.max)};return Polar}(_axis2["default"]);Polar.prototype.setTickValues=_commonApi.setTickValues;Polar.prototype.shiftLabels=_commonApi.shiftLabels;Polar.prototype._createContainer=_commonApi._createContainer;Polar.prototype.setAxisPadding=_commonApi.setAxisPadding;Polar.prototype.getPixel=_commonApi.getPixel;Polar.prototype.getLabel=_commonApi.getLabel;exports["default"]=Polar},593:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _polarAxisAnimation=__webpack_require__(594);var _polarAxisAnimation2=_interopRequireDefault(_polarAxisAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports["default"]={"initial.axis.polar":function initialAxisPolar(){return{"path.appearing":_polarAxisAnimation2["default"],"text.appearing":_polarAxisAnimation2["default"]}}}},595:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=function(chart){var pCanvas=void 0;(0,_lib.componentFactory)(chart,_polarCanvas2["default"],"canvas",chart.config.showVolumeChart?2:1);pCanvas=chart.getChildren("canvas");for(var i=0,len=pCanvas.length;i<len;i++){pCanvas[i].configure();(0,_lib.componentFactory)(pCanvas[i],_axisRefPolarComponent2["default"],"axisRefVisualPolar")}};var _polarCanvas=__webpack_require__(596);var _polarCanvas2=_interopRequireDefault(_polarCanvas);var _axisRefPolarComponent=__webpack_require__(597);var _axisRefPolarComponent2=_interopRequireDefault(_axisRefPolarComponent);var _lib=__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}},596:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _canvas2=__webpack_require__(263);var _canvas3=_interopRequireDefault(_canvas2);var _polarUtil=__webpack_require__(590);var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var polarCanvas=function(_canvas){_inherits(polarCanvas,_canvas);function polarCanvas(){_classCallCheck(this,polarCanvas);return _possibleConstructorReturn(this,_canvas.apply(this,arguments))}polarCanvas.prototype.getName=function getName(){return"polarCanvas"};polarCanvas.prototype.getType=function getType(){return"canvas"};polarCanvas.prototype.configureAttributes=function configureAttributes(){_canvas.prototype.configureAttributes.call(this);var canvas=this,canvasConfig=canvas.config,chart=canvas.getFromEnv("chart"),JSONData=chart.getFromEnv("dataSource"),FCChartObj=JSONData.chart,colorM=chart.getFromEnv("color-manager");canvasConfig.radarBorderColor=(0,_libGraphics.convertColor)((0,_lib.pluck)(FCChartObj.radarbordercolor,colorM.getColor("divLineColor")),(0,_lib.pluckNumber)(FCChartObj.radarborderalpha,100));canvasConfig.radarFillColor=(0,_libGraphics.convertColor)((0,_lib.pluck)(FCChartObj.radarfillcolor,colorM.getColor("altHGridColor")),(0,_lib.pluckNumber)(FCChartObj.radarfillalpha,colorM.getColor("altHGridAlpha")));canvasConfig.radarBorderThickness=(0,_lib.pluckNumber)(FCChartObj.radarborderthickness,2);canvasConfig.showRadarBorder=(0,_lib.pluckNumber)(FCChartObj.showradarborder,1)};polarCanvas.prototype.draw=function draw(){this.createGroup();this.drawCanvas()};polarCanvas.prototype.drawCanvas=function drawCanvas(){var canvas=this,canvasConfig=this.config,chart=canvas.getFromEnv("chart"),chartConfig=chart.config,axis=chart.getChildren("xAxis")[0],animationManager=chart.getFromEnv("animationManager"),radarBorderContainerDummy=canvas.getContainer("radarBorderContainer"),radarBorderContainer=void 0,canvasGroup=canvas.getContainer("canvasGroup"),axisConfig=axis.config,radarBorderAttrObj={stroke:canvasConfig.radarBorderColor,fill:canvasConfig.radarFillColor,"stroke-width":canvasConfig.radarBorderThickness,path:[]},i=void 0,category=axisConfig.tickValues.tickValue,min=void 0,max=void 0,theta=void 0,axisScale=axis.getScale(),radiusXY=void 0,radius=void 0,radBorderDummy=canvas.getGraphicalElement("radarBorder"),radarBorder=void 0,centerX=axisConfig.axisDimention.centerX,centerY=axisConfig.axisDimention.centerY;radius=(0,_lib.pluckNumber)(axisConfig.radius,0);min=0;max=category?category.length-1:0;canvasConfig.canvasLeft=canvasConfig.canvasLeft||chartConfig.canvasLeft;canvasConfig.canvasTop=canvasConfig.canvasTop||chartConfig.canvasTop;canvasConfig.canvasWidth=canvasConfig.canvasWidth||chartConfig.canvasWidth;canvasConfig.canvasHeight=canvasConfig.canvasHeight||chartConfig.canvasHeight;if(canvasConfig.showRadarBorder!==0){radarBorderAttrObj.path.push("M");for(i=min;i<=max;i++){theta=axisScale.getRangeValue(i);radiusXY=(0,_polarUtil.polarToCartesian)(radius,theta);radiusXY.x+=centerX;radiusXY.y+=centerY;radarBorderAttrObj.path.push(radiusXY.x,radiusXY.y,"L")}radarBorderAttrObj.path.pop();radarBorderAttrObj.path.push("Z")}radarBorderContainer=animationManager.setAnimation({el:radarBorderContainerDummy||"group",attr:{name:"radarBorderContainer"},container:canvasGroup,component:canvas,label:"group"});if(!radarBorderContainerDummy){canvas.addContainer("radarBorderContainer",radarBorderContainer)}radarBorder=animationManager.setAnimation({el:radBorderDummy||"path",attr:radarBorderAttrObj,container:radarBorderContainer,component:axis,label:"path"});if(!radBorderDummy){canvas.addGraphicalElement("radarBorder",radarBorder)}};return polarCanvas}(_canvas3["default"]);exports["default"]=polarCanvas},597:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _axisRefComponent=__webpack_require__(324);var _axisRefComponent2=_interopRequireDefault(_axisRefComponent);var _polarUtil=__webpack_require__(590);var _lib=__webpack_require__(118);var _dependencyManager=__webpack_require__(125);var _axisRefPolarAnimation=__webpack_require__(598);var _axisRefPolarAnimation2=_interopRequireDefault(_axisRefPolarAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var M="M",Z="Z",L="L",getRadius=function getRadius(axis,point){var scale=axis.getScale(),range=axis.config.axisRange;return Math.abs(scale.getRangeValue(point)-scale.getRangeValue(range.min))};(0,_dependencyManager.addDep)({name:"axisRefPolarAnimation",type:"animationRule",extension:_axisRefPolarAnimation2["default"]});var AxisRefPolarVisual=function(_AxisRefComponent){_inherits(AxisRefPolarVisual,_AxisRefComponent);function AxisRefPolarVisual(){_classCallCheck(this,AxisRefPolarVisual);return _possibleConstructorReturn(this,_AxisRefComponent.apply(this,arguments))}AxisRefPolarVisual.prototype.getType=function getType(){return"axisRefVisuals"};AxisRefPolarVisual.prototype.getName=function getName(){return"axisRefVisualsPolar"};AxisRefPolarVisual.prototype.createLine=function createLine(lineInfo,axis){var axisRef=this;if(axis.getName()==="polarCategory"){return axisRef.createNormalLine(lineInfo,axis)}else if(axis.getName()==="numeric"){return axisRef.createRadialLine(lineInfo,axis)}};AxisRefPolarVisual.prototype.createRadialLine=function createRadialLine(lineInfo,axis){var axisRef=this,xAxis=axisRef.getFromEnv("xAxis")[0],xAxisConfig=xAxis.config,category=xAxisConfig.tickValues.tickValue,yAxis=axis,axisRefConfig=axisRef.config,containersArr=axisRefConfig.containers,container=containersArr[lineInfo.layer],animationManager=axisRef.getFromEnv("animationManager"),toolTipController=axisRef.getFromEnv("toolTipController"),i=void 0,key=void 0,min=void 0,max=void 0,radius=void 0,lineAttr=lineInfo.attr,pathAr=[M],coordinate=void 0,compId=yAxis.getId(),eleId=lineInfo.id||lineInfo.from,lineEleId=compId+"_"+eleId,handlers=lineInfo.handlers,element=axisRef.getGraphicalElement(lineEleId);radius=getRadius(yAxis,lineInfo.from);min=0;max=category?category.length-1:0;for(i=min;i<=max;i++){coordinate=(0,_polarUtil.getCoordinates)({radius:radius,theta:i},xAxis);pathAr.push(coordinate.x,coordinate.y,L)}pathAr.pop();pathAr.push(Z);lineAttr.path=pathAr;element=axisRef.addGraphicalElement(lineEleId,animationManager.setAnimation({container:container,el:element||"path",attr:lineAttr,component:axisRef,label:"path"}));if(lineInfo.toolText){toolTipController.enableToolTip(element,lineInfo.toolText)}else{toolTipController.disableToolTip(element)}for(key in handlers){if(handlers.hasOwnProperty(key)){element.on(key,handlers[key].bind(axis))}}return[lineEleId]};AxisRefPolarVisual.prototype.createNormalLine=function createNormalLine(lineInfo,axis){var axisRef=this,axisRefConfig=axisRef.config,axisConfig=axis.config,radius=(0,_lib.pluckNumber)(axisConfig.radius,0),pathAr=[M],containersArr=axisRefConfig.containers,container=containersArr[lineInfo.layer],animationManager=axisRef.getFromEnv("animationManager"),toolTipController=axisRef.getFromEnv("toolTipController"),coordinate=void 0,key=void 0,centerX=axisConfig.axisDimention.centerX,centerY=axisConfig.axisDimention.centerY,compId=axis.getId(),eleId=lineInfo.id||lineInfo.from,lineEleId=compId+"_"+eleId,handlers=lineInfo.handlers,element=axisRef.getGraphicalElement(lineEleId);pathAr.push(centerX,centerY,L);coordinate=(0,_polarUtil.getCoordinates)({radius:radius,theta:lineInfo.from},axis);pathAr.push(coordinate.x,coordinate.y);lineInfo.attr.path=pathAr;element=axisRef.addGraphicalElement(lineEleId,animationManager.setAnimation({container:container,el:element||"path",attr:lineInfo.attr,component:axisRef,label:"path"}));if(lineInfo.toolText){toolTipController.enableToolTip(element,lineInfo.toolText)}else{toolTipController.disableToolTip(element)}for(key in handlers){if(handlers.hasOwnProperty(key)){element.on(key,handlers[key].bind(axis))}}return[lineEleId]};AxisRefPolarVisual.prototype.createBand=function createBand(){return[]};return AxisRefPolarVisual}(_axisRefComponent2["default"]);exports["default"]=AxisRefPolarVisual},598:function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _polarAxisAnimation=__webpack_require__(594);var _polarAxisAnimation2=_interopRequireDefault(_polarAxisAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports["default"]={"initial.axis.axisRefVisualsPolar":function initialAxisAxisRefVisualsPolar(){return{"path.appearing":_polarAxisAnimation2["default"],"text.appearing":_polarAxisAnimation2["default"]}}}}}])});
//# sourceMappingURL=http://localhost:3052/3.13.1/map/eval/fusioncharts.powercharts.js.map