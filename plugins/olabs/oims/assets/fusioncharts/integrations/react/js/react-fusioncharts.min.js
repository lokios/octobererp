!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("fusioncharts"),require("react")):"function"==typeof define&&define.amd?define(["fusioncharts","react"],t):"object"==typeof exports?exports.ReactFC=t(require("fusioncharts"),require("react")):e.ReactFC=t(e.FusionCharts,e.React)}(this,function(e,t){return function(e){function t(n){if(a[n])return a[n].exports;var r=a[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=a(1),o=n(r);e.exports=o.default},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(8),d=r(u),f=a(7),l=r(f),p=a(6),h=r(p),g=a(3),y=n(g),v=a(2),m=r(v),b=function(e){function t(e){o(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.containerId=(0,h.default)(),a.oldOptions=null,a.FusionCharts=e.fcLibrary||t.fusionChartsCore||l.default,a}return i(t,e),c(t,null,[{key:"fcRoot",value:function(e){for(var a=arguments.length,n=Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];n.forEach(function(t){t.getName||t.name?e.addDep(t):t(e)}),t.fusionChartsCore=e}}]),c(t,[{key:"componentDidMount",value:function(){this.renderChart()}},{key:"componentWillReceiveProps",value:function(e){this.oldOptions&&this.detectChanges(e)}},{key:"componentWillUnmount",value:function(){this.chartObj.dispose()}},{key:"detectChanges",value:function(e){var t=this.resolveChartOptions(e),a=this.oldOptions,n=["width","height","type","dataFormat","dataSource","events"];this.checkAndUpdateChartDimensions(t,a),this.checkAndUpdateChartType(t,a),this.checkAndUpdateChartData(t,a),this.checkAndUpdateEvents(t,a),this.checkAndUpdateRestOptions(m.default.filter(function(e){return n.indexOf(e)===-1}),t,a),this.oldOptions=t}},{key:"checkAndUpdateChartDimensions",value:function(e,t){var a=e.width,n=e.height,r=t.width,o=t.height;String(a)===String(r)&&String(n)===String(o)||(y.isUndefined(a)||y.isUndefined(n)?(y.isUndefined(a)||this.chartObj.resizeTo({w:a}),y.isUndefined(n)||this.chartObj.resizeTo({h:n})):this.chartObj.resizeTo(a,n))}},{key:"checkAndUpdateChartType",value:function(e,t){var a=e.type,n=t.type;String(a).toLowerCase()!==String(n).toLowerCase()&&(y.isUndefined(a)||this.chartObj.chartType(String(a).toLowerCase()))}},{key:"checkAndUpdateChartData",value:function(e,t){var a=e.dataFormat,n=e.dataSource,r=t.dataFormat,o=t.dataSource;String(a).toLowerCase()!==String(r).toLowerCase()?y.isUndefined(a)||y.isUndefined(n)||(this.chartObj.setChartData(n,String(a).toLowerCase()),this.chartObj.render()):this.isSameChartData(n,o)||y.isUndefined(n)||this.chartObj.setChartData(n,a?String(a).toLowerCase():"json")}},{key:"isSameChartData",value:function(e,t){return y.isObject(e)&&y.isObject(t)?y.isSameObjectContent(e,t):e===t}},{key:"checkAndUpdateEvents",value:function(e,t){var a=this,n=e.events,r=t.events,o=void 0,s=void 0;this.detectChartEventsChange(n,r)&&(y.isUndefined(n)||(o=Object.assign({},n),s=y.isUndefined(r)?{}:Object.assign({},r),Object.keys(s).forEach(function(e){s[e]===o[e]?o[e]=void 0:a.chartObj.removeEventListener(e,s[e])}),Object.keys(o).forEach(function(e){o[e]&&a.chartObj.addEventListener(e,o[e])})))}},{key:"detectChartEventsChange",value:function(e,t){return y.isObject(e)&&y.isObject(t)?!this.isSameChartEvents(e,t):!(e===t)}},{key:"isSameChartEvents",value:function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var a=Object.keys(e),n=0;n<a.length;++n){var r=a[n];if(e[r]!==t[r])return!1}return!0}},{key:"checkAndUpdateRestOptions",value:function(e,t,a){var n=this,r=!1;e.forEach(function(e){var o=t[e],s=a[e];n.isSameOptionValue(o,s)||y.isUndefined(o)||n.chartObj.options&&n.chartObj.options.hasOwnProperty(e)&&(n.chartObj.options[e]=o,r=!0)}),r&&this.chartObj.render()}},{key:"isSameOptionValue",value:function(e,t){return y.isObject(e)&&y.isObject(t)?y.isSameObjectContent(e,t):String(e)===String(t)}},{key:"renderChart",value:function(){var e=this,t=this.resolveChartOptions(this.props),a={};t.renderAt=this.containerId,Object.keys(this.props).forEach(function(t){var n=t.match(/^fcEvent-.*/i);if(n&&"function"==typeof e.props[t]){var r=t.replace(/^fcEvent-/i,"");a[r]=e.props[t]}}),Object.keys(a).length>0&&(void 0===t.events?t.events=a:t.events=Object.assign(t.events,a)),this.chartObj=new this.FusionCharts(t),this.chartObj.render(),this.oldOptions=t,this.props.onRender&&"function"==typeof this.props.onRender&&this.props.onRender(this.chartObj)}},{key:"resolveChartOptions",value:function(e){var t=e.chartConfig?e.chartConfig:{},a=m.default.reduce(function(t,a){return t[a]=e[a],t},{});return Object.assign(a,t),y.isObject(a.dataSource)&&(a.dataSource=y.deepCopyOf(a.dataSource)),y.isObject(a.link)&&(a.link=y.deepCopyOf(a.link)),y.isObject(a.events)&&(a.events=Object.assign({},a.events)),a}},{key:"render",value:function(){return d.default.createElement("div",{className:this.props.className,id:this.containerId})}}]),t}(d.default.Component);t.default=b},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["type","id","width","height","dataFormat","dataSource","events","link","showDataLoadingMessage","showChartLoadingMessage","baseChartMessageFont","baseChartMessageFontSize","baseChartMessageColor","dataLoadStartMessage","dataLoadErrorMessage","dataInvalidMessage","dataEmptyMessage","typeNotSupportedMessage","loadMessage","renderErrorMessage","containerBackgroundColor","containerBackgroundOpacity","containerClassName","baseChartMessageImageHAlign","baseChartMessageImageVAlign","baseChartMessageImageAlpha","baseChartMessageImageScale","typeNotSupportedMessageImageHAalign","typeNotSupportedMessageImageVAlign","typeNotSupportedMessageImageAlpha","typeNotSupportedMessageImageScale","dataLoadErrorMessageImageHAlign","dataLoadErrorMessageImageVAlign","dataLoadErrorMessageImageAlpha","dataLoadErrorMessageImageScale","dataLoadStartMessageImageHAlign","dataLoadStartMessageImageVAlign","dataLoadStartMessageImageAlpha","dataLoadStartMessageImageScale","dataInvalidMessageImageHAlign","dataInvalidMessageImageVAlign","dataInvalidMessageImageAlpha","dataInvalidMessageImageScale","dataEmptyMessageImageHAlign","dataEmptyMessageImageVAlign","dataEmptyMessageImageAlpha","dataEmptyMessageImageScale","renderErrorMessageImageHAlign","renderErrorMessageImageVAlign","renderErrorMessageImageAlpha","renderErrorMessageImageScale","loadMessageImageHAlign","loadMessageImageVAlign","loadMessageImageAlpha","loadMessageImageScale"]},function(e,t){"use strict";function a(e){return null!==e&&"object"===("undefined"==typeof e?"undefined":i(e))}function n(e){return"function"==typeof e}function r(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n=Object.keys(e),o=0;o<n.length;o+=1){var s=n[o];if(a(e[s])&&a(t[s])){if(!r(e[s],t[s]))return!1}else if(e[s]!==t[s])return!1}return!0}function o(e){var t=void 0;return e===t}function s(e){return JSON.parse(JSON.stringify(e))}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.isObject=a,t.isCallable=n,t.isSameObjectContent=r,t.isUndefined=o,t.deepCopyOf=s},function(e,t){function a(e,t){var a=t||0,r=n;return[r[e[a++]],r[e[a++]],r[e[a++]],r[e[a++]],"-",r[e[a++]],r[e[a++]],"-",r[e[a++]],r[e[a++]],"-",r[e[a++]],r[e[a++]],"-",r[e[a++]],r[e[a++]],r[e[a++]],r[e[a++]],r[e[a++]],r[e[a++]]].join("")}for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=a},function(e,t){var a="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(a){var n=new Uint8Array(16);e.exports=function(){return a(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},function(e,t,a){function n(e,t,a){var n=t&&a||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null),e=e||{};var s=e.random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var i=0;i<16;++i)t[n+i]=s[i];return t||o(s)}var r=a(5),o=a(4);e.exports=n},function(t,a){t.exports=e},function(e,a){e.exports=t}])});